!function(){function e(o){var r=i[o];if(void 0!==r)return r.exports;var n=i[o]={id:o,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.exports}var t={1374:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=i(7441),s=r(o);s.i(n,"",!0),s.i(a,"",!0),s.push([e.id,".HYnKovBOyv{display:flex;flex-direction:row;align-items:center;padding:8px 10px;width:100%;height:42px;background:#3d7bf5;border-radius:0 0 20px 20px;position:absolute;top:0;left:0;box-sizing:border-box}.rnC{background:none}.yS5{display:flex;flex-direction:row;align-items:center;padding:5px 10px 5px 5px;grid-gap:4px;gap:4px;height:100%;background:#e4f2ff;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border-radius:999px;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;pointer-events:auto}.Gm6{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M16 7.99935C16 12.4173 12.4183 15.9987 8 15.9987C3.58172 15.9987 0 12.4173 0 7.99935C0 3.58143 3.58172 0 8 0C12.4183 0 16 3.58143 16 7.99935ZM13 7.99935C13 10.7605 10.7614 12.9989 8 12.9989C5.23858 12.9989 3 10.7605 3 7.99935C3 5.23815 5.23858 2.99976 8 2.99976C10.7614 2.99976 13 5.23815 13 7.99935Z' fill='url(%23paint0_linear_308_8267)'/%3E %3Cpath d='M8.00092 12.9994C10.7623 12.9994 13.0009 10.761 13.0009 7.99984C13.0009 5.23864 10.7623 3.00024 8.00092 3.00024C5.23949 3.00024 3.00092 5.23864 3.00092 7.99984C3.00092 10.761 5.23949 12.9994 8.00092 12.9994Z' fill='white'/%3E %3Cmask id='mask0_308_8267' style='mask-type:alpha' maskUnits='userSpaceOnUse' x='3' y='5' width='10' height='12'%3E %3Cpath d='M8.00315 10.4011C9.32859 10.4011 10.4031 9.3267 10.4031 8.00136C10.4031 6.67602 9.32859 5.60162 8.00315 5.60162C6.6777 5.60162 5.60321 6.67602 5.60321 8.00136C5.60321 9.3267 6.6777 10.4011 8.00315 10.4011Z' fill='%23FFDD13'/%3E %3Cpath d='M8.00162 11.0007C5.78756 11.0007 3.93131 12.4491 3.2735 14.4442C4.5985 15.4191 6.22975 16.0003 8.00162 16.0003C9.7735 16.0003 11.4047 15.4176 12.7297 14.4442C12.0719 12.4491 10.2157 11.0007 8.00162 11.0007Z' fill='%23FFDD13'/%3E %3C/mask%3E %3Cg mask='url(%23mask0_308_8267)'%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1.58563 17.0527H14.6832V1.51959H1.58563V17.0527Z' fill='url(%23paint1_linear_308_8267)'/%3E %3C/g%3E %3Cdefs%3E %3ClinearGradient id='paint0_linear_308_8267' x1='14.3333' y1='17.9985' x2='-4.0652' y2='-0.00149854' gradientUnits='userSpaceOnUse'%3E %3Cstop stop-color='%234643B9'/%3E %3Cstop offset='1' stop-color='%23498BFF'/%3E %3C/linearGradient%3E %3ClinearGradient id='paint1_linear_308_8267' x1='12.7978' y1='15.5336' x2='17.9478' y2='31.1347' gradientUnits='userSpaceOnUse'%3E %3Cstop stop-color='%2300B2FF'/%3E %3Cstop offset='0.567708' stop-color='%23498BFF'/%3E %3Cstop offset='1' stop-color='%233E3BA0'/%3E %3C/linearGradient%3E %3C/defs%3E %3C/svg%3E\");background-repeat:no-repeat;background-position:50%;height:100%;width:16px;flex-shrink:0}.jeWO8F{font-family:"+n.locals.AD_FONT+";font-weight:700;font-style:normal;font-size:11px;text-align:center;color:#414141}",""]),s.locals={AD_FONT:""+n.locals.AD_FONT,AD_FONT_WEIGHT:""+a.locals.AD_FONT_WEIGHT,SurveyHeader:"HYnKovBOyv",SurveyHeader_background_none:"rnC",SurveyHeader__adLabel:"yS5",SurveyHeader__adLabelIcon:"Gm6",SurveyHeader__adLabelText:"jeWO8F"},e.exports=s},7262:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".rlQpp{animation:none 0s ease 0s 1 normal none running;-webkit-backface-visibility:visible;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:none;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-fill:balance;grid-column-gap:normal;column-gap:normal;column-rule:medium none currentColor;column-span:1;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:serif;font-size:medium;font-style:normal;font-feature-settings:normal;font-variant:normal;font-weight:400;font-stretch:normal;line-height:normal;height:auto;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;left:auto;letter-spacing:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;-moz-tab-size:8;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto;all:initial;display:block;position:absolute;width:100%;height:100%;left:0;top:0;pointer-events:auto;visibility:hidden;overflow:hidden;z-index:0}",""]),r.locals={AdPodContainer:"rlQpp"},e.exports=r},3857:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,'.CWG0GtPs{box-sizing:border-box;width:100%;border-radius:12px;padding:var(--pc-card-inner-gap);position:relative;line-height:var(--pc-card-line-height);background:#fff;box-shadow:0 0 5px rgba(0,0,0,.17)}.CWG0GtPs .y5LL{position:absolute;top:0;right:0;bottom:0;left:0}.D942F34cY3{display:flex;max-height:calc(var(--pc-card-width)/2 - var(--pc-card-outer-gap)*2/2)}.cZfSCPzk9{--pc-card-image-size:calc(var(--pc-card-width) - var(--pc-card-outer-gap)*2 - var(--pc-card-inner-gap)*2);display:block;width:var(--pc-card-image-size);height:var(--pc-card-image-size);object-fit:cover;border-radius:8px}.D942F34cY3 .cZfSCPzk9{width:40%;height:calc(var(--pc-card-image-size)/2);max-height:100%;max-width:50%}@supports (aspect-ratio:1){.D942F34cY3 .cZfSCPzk9{aspect-ratio:1;width:auto}}.Xk9tpfW{margin:var(--pc-card-vertical-gap) 0}.D942F34cY3 .Xk9tpfW{margin-top:0;padding-left:8px;flex:1;min-width:0}.efbZk82cOz{display:flex;align-items:center;flex-wrap:wrap;font-size:var(--pc-card-price-font-size);height:calc(var(--pc-card-line-height)*1em);overflow:hidden;word-wrap:break-word}.hrc2{color:#000;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.D55Fqaw{display:flex;align-items:center;font-size:.73em;margin-left:6px;white-space:nowrap;height:100%}.IdfI{display:inline-block;background:#f65454;color:#fff;border-radius:6px;padding:.13em 4px}.fCJCTLPU2{color:#a3acbf;position:relative;display:inline-block;margin-left:6px}.fCJCTLPU2:after{content:"";left:0;top:50%;width:100%;height:1px;position:absolute;background:currentColor}.BjVoVbZp9J{color:rgba(32,53,96,.6);margin-top:var(--pc-card-vertical-gap);font-size:var(--pc-card-text-font-size);display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--pc-card-text-lines-count);line-clamp:var(--pc-card-text-lines-count);overflow:hidden}.wGAgYp .BjVoVbZp9J{-webkit-line-clamp:var(--pc-card-w-price-text-lines-count);line-clamp:var(--pc-card-w-price-text-lines-count)}',""]),r.locals={EcomProductCard:"CWG0GtPs",ClickThroughLink:"y5LL",EcomProductCard_horizontal:"D942F34cY3",EcomProductCard__Image:"cZfSCPzk9",EcomProductCard__Details:"Xk9tpfW",EcomProductCard__pricesContainer:"efbZk82cOz",EcomProductCard__price:"hrc2",EcomProductCard__oldPrice:"D55Fqaw",EcomProductCard__discount:"IdfI",EcomProductCard__oldPriceValue:"fCJCTLPU2",EcomProductCard__Text:"BjVoVbZp9J",EcomProductCard_withPrice:"wGAgYp"},e.exports=r},9759:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".BoGnL{display:flex}.RZkDnj96{height:100%}.em2b3{display:flex;align-items:center}.wWDG9y,.W5O7I9n{--pc-slide-to-offset:calc(var(--pc-area-width)/2 - var(--pc-card-width)*var(--pc-visible-items)/2);font:inherit;display:flex;justify-content:center;align-items:center;width:2.4em;height:2.4em;padding:10.75px 8px;border-radius:2.4em;border:none;background:#fff;color:#000;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.17)}.wWDG9y{transform:translateX(var(--pc-slide-to-offset))}.W5O7I9n{transform:translateX(calc(var(--pc-slide-to-offset)*-1))}.pF7lTBvi{width:100%}.AC9Rq{flex:1;min-width:0;display:flex;justify-content:center}.C2X1NQFArT{flex:1;max-width:calc(var(--pc-visible-items)*var(--pc-card-width));max-height:100%;display:flex;align-self:center;border-radius:12px;overflow:auto;scroll-behavior:smooth;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;scrollbar-width:none}.C2X1NQFArT::-webkit-scrollbar{display:none}.whQyHPs{justify-content:center}.YWtuP{display:flex;justify-content:center;box-sizing:border-box;width:var(--pc-card-width);min-width:var(--pc-card-width);padding:var(--pc-card-outer-gap);scroll-snap-align:start}",""]),r.locals={EcomProductsCarousel:"BoGnL",EcomProductsCarousel_useFullHeight:"RZkDnj96",EcomProductsCarousel__slideToContainer:"em2b3",EcomProductsCarousel__slideToLeft:"wWDG9y",EcomProductsCarousel__slideToRight:"W5O7I9n",EcomProductsCarousel__slideToIcon:"pF7lTBvi",EcomProductsCarousel__productCardsArea:"AC9Rq",EcomProductsCarousel__productCards:"C2X1NQFArT",EcomProductsCarousel__productCards_noScroll:"whQyHPs",EcomProductsCarousel__productCardContainer:"YWtuP"},e.exports=r},4873:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=i(9792),s=i(2840),l=r(o);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".A1t7DyTj,.A1t7DyTj *{font-family:"+n.locals.AD_FONT+";box-sizing:border-box}.A1t7DyTj{position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.5);padding:4px 10px 68px}.wWlsIT{transform:translateY(100%);opacity:0;animation:pdePBsSu var(--epc-show-animation-duration) ease-out;animation-fill-mode:forwards}@keyframes pdePBsSu{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.Ew5Z{text-align:right;padding-right:2.4em}.MAT{padding:0;color:#fff;background:none;border:none;font:inherit;cursor:pointer;opacity:1;visibility:visible;transition:"+a.locals.default_transition_duration+" opacity "+s.locals.default_transition_timing_function+","+a.locals.default_transition_duration+" visibility "+s.locals.default_transition_timing_function+"}.FBXFY2PY{visibility:hidden;opacity:0}.vm6o{height:24px;width:24px}",""]),l.locals={AD_FONT:""+n.locals.AD_FONT,default_transition_duration:""+a.locals.default_transition_duration,default_transition_timing_function:""+s.locals.default_transition_timing_function,EcomProductsPackshotScreen:"A1t7DyTj",EcomProductsPackshotScreen_withAnimation:"wWlsIT","show-ecom-products-packshot-screen":"pdePBsSu",EcomProductsPackshotScreen__closeButtonContainer:"Ew5Z",EcomProductsPackshotScreen__closeButton:"MAT",EcomProductsPackshotScreen__closeButton_hidden:"FBXFY2PY",EcomProductsPackshotScreen__closeIcon:"vm6o"},e.exports=l},1256:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=r(o);a.i(n,"",!0),a.push([e.id,".JV9gepkZ{display:inline-block;color:#000;font-size:16px;font-family:"+n.locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.iXUiC{padding:10px 16px;line-height:16px}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,HoneypotButton:"JV9gepkZ",HoneypotButton__content:"iXUiC"},e.exports=a},6383:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".GEfGYB7{background-color:#000;opacity:.5}",""]),r.locals={HoneypotOverlay:"GEfGYB7"},e.exports=r},5046:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".XrJJ3D11{position:relative}.rAjg{cursor:pointer}.kvo9eXu{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.YyzFIc{position:absolute;top:0;left:0}",""]),r.locals={HoneypotScreen:"XrJJ3D11",HoneypotScreen_clickable:"rAjg",HoneypotScreen__buttonWrapper:"kvo9eXu",HoneypotScreen__honeypotOverlayWrapper:"YyzFIc"},e.exports=r},675:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".sQLF5Lfq2h{word-wrap:break-word}.GYYZ{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}",""]),r.locals={HyphenedText:"sQLF5Lfq2h",HyphenedText__auto:"GYYZ"},e.exports=r},5432:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".y5LL{color:inherit;text-decoration:none;pointer-events:auto}.y5LL[data-pointer-events]{pointer-events:none}",""]),r.locals={ClickThroughLink:"y5LL"},e.exports=r},7480:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=r(o);a.i(n,"",!0),a.push([e.id,".uRydJ{display:inline-block;color:#000;font-size:16px;font-family:"+n.locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.q4mWM3d0L{padding:10px 16px;line-height:16px}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,PackshotButton:"uRydJ",PackshotButton__content:"q4mWM3d0L"},e.exports=a},4368:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".j0DSLHU{background-color:#000;opacity:.5}",""]),r.locals={PackshotOverlay:"j0DSLHU"},e.exports=r},3162:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=r(o);a.i(n,"",!0),a.push([e.id,".TrhNb3Ob{position:relative;color:#fff;font-family:"+n.locals.AD_FONT+"}.onqlwVIN{transform:translateY(100%);opacity:0;animation:VyIYtyN var(--cp-show-animation-duration) ease-out;animation-fill-mode:forwards}@keyframes VyIYtyN{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.r9rEz1LYf7{cursor:pointer}.wYUKiQn{position:absolute;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center}.xe6N{padding:4px 0;font-weight:700;cursor:pointer}.pZS,.xe6N{box-sizing:border-box;text-align:center;width:100%}.pZS{padding:0 0 4px}.lkGyTWxKBN{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.yBuA{justify-content:center;display:flex;margin:8px}.ECL{position:absolute;top:0;right:0;bottom:0;left:0}.BUJ{position:absolute;bottom:10px;display:flex;justify-content:center;width:100%}.SeAg{position:absolute;bottom:0;width:100%;padding:4px;opacity:.85}.nco5GmYGk{justify-content:left}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,PackshotScreen:"TrhNb3Ob",PackshotScreen_withAnimation:"onqlwVIN","show-classic-packshot-screen":"VyIYtyN",PackshotScreen_clickable:"r9rEz1LYf7",PackshotScreen__content:"wYUKiQn",PackshotScreen__title:"xe6N",PackshotScreen__body:"pZS",PackshotScreen__buttonWrapper:"lkGyTWxKBN",PackshotScreen__buttonWrapper_newDesign:"yBuA",PackshotScreen__packshotOverlayWrapper:"ECL",PackshotScreen__textBlock:"BUJ",PackshotScreen__textBlock_newDesgin:"SeAg",PackshotScreen__buttonWrapper_newDesign_float_left:"nco5GmYGk"},e.exports=a},7859:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".j0DSLHU{position:relative;height:100%;width:100%}.Y9W5{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%}.ZTYytiAN{background:#000;opacity:.5}.SIo{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}",""]),r.locals={PackshotOverlay:"j0DSLHU",PackshotOverlay__fullsize:"Y9W5",PackshotOverlay__background:"ZTYytiAN",PackshotOverlay__blur:"SIo"},e.exports=r},1884:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=r(o);a.i(n,"",!0),a.push([e.id,".qQwxP3{pointer-events:all;position:relative;color:#fff;font-family:"+n.locals.AD_FONT+";width:100%;height:100%;--cp-show-animation-duration:1s}.qQwxP3[data-hidden=true],.qQwxP3 [data-hidden=true]{display:none}.mMFfFc84{cursor:pointer}.jrytxfg{box-sizing:border-box;position:absolute;width:100%;height:100%;display:flex;flex-direction:column}.TQS7EbM8iq{display:flex;flex-direction:row;align-items:center;position:relative}.K9sZ2{height:16px;width:16px}.m2au{padding-left:6px;font-weight:700;font-size:14px;line-height:14px}.tzqh{overflow:hidden}.m0RdiOk{pointer-events:all;flex-grow:1;max-height:350px;min-height:40px}.hV332L{text-align:center}.Kje5{box-sizing:border-box;padding:4px 0;width:100%;font-weight:700;cursor:pointer;position:relative}.yHxuad8J{box-sizing:border-box;cursor:pointer;padding-bottom:4px;width:100%;opacity:.8;position:relative}.dLs79AERG{font-size:var(--fontsize);line-height:calc(var(--fontsize) + 4px)}.WRRF{position:absolute;top:6px;left:6px}.xxPIu{height:19px;width:19px;padding-left:5px}.EesIy{overflow:hidden;padding-top:6px;box-sizing:border-box;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.TxOHdV3fjn{box-sizing:border-box;position:relative;display:flex;justify-content:center;align-items:center;background:#3d7bf5;color:#fff;width:100%;height:40px;border-radius:8px;padding:0 8px;white-space:nowrap;font-size:15px}.eHCJ8PkM{position:absolute;top:0;right:0;bottom:0;left:0}.HQSA{box-sizing:border-box;position:relative;display:flex;justify-content:center;padding:6px;width:100%;min-height:30px}.nOI8b6{box-sizing:border-box;overflow:hidden;display:flex;flex-grow:1;flex-direction:column;pointer-events:none}.nOI8b6>*,.qQBab1jd>*{position:relative}.qQBab1jd{overflow:hidden;display:flex;flex-grow:1;flex-direction:column;justify-content:center}.ac6rqc{padding:0 60px 16px}.rCWBMzJ{padding:0 16px 6px}.hFt{cursor:pointer;display:flex;font-size:14px;line-height:19px}.KiWqQYth{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%}.RCm{animation:dvr4t1VkG var(--cp-show-animation-duration) ease}.RCm .HQSA{animation:Qou var(--cp-show-animation-duration) ease}.RCm .nOI8b6{animation:Kjprl var(--cp-show-animation-duration) ease}@keyframes dvr4t1VkG{0%{opacity:0}to{opacity:1}}@keyframes Qou{0%{transform:translateY(-100%)}75%{transform:translateY(5px)}to{transform:translateY(0)}}@keyframes Kjprl{0%{transform:translateY(100%)}75%{transform:translateY(-5px)}to{transform:translateY(0)}}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,VideoInComboPackshotScreen:"qQwxP3",VideoInComboPackshotScreen_clickable:"mMFfFc84",VideoInComboPackshotScreen__content:"jrytxfg",VideoInComboPackshotScreen__logoAndUrl:"TQS7EbM8iq",VideoInComboPackshotScreen__favicon:"K9sZ2",VideoInComboPackshotScreen__url:"m2au",VideoInComboPackshotScreen__titleBodyContainer:"tzqh",VideoInComboPackshotScreen__carouselSlot:"m0RdiOk",VideoInComboPackshotScreen__text_center:"hV332L",VideoInComboPackshotScreen__title:"Kje5",VideoInComboPackshotScreen__body:"yHxuad8J",VideoInComboPackshotScreen__calculatedFont:"dLs79AERG",VideoInComboPackshotScreen__adlabelContainer:"WRRF",VideoInComboPackshotScreen__RepeatIconContainer:"xxPIu",VideoInComboPackshotScreen__footer:"EesIy",VideoInComboPackshotScreen__CTAbutton:"TxOHdV3fjn",VideoInComboPackshotScreen__packshotOverlayWrapper:"eHCJ8PkM",VideoInComboPackshotScreen__PackshotHeader:"HQSA",VideoInComboPackshotScreen__PackshotMain:"nOI8b6",VideoInComboPackshotScreen__PackshotMainContent:"qQBab1jd",VideoInComboPackshotScreen__PackshotMainContent_padding_big:"ac6rqc",VideoInComboPackshotScreen__PackshotMainContent_padding_small:"rCWBMzJ",VideoInComboPackshotScreen__RepeatButton:"hFt",VideoInComboPackshotScreen__fullsize:"KiWqQYth",VideoInComboPackshotScreen_withAnimation:"RCm","packshot-slot-animation":"dvr4t1VkG","packshot-header-animation":"Qou","packshot-main-animation":"Kjprl"},e.exports=a},5817:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=i(5092),s=i(1307),l=r(o);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".dHhJI{display:inline-flex;align-items:center;height:15px;box-sizing:border-box;padding:0 6px;color:#b1b1b1;font-weight:400;font-size:6px;font-family:"+n.locals.AD_FONT+";line-height:normal;letter-spacing:.075em;text-transform:uppercase;text-decoration:none;text-shadow:0 2px 2px rgba(0,0,0,.1);background:rgba(38,38,38,.65);border-radius:24px;transform-origin:bottom left;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.POg{font-size:8px;height:17px}.eGC4{cursor:pointer}.J169Pj{margin:0 3px;font-weight:700;font-size:4px;line-height:1.5}.POg .J169Pj{font-size:6px}.S8Sguk{}.dHhJI.NPQ,.dHhJI.DkmpoTPPb{-webkit-backdrop-filter:none;backdrop-filter:none;text-shadow:none}.dHhJI.DkmpoTPPb{background:hsla(0,0%,100%,.8);color:#3a3c40}.dHhJI.NPQ{background:rgba(26,43,77,.4);color:#fff}.ZKao5{}",""]),l.locals={AD_FONT:""+n.locals.AD_FONT,AD_LABEL_SMALL_HEIGHT:""+a.locals.AD_LABEL_SMALL_HEIGHT,AD_LABEL_MIDDLE_HEIGHT:""+s.locals.AD_LABEL_MIDDLE_HEIGHT,AdLabel:"dHhJI",AdLabel_fullSize:"POg",AdLabel_clickable:"eGC4",AdLabel__delimiter:"J169Pj",AdLabel__ageLabel:"S8Sguk",AdLabel_dark:"NPQ",AdLabel_light:"DkmpoTPPb",AdLabel__domain:"ZKao5"},e.exports=l},7769:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".UhNxhwk{display:flex;align-items:center}",""]),r.locals={AdLabelsPanel:"UhNxhwk"},e.exports=r},9843:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".cHu27S{pointer-events:auto;display:block;position:relative;height:17px;width:17px;margin-left:3px;border-radius:20px;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}.Xbb4diy1{height:15px;width:15px;margin-left:2px}.cHu27S>svg{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}",""]),r.locals={BusinessUnitAdLabel:"cHu27S",BusinessUnitAdLabel_small:"Xbb4diy1"},e.exports=r},2935:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=r(o);a.i(n,"",!0),a.push([e.id,".zn8Plqup{height:100%;opacity:0}.Feh1l{opacity:1}.kvExLQR{height:calc(100% - var(--ctat-margin-top) - var(--ctat-margin-bottom));display:flex;align-items:center;justify-content:center;margin-left:var(--ctat-horizontal-margin);margin-right:var(--ctat-horizontal-margin);margin-top:var(--ctat-margin-top);position:relative;z-index:0}.NvjmCHn,.F3j{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff;font-family:"+n.locals.AD_FONT+";font-weight:600;text-shadow:0 0 16px rgba(0,0,0,.05),0 0 8px rgba(0,0,0,.05),0 4px 4px rgba(0,0,0,.05),0 2px 2px rgba(0,0,0,.05),0 1px 1px rgba(0,0,0,.05)}.Feh1l .F3j .Lfs9Ra{--ctat-animation-delay-line:calc(var(--ctat-animation-title-part-duration)*3*var(--stw-text-line-index));--ctat-animation-delay-third:calc(var(--ctat-animation-title-part-duration)*var(--stw-text-char-inside-line-third));--ctat-animation-overlap-char:calc(var(--ctat-animation-delay-third) + var(--ctat-animation-delay-line));animation-name:QCPD;animation-duration:var(--ctat-animation-title-part-duration);animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-overlap-char) + var(--ctat-animation-title-animation-show-delay));animation-fill-mode:both;animation-timing-function:ease-in-out;animation-play-state:var(--ctat-animation-playing-state)}@keyframes QCPD{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.NvjmCHn .U7RLSNaT,.F3j .U7RLSNaT{overflow:clip;pointer-events:auto}.Feh1l .F3j .U7RLSNaT{--ctat-animation-title-animation-enlarge-current-line-delay:calc(var(--ctat-animation-title-animation-enlargement-delay) + (var(--ctat-animation-title-animation-enlargement-duration) + var(--ctat-animation-title-enlargement-next-line-delay))*var(--stw-text-line-index));--ctat-animation-title-animation-hide-current-line-delay:calc(var(--ctat-animation-title-animation-hide-delay) + var(--ctat-animation-title-animation-hide-duration)*var(--stw-text-line-index));animation-name:PNDAnS8,hMXBlHJmbF;animation-duration:var(--ctat-animation-title-animation-enlargement-duration),var(--ctat-animation-title-animation-hide-duration);animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-title-animation-enlarge-current-line-delay)),calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-title-animation-hide-current-line-delay));animation-fill-mode:both,forwards;animation-timing-function:cubic-bezier(.35,0,.65,1),ease-in-out;animation-play-state:var(--ctat-animation-playing-state),var(--ctat-animation-playing-state)}@keyframes PNDAnS8{0%{transform:scale(1) translateY(0)}to{transform:scale(1.1) translateY(0)}}@keyframes hMXBlHJmbF{0%{transform:scale(1.1) translateY(0);opacity:1}99%{transform:scale(1.1) translateY(100%);opacity:0}to{transform:scale(1.1) translateY(9999px);opacity:0}}.Feh1l .NvjmCHn .U7RLSNaT{--ctat-animation-body-animation-show-current-line-delay:calc(var(--ctat-animation-body-animation-show-delay) + (var(--ctat-animation-body-animation-show-duration)*0.5 + var(--ctat-animation-body-animation-show-line-delay))*var(--stw-text-line-index));--ctat-animation-body-animation-enlargement-current-line-delay:calc(var(--ctat-animation-body-animation-enlargement-delay) + var(--ctat-animation-body-animation-show-duration)*var(--stw-text-line-index));animation-name:THJWr8z,j4H3Y3PM7;animation-duration:var(--ctat-animation-body-animation-show-duration),var(--ctat-animation-body-animation-enlargement-duration);animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-body-animation-show-current-line-delay)),calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-body-animation-enlargement-current-line-delay));animation-fill-mode:both,none;animation-timing-function:ease-in-out,ease-in-out;animation-play-state:var(--ctat-animation-playing-state),var(--ctat-animation-playing-state)}.Feh1l .NvjmCHn{z-index:0;animation-name:uwiaUUSj;animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-body-animation-show-delay));animation-duration:.1s;animation-timing-function:linear;animation-fill-mode:both}.Feh1l .F3j{z-index:1}@keyframes uwiaUUSj{0%{z-index:0}to{z-index:1}}@keyframes THJWr8z{0%{transform:translateY(9999px);opacity:0}1%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes j4H3Y3PM7{0%{transform:scale(1);letter-spacing:normal}33%{transform:scale(1.1);letter-spacing:.1em}to{transform:scale(1);letter-spacing:normal}}.dTQP{width:100%;height:100%;position:absolute;top:0;left:0;background-color:rgba(0,0,0,.1)}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,CallToActionText:"zn8Plqup",CallToActionText__animated:"Feh1l",CallToActionText__overlay:"kvExLQR",CallToActionText__body:"NvjmCHn",CallToActionText__title:"F3j",SplitTextLinesWrapper__char:"Lfs9Ra","title-char-reveal":"QCPD",SplitTextLinesWrapper__textLine:"U7RLSNaT","title-line-enlargement":"PNDAnS8","title-line-hide":"hMXBlHJmbF","body-line-show":"THJWr8z","body-line-enlargement":"j4H3Y3PM7","body-show":"uwiaUUSj",CallToActionTextContainer:"dTQP"},e.exports=a},6479:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=r(o);a.i(n,"",!0),a.push([e.id,".HfwonMU8o{position:absolute;box-shadow:0 10px 20px -4px rgba(0,0,0,.36);background-color:#2f2f32;border-radius:6px;font-family:"+n.locals.AD_FONT+";color:#fff;font-weight:400;font-size:13px;line-height:16px;letter-spacing:-.31px}.PpEbzQYkf{position:absolute;width:24px;height:8px}.PpEbzQYkf svg{position:absolute;left:0;top:0}.XKP7feZEL{display:flex}.PjRt{padding:5px 8px 7px}.CaLS{pointer-events:auto;padding:5px 5px 0 0}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,Tooltip:"HfwonMU8o",Tooltip__arrow:"PpEbzQYkf",Tooltip__body:"XKP7feZEL",Tooltip__text:"PjRt",Tooltip__closeContainer:"CaLS"},e.exports=a},7121:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".B62IWZ{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}",""]),r.locals={TooltipContainer:"B62IWZ"},e.exports=r},8866:function(e,t,i){var o=i(1907),r=i(6939),n=i(9792),a=i(2840),s=r(o);s.i(n,"",!0),s.i(a,"",!0),s.push([e.id,".kGPs9{--dot-translate-offset:6px;border-radius:16px;cursor:pointer}.kGPs9:not(.z1rvr99){--icon-bgcolor:rgba(35,37,38,0.1);--icon-bgcolor-hover:rgba(35,37,38,0.4);transition:"+n.locals.default_transition_duration+" background-color "+a.locals.default_transition_timing_function+";will-change:background-color}.z1rvr99{}.kGPs9:not(.BQ2Ad0Bv8),.BQ2Ad0Bv8{background-color:var(--icon-bgcolor)}.kGPs9:not(.BQ2Ad0Bv8):hover,.BQ2Ad0Bv8:hover{background-color:var(--icon-bgcolor-hover)}.OQzeXR{transform:translate(calc(var(--dot-translate-offset)*2),calc(var(--dot-translate-offset)*2));will-change:transform}.arkKgJ{transform:rotate(45deg);opacity:0}.OKijKsph,.arkKgJ{transition:"+n.locals.default_transition_duration+" transform "+a.locals.default_transition_timing_function+","+n.locals.default_transition_duration+" opacity "+a.locals.default_transition_timing_function+";will-change:transform,opacity}.BQ2Ad0Bv8 .OKijKsph{opacity:0}.BQ2Ad0Bv8 .arkKgJ{opacity:1}.BQ2Ad0Bv8 .F7PS{transform:translateY(var(--dot-translate-offset))}.BQ2Ad0Bv8 .ixat1vPP{transform:translateY(calc(0 - var(--dot-translate-offset)))}.BQ2Ad0Bv8 .x7IDIclS{transform:rotate(0deg)}.BQ2Ad0Bv8 .zDm{transform:rotate(90deg)}",""]),s.locals={default_transition_duration:""+n.locals.default_transition_duration,default_transition_timing_function:""+a.locals.default_transition_timing_function,AbuseAnimationIcon:"kGPs9",AbuseAnimationIcon_background_none:"z1rvr99",AbuseAnimationIcon_cross:"BQ2Ad0Bv8",AbuseAnimationIcon__lines:"OQzeXR",AbuseAnimationIcon__line:"arkKgJ",AbuseAnimationIcon__dot:"OKijKsph",AbuseAnimationIcon__dot_top:"F7PS",AbuseAnimationIcon__dot_bottom:"ixat1vPP",AbuseAnimationIcon__line_left:"x7IDIclS",AbuseAnimationIcon__line_right:"zDm"},e.exports=s},2020:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=i(7441),s=i(1154),l=r(o);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".OI34{display:inline-block;color:#000;font-weight:"+a.locals.AD_FONT_WEIGHT+";font-size:16px;font-family:"+n.locals.AD_FONT+";cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jpGReIgU{cursor:pointer}.ejYiM{text-decoration:none}.ANHK{display:flex;align-items:center;height:"+s.locals.small_button_height+";opacity:.6}.jpGReIgU .ANHK{opacity:.915}.jpGReIgU:hover .ANHK{opacity:1}.imG{padding:4px;pointer-events:auto}",""]),l.locals={AD_FONT:""+n.locals.AD_FONT,AD_FONT_WEIGHT:""+a.locals.AD_FONT_WEIGHT,small_button_height:""+s.locals.small_button_height,Button:"OI34",Button_active:"jpGReIgU",Button_link:"ejYiM",Button__content:"ANHK",Button__clickable:"imG"},e.exports=l},5050:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".E4WHOKuK{position:absolute;bottom:0;left:0;width:100%;height:88px;background-image:linear-gradient(-180deg,transparent,rgba(0,0,0,.3) 35%,rgba(0,0,0,.6) 99%);pointer-events:none;transition:opacity .3s ease-in-out}.Xq9su1fzu{opacity:0}",""]),r.locals={ControlsBottomShadow:"E4WHOKuK",ControlsBottomShadow_hidden:"Xq9su1fzu"},e.exports=r},1796:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".V4FGYOCd{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));width:26px;height:24px}.QKIgrV2bH{width:100%;height:100%}",""]),r.locals={MuteIcon:"V4FGYOCd",MuteIcon_Fill:"QKIgrV2bH"},e.exports=r},4115:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,"@keyframes BLIUQ2I9{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.mL1HT{animation-name:BLIUQ2I9;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite}",""]),r.locals={SpinnerIcon__css_animated:"mL1HT",spin:"BLIUQ2I9"},e.exports=r},5751:function(e,t,i){var o=i(1907),r=i(6939),n=i(1154),a=i(4430),s=r(o);s.i(n,"",!0),s.i(a,"",!0),s.push([e.id,".GDU{font-size:18px}.GDU .iLWvSGT{height:"+n.locals.middle_button_height+"}.IYQ{color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.1)}.IYQ .WPI{position:relative;background-color:"+a.locals.button_inactive_background_color+";border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.dSLWbDh .WPI{background-color:"+a.locals.button_active_background_color+"}.IYQ.dSLWbDh:hover .WPI{background-color:"+a.locals.button_hovered_background_color+"}.dSLWbDh .ANHK{opacity:1}",""]),s.locals={middle_button_height:""+n.locals.middle_button_height,button_active_background_color:""+a.locals.button_active_background_color,button_hovered_background_color:""+a.locals.button_hovered_background_color,button_inactive_background_color:""+a.locals.button_inactive_background_color,SquareButton_fullSize:"GDU",SquareButton__basecontent:"iLWvSGT",SquareButton:"IYQ",SquareButton__basebutton:"WPI",SquareButton_active:"dSLWbDh",Button__content:"ANHK"},e.exports=s},1172:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".yTa{width:100%;transform-origin:0;will-change:transform}.yTa,.y1gj9q{position:absolute;height:2px}.fZdp5YGIc{background-color:#ff1a2d;transform:scaleX(0)}.xEy{background-color:#cdcdcd;transform:scaleX(1)}",""]),r.locals={TimelineBar:"yTa",TimelineBar__container:"y1gj9q",TimelineBar__progress:"fZdp5YGIc",TimelineBar__background:"xEy"},e.exports=r},1197:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".DRtHHj{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));width:26px;height:24px}.Zhb0OmzR{width:100%;height:100%}",""]),r.locals={UnmuteIcon:"DRtHHj",UnmuteIcon_Fill:"Zhb0OmzR"},e.exports=r},1155:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".mo0stbwoOf{}",""]),r.locals={AbuseContainer:"mo0stbwoOf"},e.exports=r},7486:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=i(9792),s=i(2840),l=r(o);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".F2QN8CP6{position:absolute;z-index:1;box-sizing:border-box;overflow:hidden;background-color:#fff;opacity:0;transition:"+a.locals.default_transition_duration+" opacity "+s.locals.default_transition_timing_function+","+a.locals.default_transition_duration+" height "+s.locals.default_transition_timing_function+";pointer-events:none;will-change:opacity,height}.F2QN8CP6:not(.SN20zC){visibility:hidden}.SN20zC{opacity:1;pointer-events:auto}.F2QN8CP6:not(.PEAT34mimP){top:36px;right:4px;width:240px;border-radius:16px;box-shadow:4px 4px 40px rgba(0,21,64,.22)}.PEAT34mimP{top:0;right:0;bottom:0;left:0}.fKlA{box-sizing:border-box;padding:8px}.PEAT34mimP .fKlA{height:100%;overflow:auto}.wDIKVrMy{display:flex;align-items:center;height:36px}.Kt8suQ7{box-sizing:border-box;width:100%;height:112px;padding:8px 12px;color:#575c66;font-size:14px;font-family:"+n.locals.AD_FONT+";line-height:20px;background-color:#f4f6fb;border-color:transparent;border-radius:3px;outline:none;resize:none;pointer-events:auto}.Kt8suQ7:focus{border-color:#498bff}.hpGS0kFJJ7{margin-top:8px;background-color:#498bff;border-radius:8px}.hpGS0kFJJ7:hover{background-color:#2e71e5}.dlYnAK{justify-content:center;height:26px;color:#fff;font-weight:400;line-height:20px}.AVZT6Y{padding:8px;color:#3a3d40}.dlYnAK,.df6CLzQv,.AVZT6Y{font-size:15px}.df6CLzQv{color:#a3acbf;line-height:16px;word-break:break-word}.df6CLzQv,.AVZT6Y{font-weight:600;font-family:"+n.locals.AD_FONT+";line-height:16px}.AhMwD .df6CLzQv,.KMKHCtsdH .df6CLzQv{padding:10px 8px}.ffh0Sn6GN .df6CLzQv{margin-right:15px;margin-left:10px}.erbn0MF{display:flex;align-items:center;justify-content:center;width:28px;height:28px;margin-right:2px;margin-left:2px;border-radius:50%;cursor:pointer;transition:"+a.locals.default_transition_duration+" background-color "+s.locals.default_transition_timing_function+";pointer-events:auto}.erbn0MF:hover{background-color:#f4f8ff}.mRyxJT{display:flex;flex-direction:column}.dVOAymHw{max-height:70px;margin:8px;overflow-y:auto;color:#a3acbf;font-size:11px;font-family:"+n.locals.AD_FONT+";line-height:14px;white-space:pre-line}.PEAT34mimP .dVOAymHw{margin-right:18px}.PEAT34mimP .mRyxJT{height:calc(100% - 36px);min-height:120px}.PEAT34mimP .ffh0Sn6GN,.PEAT34mimP .Kt8suQ7{height:100%}",""]),l.locals={AD_FONT:""+n.locals.AD_FONT,default_transition_duration:""+a.locals.default_transition_duration,default_transition_timing_function:""+s.locals.default_transition_timing_function,AbuseDisplay:"F2QN8CP6",AbuseDisplay_visible:"SN20zC",AbuseDisplay_fullSize:"PEAT34mimP",AbuseDisplay__content:"fKlA",AbuseDisplay__customReasonDisplayHeader:"wDIKVrMy",AbuseDisplay__customReasonDisplayTextarea:"Kt8suQ7",AbuseDisplay__customReasonDisplayButton:"hpGS0kFJJ7",AbuseDisplay__customReasonDisplayButtonContent:"dlYnAK",AbuseDisplay__text:"AVZT6Y",AbuseDisplay__hint:"df6CLzQv",AbuseDisplay__complaintDisplay:"AhMwD",AbuseDisplay__hideDisplay:"KMKHCtsdH",AbuseDisplay__customReasonDisplay:"ffh0Sn6GN",AbuseDisplay__arrowLeftIcon:"erbn0MF",AbuseDisplay__messageBox:"mRyxJT",AbuseDisplay__legal:"dVOAymHw"},e.exports=l},8561:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=r(o);a.i(n,"",!0),a.push([e.id,".QpIKs3n7Y{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;background:#f4f6fb;pointer-events:none}.NRCL{justify-content:center}.odSq{justify-content:left}.odSq .kYIQ6pfrxS{max-width:200px;margin-left:20px}.NRCL .kYIQ6pfrxS{text-align:center}.jdBO{color:#3a3d40;font-weight:600;font-size:16px;font-family:"+n.locals.AD_FONT+";line-height:22px}.YRy{margin-top:8px;color:#a3acbf;font-size:14px;font-family:"+n.locals.AD_FONT+";line-height:20px}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,AbusePlaceholder:"QpIKs3n7Y",AbusePlaceholder_place_center:"NRCL",AbusePlaceholder_place_left:"odSq",AbusePlaceholder__container:"kYIQ6pfrxS",AbusePlaceholder__text:"jdBO",AbusePlaceholder__hint:"YRy"},e.exports=a},8237:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=r(o);a.i(n,"",!0),a.push([e.id,".cfUAf3Hx0F{font-family:"+n.locals.AD_FONT+";padding:0 6px;display:grid;grid-template-columns:fit-content(1ch) 1fr fit-content(1ch);align-items:end;font-size:var(--ctalc-font-size);color:#fff}.cfUAf3Hx0F .sX2B4DY1 .E0wcIa{padding:4px 4px 4px 10px}.IymTtoMWy0{font-size:var(--ctalc-skip-button-font-size)}.mHHtjKt .sX2B4DY1{grid-column:1/2}.bdvV{height:100%}.mHHtjKt .bdvV{grid-column:2}.mHHtjKt .IymTtoMWy0{grid-column:3/4}.noA3k .sX2B4DY1{grid-row:2;grid-column:1/2}.noA3k .IymTtoMWy0{grid-row:2;grid-column:3/4}.noA3k .bdvV{grid-row:1;grid-column:1/2}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,CallToActionControls:"cfUAf3Hx0F",CallToActionControls_SkinActionPanel:"sX2B4DY1",ActionPanel__clickableLayer:"E0wcIa",CallToActionControls__SkipButton:"IymTtoMWy0",CallToActionControls_oneLine:"mHHtjKt",CallToActionControls_SkinProductsPackshotButton:"bdvV",CallToActionControls_twoLines:"noA3k"},e.exports=a},7012:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".oTxrxQJ{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}",""]),r.locals={CenterControls:"oTxrxQJ"},e.exports=r},873:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,'.dHRwDH{padding-top:4px;display:flex;margin:0 16px 7px;letter-spacing:.01em;pointer-events:auto;color:#fff;opacity:.85;text-shadow:0 0 4px rgba(0,0,0,.75);font-size:12px;white-space:nowrap;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dHRwDH>:not(:last-child):after{content:"\u2022";padding:0 .3em}',""]),r.locals={Backpack:"dHRwDH"},e.exports=r},4647:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".aVBdW4fjf{pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}",""]),r.locals={BackpackAdLabel:"aVBdW4fjf"},e.exports=r},2392:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".fH2VA0{}",""]),r.locals={BackpackAdSequence:"fH2VA0"},e.exports=r},2219:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,'.Ju2EmPBn{position:relative;display:flex;flex-flow:column nowrap;z-index:0;height:100%;overflow:visible;justify-content:flex-end}.Ju2EmPBn:before{z-index:-1;content:"";position:absolute;top:0;right:0;bottom:0;left:0;background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.004) 6.67%,rgba(0,0,0,.018) 13.33%,rgba(0,0,0,.04) 20%,rgba(0,0,0,.073) 26.67%,rgba(0,0,0,.115) 33.33%,rgba(0,0,0,.165) 40%,rgba(0,0,0,.221) 46.67%,rgba(0,0,0,.278) 53.33%,rgba(0,0,0,.334) 60%,rgba(0,0,0,.384) 66.67%,rgba(0,0,0,.426) 73.33%,rgba(0,0,0,.459) 80%,rgba(0,0,0,.482) 86.67%,rgba(0,0,0,.495) 93.33%,rgba(0,0,0,.5));opacity:.65}.pmV:before{content:none}.Udd7aVD.Ju2EmPBn:before{top:30px}.L8c1O3E{opacity:1;transition:none}.Udd7aVD .L8c1O3E{order:-1;opacity:.01;transition:opacity .3s ease-in-out,order 0s .3s}.ZIcv{margin:0 16px;transition:none}.Udd7aVD .ZIcv,.yaEemZKp2 .ZIcv{margin:0;transition:margin 0s .3s}.Ju2EmPBn .Ubdz3{width:35px;height:35px;padding-right:2px}.OB0Go{display:flex;justify-content:space-between;align-items:flex-end}',""]),r.locals={ControlPanel:"Ju2EmPBn",ControlPanel_withoutShadow:"pmV",ControlPanel_minimized:"Udd7aVD",ControlPanel__controls:"L8c1O3E",ControlPanel__timeLine:"ZIcv",ControlPanel_small:"yaEemZKp2",ControlPanel__fullscreenButton:"Ubdz3",ControlPanel__backpackLine:"OB0Go"},e.exports=r},8409:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".o1KiXc{width:43px;height:43px;display:flex;align-items:center;justify-content:center;cursor:pointer;pointer-events:auto}.ztix7{cursor:default}.o1KiXc svg{fill:#fff;opacity:.85;width:40px;height:44px}.ztix7 svg{opacity:.5}.o1KiXc:hover svg{opacity:1}.ztix7:hover svg{opacity:.5}",""]),r.locals={ControlPanelButton:"o1KiXc",ControlPanelButton_disabled:"ztix7"},e.exports=r},8265:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".gWrExL1H4k{display:flex;padding:0 16px;pointer-events:auto}.I9pIiFFV8{position:static}.qvDXRcWDk{margin-left:auto}",""]),r.locals={ControlPanelControls:"gWrExL1H4k",ControlPanelControls__playButton:"I9pIiFFV8",ControlPanelControls__fullscreenButton:"qvDXRcWDk"},e.exports=r},4311:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".xmlutq svg{height:20px;width:20px}",""]),r.locals={ControlPanelFullscreenButton:"xmlutq"},e.exports=r},6535:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".L0RCdBGK{cursor:pointer;display:flex}.CjvF{will-change:width;width:0;height:43px;position:relative;overflow:hidden;transition:width .2s ease-out}.Iqi8bf .CjvF{width:48px}.LqEj7w{position:absolute;left:0;right:0;top:50%;box-shadow:0 0 1px 0 rgba(0,0,0,.75);height:2px;background:#fff;transform:translateY(-50%);opacity:.5}.EK2H3{position:absolute;top:0;bottom:0;left:0;width:calc(100% - 10px)}.hOSa8{position:absolute;background:#fff;width:10px;height:10px;border-radius:5px;top:50%;transform:translateY(-50%);will-change:left}",""]),r.locals={ControlPanelSoundButton:"L0RCdBGK",ControlPanelSoundButton__SliderContainer:"CjvF",ControlPanelSoundButton_opened:"Iqi8bf",ControlPanelSoundButton__SliderContainerLiner:"LqEj7w",ControlPanelSoundButton__SliderContainerThumbContainer:"EK2H3",ControlPanelSoundButton__SliderContainerThumb:"hOSa8"},e.exports=r},9740:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".BpNzj{position:relative;height:0}.buNXmZsh{position:absolute;height:3px;left:0;width:100%;bottom:0;background-color:rgba(0,0,0,.2);display:flex}.kK6E{width:100%;border-radius:3px;border-bottom-left-radius:0;border-top-left-radius:0;background-color:#f8cc46}.iHfZE{border-radius:0}",""]),r.locals={ControlPanelTimeLine_container:"BpNzj",ControlPanelTimeLine:"buNXmZsh",ControlPanelTimeLine__bar:"kK6E",ControlPanelTimeLine__bar_full:"iHfZE"},e.exports=r},6719:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=i(1154),s=r(o);s.i(n,"",!0),s.i(a,"",!0),s.push([e.id,".OBZ2{font-family:"+n.locals.AD_FONT+";font-size:var(--new-skin-font-size);color:#fff;position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;display:grid;grid-template-rows:auto 1fr auto auto auto;grid-template-columns:auto auto 1fr auto 35px}.BUdMs8d{grid-template-rows:auto 1fr auto auto 10%}.Uor1webW{grid-row:1;grid-column:1;padding:4px 0 0 4px}.hG8e{grid-row:1;grid-column:1/5}.XM9{grid-row:1;grid-column:1}.SkJ65zL5{text-align:right}.R0LfmIB{grid-row:4;grid-column:4/6;font-size:var(--new-skin-skip-button-font-size);padding-right:6px;align-self:flex-end}.Hlb8Lw8yA9 .M9OriG9D{padding-top:0;padding-bottom:0}.Hlb8Lw8yA9 .dmk1qm{height:"+a.locals.small_button_height+"}.Iaoe{grid-row:2;grid-column:1/6;padding:10px 36px;overflow:hidden;position:relative}.WQBuiticd{pointer-events:auto}.VBelatNQ .Iaoe,.Dsa8aCiuqA .Iaoe,.Dsa8aCiuqA.VBelatNQ .Iaoe{grid-row:2;grid-column:1/6;padding:10px 20px}.b7gVOKXH5I{grid-row:4;grid-column:1;padding:6px 0 4px 16px;overflow:hidden}.Hlb8Lw8yA9 .b7gVOKXH5I{padding-top:0;padding-left:6px;padding-bottom:0;align-self:flex-end}.DsP2nhLaKK{grid-row:4;grid-column:1;padding:6px 0 4px 16px;height:4em}.Hlb8Lw8yA9 .DsP2nhLaKK{height:auto;padding-left:6px}.b7gVOKXH5I+.DsP2nhLaKK{grid-column:2}.VBelatNQ .b7gVOKXH5I+.DsP2nhLaKK{grid-row:4;grid-column:2}.Dsa8aCiuqA.VBelatNQ .b7gVOKXH5I+.DsP2nhLaKK{grid-row:3;grid-column:1;align-self:flex-end}.Oco96Xgcx{grid-row:5;grid-column:1/6}.RiEtXZj{position:absolute;right:0;bottom:0;left:0}.dTQP .zn8Plqup{overflow:hidden}",""]),s.locals={AD_FONT:""+n.locals.AD_FONT,small_button_height:""+a.locals.small_button_height,NewSkin:"OBZ2",NewSkin_CtaAlwaysOnTenPercentOverBottom:"BUdMs8d",NewSkin__AdLabelContainer:"Uor1webW",NewSkin__TopControlsContainer:"hG8e",NewSkin_TopMuteButtonContainer:"XM9",NewSkin_TopMuteButtonContainer_rightPosition:"SkJ65zL5",NewSkin__SkipButtonContainer:"R0LfmIB",NewSkin_smallControls:"Hlb8Lw8yA9",SkipButton:"M9OriG9D",SkipButton__clickable:"dmk1qm",NewSkin__ProductsPackshotContainer:"Iaoe",NewSkin__ProductsPackshotContainer_visible:"WQBuiticd",NewSkin_twoControlLines:"VBelatNQ",NewSkin_vertical:"Dsa8aCiuqA",NewSkin__CtaContainer:"b7gVOKXH5I",NewSkin__ProductsPackshotButton:"DsP2nhLaKK",NewSkin_BottomControlsContainer:"Oco96Xgcx",NewSkin__DisclaimerContainer:"RiEtXZj",CallToActionTextContainer:"dTQP",CallToActionText:"zn8Plqup"},e.exports=s},8315:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".FKI563{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}.QGp1gP5Cl9{position:absolute;top:0;right:0;bottom:0;left:0;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);background-color:rgba(0,0,0,.2);display:grid;align-items:center;justify-items:center;place-items:center;pointer-events:auto;filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}.QGp1gP5Cl9 svg{fill:#fff;width:40px;height:43px}.cz5uxU2bi{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:auto}",""]),r.locals={OverlayLayer__spinnerContainer:"FKI563",OverlayLayer__playButtonContainer:"QGp1gP5Cl9",OverlayLayer__pauseContainer:"cz5uxU2bi"},e.exports=r},9931:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".aW6{display:flex}.aW6 .dk0tWX{margin-left:auto}.aW6 .BlI08{width:32px;height:32px;padding:2px}.aW6 .BlI08 svg{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#f2f2f2;opacity:1}",""]),r.locals={TopControlsLayer:"aW6",TopControlsLayer__skipButton:"dk0tWX",TopControlsLayer__playButton:"BlI08"},e.exports=r},1209:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".VJ7u7Q{pointer-events:auto;position:absolute;top:0;right:0;bottom:0;left:0}",""]),r.locals={UnderlyingLayer:"VJ7u7Q"},e.exports=r},9997:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".V0Mv4q2{width:40px;height:44px;cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;padding:0;border:0;background-color:transparent;outline:0;outline-offset:-2px;overflow:visible;opacity:.85}.kx0FKwX8{opacity:.5}.V0Mv4q2:not(.kx0FKwX8):hover{opacity:1}",""]),r.locals={PlayerButtonMimic:"V0Mv4q2",PlayerButtonMimic_disabled:"kx0FKwX8"},e.exports=r},8183:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".FWBXSzPd{position:absolute;left:0;right:0;bottom:0;display:flex;flex-flow:column nowrap}",""]),r.locals={PlayerLikeBottomControls:"FWBXSzPd"},e.exports=r},6515:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".Z0ViG{padding:0 10px;position:relative;display:flex;justify-content:space-between;align-items:stretch;pointer-events:auto;opacity:1;transition:opacity .3s ease-in-out}.J2f{opacity:0}.x1jiAghM{display:flex}.ry8Bglbr2h{display:flex;margin-left:auto}",""]),r.locals={PlayerLikeControlLine:"Z0ViG",PlayerLikeControlLine_hidden:"J2f",PlayerLikeControlLine__leftButtons:"x1jiAghM",PlayerLikeControlLine__rightButtons:"ry8Bglbr2h"},e.exports=r},3030:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".RDI1fp{width:100%;height:16px;pointer-events:none;position:relative;margin-bottom:-4px;opacity:1;transition:opacity .1s ease-in-out}.Kw4ng{opacity:0}.kUXNJy5{position:absolute;left:10px;right:10px;top:0;bottom:0}.mGMMJD{position:absolute;overflow:hidden;top:10px;height:4px;width:100%;transform:scaleY(.5) translateX(0);transition-property:transform;transition-duration:.2s;will-change:transform;box-shadow:0 1px 1px 1px rgba(0,0,0,.1)}.uxNNbt4{border-radius:5px 5px 4.9px;transform:scaleY(1)}.Fr7b55oP{width:100%;position:absolute;top:0;right:0;bottom:0;left:0;background-color:#fff;opacity:.4}.nmU4sNcub{width:100%;position:absolute;top:0;bottom:0;left:0;transform-origin:0;background:#fc0}",""]),r.locals={PlayerLikeTimeline:"RDI1fp",PlayerLikeTimeline_hidden:"Kw4ng",PlayerLikeTimeline__innerContainer:"kUXNJy5",PlayerLikeTimeline__backgroundTrack:"mGMMJD",PlayerLikeTimeline__backgroundTrack_mobile:"uxNNbt4",PlayerLikeTimeline__background:"Fr7b55oP",PlayerLikeTimeline__timeLine:"nmU4sNcub"},e.exports=r},4483:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=i(1154),s=r(o);s.i(n,"",!0),s.i(a,"",!0),s.push([e.id,".ROzX{font-family:"+n.locals.AD_FONT+";font-size:var(--skin-font-size);color:#fff;position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;display:grid;grid-template-rows:auto 1fr auto auto auto auto;grid-template-columns:auto auto 1fr auto}.iYzBVsXjz{grid-row:1;grid-column:1;padding:4px 0 0 4px;justify-self:flex-start}.RWU{grid-row:4;grid-column:4;font-size:var(--skin-skip-button-font-size);padding-right:6px;align-self:end}.oQtF .M9OriG9D{padding-top:0;padding-bottom:0}.oQtF .dmk1qm{height:"+a.locals.small_button_height+"}.aSn{grid-row:2;grid-column:1/5;padding:0 36px;overflow:hidden}.LVEeVGigy9 .aSn{grid-column:1/5}.NucD8e08B .aSn,.NucD8e08B.LVEeVGigy9 .aSn{grid-row:2/3;grid-column:1/5;padding:10px}.YEXlAJ{pointer-events:auto}.NucD8e08B .MfxFSlBO{max-width:unset;margin:unset}.CntcyxCDP{grid-row:4;grid-column:1;padding:6px 0 4px 10px;overflow:hidden}.oQtF .CntcyxCDP{padding-top:0;padding-bottom:0;padding-left:6px;align-self:flex-end}.K9O{grid-row:4;grid-column:1;padding:6px 0 4px 10px;height:4em}.oQtF .K9O{height:auto}.CntcyxCDP+.K9O{grid-column:2}.NucD8e08B.LVEeVGigy9 .CntcyxCDP+.K9O{grid-row:3;grid-column:1}.L4KLFtLP1H{grid-row:5;grid-column:1/5;padding:2px 6px 10px;display:flex;align-items:flex-end;flex-wrap:wrap}.BCDgfyP{width:100%;margin-bottom:2px;margin-top:-2px}.BCDgfyP .hD8D{padding:4px}.L8R5X5bwfI{order:1;flex:1;margin:0}.L8R5X5bwfI .hD8D{padding:4px 10px}.P0PsDEjutr{grid-row:6;grid-column:1/5;min-height:6px}.ukYFwu{grid-row:6;grid-column:1/5}.dTQP .zn8Plqup{overflow:hidden}",""]),s.locals={AD_FONT:""+n.locals.AD_FONT,small_button_height:""+a.locals.small_button_height,Skin:"ROzX",Skin__AdLabelContainer:"iYzBVsXjz",Skin__SkipButtonContainer:"RWU",Skin_smallControls:"oQtF",SkipButton:"M9OriG9D",SkipButton__clickable:"dmk1qm",Skin__ProductsPackshotContainer:"aSn",Skin_twoControlLines:"LVEeVGigy9",Skin_vertical:"NucD8e08B",Skin__ProductsPackshotContainer_visible:"YEXlAJ",Skin__ProductsPackshotContainer_singleVisibleItem:"MfxFSlBO",Skin__CtaContainer:"CntcyxCDP",Skin__ProductsPackshotButton:"K9O",Skin__MuteButtonAndSubtitlesContainer:"L4KLFtLP1H",Skin__SubtitlesContainer:"BCDgfyP",Subtitles__container:"hD8D",Skin__SubtitlesContainer_bottom:"L8R5X5bwfI",Skin__DisclaimerContainer:"P0PsDEjutr",Skin__VideoInComboControlsContainer:"ukYFwu",CallToActionTextContainer:"dTQP",CallToActionText:"zn8Plqup"},e.exports=s},4061:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=i(4430),s=r(o);s.i(n,"",!0),s.i(a,"",!0),s.push([e.id,".hD8D{display:flex;flex-flow:column nowrap;padding:4px 10px;overflow:hidden;font-size:16px;font-family:"+n.locals.AD_FONT+";letter-spacing:0;text-shadow:0 2px 2px rgba(0,0,0,.1)}.GgpF{margin:2px auto 0;padding:.25em;color:#fff;white-space:pre-wrap;text-align:center;background-color:"+a.locals.button_active_background_color+";border-radius:4px}",""]),s.locals={AD_FONT:""+n.locals.AD_FONT,button_active_background_color:""+a.locals.button_active_background_color,Subtitles__container:"hD8D",Subtitles__subtitle:"GgpF"},e.exports=s},4499:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".R5GjiiMo{padding:4px}.R5GjiiMo .eOPLpk{position:absolute;top:0;right:35px}",""]),r.locals={TopControls:"R5GjiiMo",TopControls__skinButton:"eOPLpk"},e.exports=r},1895:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".z1O{display:flex;align-items:flex-end;min-height:48px}.r71Jz{position:relative}.Rh9{visibility:visible;opacity:1}.dkSfP{visibility:hidden;opacity:0;transition:visibility 0s .3s,opacity .3s ease-in-out}.XygLothB{visibility:visible;opacity:1}.KFDBl9{visibility:hidden;opacity:0;transition:visibility 0s .3s,opacity .3s ease-in-out}.dkSfP .aun,.Rh9 .aun{padding:10px 10px 4px 21px}",""]),r.locals={VideoInComboControls:"z1O",DisclaimerContainer:"r71Jz",ComboVideoControlsMuteAndTimelineWithHoverEffects_visible:"Rh9",ComboVideoControlsMuteAndTimelineWithHoverEffects_hidden:"dkSfP",ComboVideoControls__controlsBottomShadow_visible:"XygLothB",ComboVideoControls__controlsBottomShadow_hidden:"KFDBl9",MuteUnmuteButtonWithoutBackground:"aun"},e.exports=r},8971:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".egnzWGsuGZ{position:absolute;top:4px;right:4px;width:24px;height:24px;cursor:pointer;pointer-events:auto}.XAsw5lr1BQ{z-index:2}",""]),r.locals={AbuseBurgerButton:"egnzWGsuGZ",AbuseBurgerButton_inFullSize:"XAsw5lr1BQ"},e.exports=r},2645:function(e,t,i){var o=i(1907),r=i(6939),n=i(9792),a=i(2840),s=r(o);s.i(n,"",!0),s.i(a,"",!0),s.push([e.id,".P4nx4K{display:block;width:100%;color:#498bff;font-weight:400;border-radius:8px;transition:"+n.locals.default_transition_duration+" background-color "+a.locals.default_transition_timing_function+"}.VGyIGMG1Cl{display:flex;align-items:center;margin-right:13px}.n29bQ7{margin-left:auto}.P4nx4K:hover{background-color:#e5f2ff}.P4nx4K .imG{padding:0}.SfSX16T{padding:8px}.oWv3Q{height:auto;font-size:15px;line-height:16px}",""]),s.locals={default_transition_duration:""+n.locals.default_transition_duration,default_transition_timing_function:""+a.locals.default_transition_timing_function,AbuseOptionButton:"P4nx4K",AbuseOptionButton__leftIcon:"VGyIGMG1Cl",AbuseOptionButton__rightIcon:"n29bQ7",Button__clickable:"imG",AbuseOptionButton__clickable:"SfSX16T",AbuseOptionButton__content:"oWv3Q"},e.exports=s},7276:function(e,t,i){var o=i(1907),r=i(6939),n=i(1154),a=r(o);a.i(n,"",!0),a.push([e.id,".phVxnO1kc{cursor:pointer}.jZarlKnKWf{font-size:18px}.jZarlKnKWf .A3M6a{height:"+n.locals.middle_button_height+"}.zf5JmV{width:60px;height:60px}.IHWaz8om{width:80px;height:80px}",""]),a.locals={middle_button_height:""+n.locals.middle_button_height,CirclePlayButton:"phVxnO1kc",CirclePlayButton_fullSize:"jZarlKnKWf",CirclePlayButton__basecontent:"A3M6a",CirclePlayButton__icon:"zf5JmV",CirclePlayButton__icon_fullSize:"IHWaz8om"},e.exports=a},4659:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".DWskj{width:100%;height:100%;font-weight:100;fill:#c4c4c4}.S8um{text-transform:uppercase}",""]),r.locals={DisclaimerSvg:"DWskj",DisclaimerSvg_text:"S8um"},e.exports=r},550:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".DjPNmkl7Nv{display:flex;box-sizing:border-box;width:100%;padding:0;font-family:Arial,Helvetica,sans-serif;background:rgba(0,0,0,.4)}",""]),r.locals={Disclaimer:"DjPNmkl7Nv"},e.exports=r},9130:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".Z9OgZzFto{position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)}",""]),r.locals={Spinner:"Z9OgZzFto"},e.exports=r},3683:function(e,t,i){var o=i(1907),r=i(6939),n=i(1154),a=r(o);a.i(n,"",!0),a.push([e.id,".otEM7x{}.ux8EACiqe{visibility:hidden}.MJ69pWPQ{display:flex;align-items:center;justify-content:center}.cOPo{}.dh3s{display:flex;align-items:center;justify-content:center;width:"+n.locals.small_button_height+";height:"+n.locals.small_button_height+"}.sDT9rC7MGx{width:"+n.locals.middle_button_height+";height:"+n.locals.middle_button_height+"}.oP1HVnYIc{width:29px;height:24px}.Yomo5Q{}.J6JQkgZ2{position:relative;bottom:1px;margin-right:"+n.locals.small_button_left_right_margin+"}.RecRL{white-space:nowrap;transform-origin:left center}.Q6zwga2{margin-right:"+n.locals.middle_button_left_right_margin+"}",""]),a.locals={small_button_height:""+n.locals.small_button_height,middle_button_height:""+n.locals.middle_button_height,small_button_left_right_margin:""+n.locals.small_button_left_right_margin,middle_button_left_right_margin:""+n.locals.middle_button_left_right_margin,MuteButton:"otEM7x",MuteButton__hidden:"ux8EACiqe",VolumeButton__content:"MJ69pWPQ",VolumeButton:"cOPo",VolumeButton__iconContainer:"dh3s",VolumeButton__iconContainer_fullSize:"sDT9rC7MGx",VolumeButton__icon:"oP1HVnYIc",UnmuteButton:"Yomo5Q",UnmuteButton__text:"J6JQkgZ2",UnmuteButton__text_animation:"RecRL",UnmuteButton__text_fullSize:"Q6zwga2"},e.exports=a},8453:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".aun{width:28px;height:28px;padding:4px;cursor:pointer;pointer-events:auto}.XR0{width:var(--mute-unmute-responsive-width);height:var(--mute-unmute-responsive-height)}",""]),r.locals={MuteUnmuteButtonWithoutBackground:"aun",MuteUnmuteButtonWithoutBackground_Size_Responsive:"XR0"},e.exports=r},2563:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=r(o);a.i(n,"",!0),a.push([e.id,".yFRo{line-height:3;display:flex;align-items:center;box-sizing:border-box;min-width:0;height:2.4em;padding:0 .5em;color:#000;font-weight:700;font-size:1em;font-family:"+n.locals.AD_FONT+";white-space:nowrap;background-color:#ffd500;border-radius:4px;cursor:pointer;pointer-events:auto}.dyfPsoRx23{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.BjnW,.Bb4{height:2.1em;font-size:.9em}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,ActionButton:"yFRo",ActionButton__textWrapper:"dyfPsoRx23",ActionButton__content_middle:"BjnW",ActionButton__content_small:"Bb4"},e.exports=a},6246:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=r(o);a.i(n,"",!0),a.push([e.id,".sRgw0IX6{flex:1 1 0;margin-right:13px;color:#fff;font-weight:700;font-size:1em;font-family:"+n.locals.AD_FONT+";line-height:1.3;max-width:10em}.yWq{line-height:1.3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.YKWWnZ9{white-space:nowrap}.xY2cx,.YKWWnZ9{font-weight:400;font-size:.8em}.YKWWnZ9,.yWq{overflow:hidden;text-overflow:ellipsis}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,InfoBlock:"sRgw0IX6",InfoBlock__title:"yWq",InfoBlock__greenUrl:"YKWWnZ9",InfoBlock__ageRestriction:"xY2cx"},e.exports=a},9461:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=i(2100),s=i(4430),l=r(o);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".wad5{height:100%;font-family:"+n.locals.AD_FONT+"}.E0wcIa{overflow:hidden;cursor:pointer;pointer-events:auto;height:4em;max-width:calc(23.33333em + 20px)}.PqgIZlCl{position:relative;min-width:200px;height:100%}.Yz4lPIpVS{position:relative;display:flex;align-items:stretch;box-sizing:border-box;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:100%;padding:0 10px;background-color:"+s.locals.button_active_background_color+";border-radius:4px;-webkit-backdrop-filter:"+a.locals.button_backdrop_filter+";backdrop-filter:"+a.locals.button_backdrop_filter+";max-width:calc(23.33333em + 20px)}.XCOaG6{position:absolute;top:50%;left:10px;display:flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:32px;border-radius:16px;transform:translateY(-50%)}.jg0{display:flex;flex-wrap:nowrap;align-items:center;margin-left:35pt;overflow:hidden}.xhRQghleh{margin-left:10px}.XCOaG6 img{border-radius:2px;width:100%;height:100%}",""]),l.locals={AD_FONT:""+n.locals.AD_FONT,button_backdrop_filter:""+a.locals.button_backdrop_filter,button_active_background_color:""+s.locals.button_active_background_color,ActionPanel:"wad5",ActionPanel__clickableLayer:"E0wcIa",ActionPanel__content:"PqgIZlCl",ActionPanel__mask:"Yz4lPIpVS",ActionPanel__favicon:"XCOaG6",ActionPanel__wrapper:"jg0",ActionPanel__wrapper_wide:"xhRQghleh"},e.exports=l},6413:function(e,t,i){var o=i(1907),r=i(6939),n=i(6799),a=i(4430),s=i(1154),l=r(o);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".HMsS8{padding:4px;cursor:pointer;pointer-events:auto}.FWoEiG{position:relative;display:flex;align-items:center;height:"+s.locals.small_button_height+";background-color:"+a.locals.button_active_background_color+";border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);padding-left:4px}.LRQyU9Ubm6:hover .FWoEiG{background-color:"+a.locals.button_hovered_background_color+"}.dA0KAiKG{width:100%;height:100%;border-radius:4px}.aeXbe4t5qw{display:flex;align-items:center;width:20px;min-width:20px;height:20px;margin-right:.35em;font-size:2em;padding-left:3px}.B95ba .aeXbe4t5qw{width:26px;height:26px}.wLCwGS{display:inline-block;max-width:90px;margin-right:8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.B95ba .wLCwGS{max-width:120px;margin-left:17px}",""]),l.locals={AD_FONT:""+n.locals.AD_FONT,button_hovered_background_color:""+a.locals.button_hovered_background_color,button_active_background_color:""+a.locals.button_active_background_color,middle_button_height:""+s.locals.middle_button_height,small_button_height:""+s.locals.small_button_height,ActionPanelSmall__clickableContainer:"HMsS8",ActionPanelSmall:"FWoEiG",ActionPanelSmall__container:"LRQyU9Ubm6",ActionPanelSmall__favIcon:"dA0KAiKG",ActionPanelSmall__favIconContainer:"aeXbe4t5qw",ActionPanelSmall__middle:"B95ba",ActionPanelSmall__label:"wLCwGS"},e.exports=l},3765:function(e,t,i){var o=i(1907),r=i(6939),n=i(7441),a=i(2100),s=i(4430),l=r(o);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".dmk1qm{position:relative;display:inline-block;height:3em;padding:4px;color:#fff;font-weight:"+n.locals.AD_FONT_WEIGHT+";text-shadow:0 2px 2px rgba(0,0,0,.1);cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.M9OriG9D{position:relative;display:flex;box-sizing:border-box;height:100%;padding:.17em;background-color:"+s.locals.button_inactive_background_color+";border-radius:.5em;opacity:.7;-webkit-backdrop-filter:"+a.locals.button_backdrop_filter+";backdrop-filter:"+a.locals.button_backdrop_filter+"}.jFwgxj{cursor:pointer}.jFwgxj>.M9OriG9D{background-color:"+s.locals.button_active_background_color+";opacity:1}.dmk1qm.jFwgxj:hover>.M9OriG9D{background-color:"+s.locals.button_hovered_background_color+"}.Iz37X,.rfE1gcS{display:flex;align-items:center;height:100%}.rfE1gcS{justify-content:center;width:2.5em}.K7qsgnV{margin-left:.8em}.x5PMNjTMJf{height:100%;border-radius:4px}.drBdvQSJ{width:100%}.aOm4YiUD{display:inline-block;width:50%;text-align:right}.KeR{display:inline-block;width:50%}.UdvP0CF9{width:.8em;height:1.2em}",""]),l.locals={AD_FONT_WEIGHT:""+n.locals.AD_FONT_WEIGHT,button_backdrop_filter:""+a.locals.button_backdrop_filter,button_inactive_background_color:""+s.locals.button_inactive_background_color,button_active_background_color:""+s.locals.button_active_background_color,button_hovered_background_color:""+s.locals.button_hovered_background_color,SkipButton__clickable:"dmk1qm",SkipButton:"M9OriG9D",SkipButton_active:"jFwgxj",SkipButton__contentLeft:"Iz37X",SkipButton__contentRight:"rfE1gcS",SkipButton__skipText:"K7qsgnV",SkipButton__leftImage:"x5PMNjTMJf",SkipButton__timeToSkipString:"drBdvQSJ",SkipButton__timeToSkipString__leftDigit:"aOm4YiUD",SkipButton__timeToSkipString__rightDigit:"KeR",SkipButton__icon:"UdvP0CF9"},e.exports=l},7864:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".RdOa2Wy{position:absolute;bottom:0;left:0;width:100%;height:2px}",""]),r.locals={Timeline:"RdOa2Wy"},e.exports=r},8883:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".shyxH{--stw-max-width:100%;font-size:0;pointer-events:none}.L1Fk9dMUj{text-align:center}.z28gym9{position:absolute;top:0;left:0;width:100%;width:var(--stw-max-width);height:100%;font:var(--stw-font);pointer-events:none}.U7RLSNaT{display:inline-block;white-space:nowrap}.Lfs9Ra,.Nq9{display:inline-block;font:var(--stw-font)}",""]),r.locals={SplitTextLinesWrapper__container:"shyxH",SplitTextLinesWrapper__lines:"L1Fk9dMUj",SplitTextLinesWrapper__canvas:"z28gym9",SplitTextLinesWrapper__textLine:"U7RLSNaT",SplitTextLinesWrapper__char:"Lfs9Ra",SplitTextLinesWrapper__word:"Nq9"},e.exports=r},6416:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,".wfBTaiE{animation:none 0s ease 0s 1 normal none running;-webkit-backface-visibility:visible;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:none;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-fill:balance;grid-column-gap:normal;column-gap:normal;column-rule:medium none currentColor;column-span:1;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:serif;font-size:medium;font-style:normal;font-feature-settings:normal;font-variant:normal;font-weight:400;font-stretch:normal;height:auto;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;left:auto;letter-spacing:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;-moz-tab-size:8;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto;all:initial;display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:0;pointer-events:none;font-size:16px;overflow:hidden;line-height:normal}",""]),r.locals={AdDisplayControllerSkinContainer:"wfBTaiE"},e.exports=r},1154:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,"",""]),r.locals={small_button_height:"32px",middle_button_height:"40px",small_button_left_right_margin:"8px",middle_button_left_right_margin:"12px"},e.exports=r},6799:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,"",""]),r.locals={AD_FONT:'YS Text, -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif'},e.exports=r},7441:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,"",""]),r.locals={AD_FONT_WEIGHT:"500"},e.exports=r},1307:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,"",""]),r.locals={AD_LABEL_MIDDLE_HEIGHT:"10px"},e.exports=r},5092:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,"",""]),r.locals={AD_LABEL_SMALL_HEIGHT:"10px"},e.exports=r},2100:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,"",""]),r.locals={button_backdrop_filter:"blur(8px)"},e.exports=r},4430:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,"",""]),r.locals={button_inactive_background_color:"rgba(38, 38, 38, 0.3)",button_active_background_color:"rgba(38, 38, 38, 0.65)",button_hovered_background_color:"rgba(0, 0, 0, 0.65)"},e.exports=r},9792:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,"",""]),r.locals={default_transition_duration:"100ms"},e.exports=r},2840:function(e,t,i){var o=i(1907),r=i(6939)(o);r.push([e.id,"",""]),r.locals={default_transition_timing_function:"ease-in"},e.exports=r},7176:function(e,t,i){"use strict";function o(e,t,i,o,r,n,a){var s,l,d=document.createElement("script"),c=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:n},dispatchEvent:function(e){u.sendEvent?(c&&(c.push(e),e=c,c=!1),u.sendEvent(e)):c&&c.push(e)},clientCallback:a};t="_moatApi"+Math.floor(1e8*Math.random());try{l=(s=e.ownerDocument).defaultView||s.parentWindow}catch(h){s=document,l=window}return l[t]=u,d.type="text/javascript",e&&e.insertBefore(d,e.childNodes[0]||null),d.src=["https://yast","atic.net/pc","ode-static/measurers/"].join("")+r+"/moat/"+o+"/moatvideo.js#"+t,u}i.r(t),i.d(t,{initMoatTracking:function(){return o}})},4478:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HAS_URL=void 0,t.HAS_URL=(()=>{try{return new URL("https://yandex.ru"),!0}catch(e){return!1}})()},9233:function(e,t,i){"use strict";var o=this&&this.__rest||function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(i[o[r]]=e[o[r]])}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.CSPLogger=void 0;const r=i(4478),n=i(4385);t.CSPLogger=class{constructor(e,t){void 0===t&&(t={});var{url:i="https://csp.yandex.net/csp"}=e,r=o(e,["url"]);this.additional=t,this.cspEventListener=e=>{try{const t=new URL(e.blockedURI);if(this.url===t.origin+t.pathname&&"1"===t.searchParams.get("js_client"))return this.unsubscribe(),void(console.warn&&console.warn("URL for logging CSP was blocked"))}catch(r){}const t={"csp-report":{"blocked-uri":e.blockedURI,"column-number":e.columnNumber,disposition:e.disposition,"document-uri":e.documentURI,"effective-directive":e.effectiveDirective,"line-number":e.lineNumber,"original-policy":e.originalPolicy,referrer:e.referrer,"script-sample":e.sample,"status-code":e.statusCode,"violated-directive":e.violatedDirective}},i=JSON.stringify(t),o=this.addParamsToUrl(this.url,Object.assign(Object.assign(Object.assign({},this.config),this.additional),{js_client:"1"}));n.sendLog(o,i)},this.url=i,this.config=r}setAdditional(e){this.additional=Object.assign(Object.assign({},this.additional),e)}addParamsToUrl(e,t){const i=new URL(e);for(const o in t){const e=t[o];e&&"string"===typeof e&&t.hasOwnProperty(o)&&i.searchParams.append(o,e)}return i.toString()}subscribe(e){void 0===e&&(e=document),"onsecuritypolicyviolation"in document&&r.HAS_URL&&e.addEventListener("securitypolicyviolation",this.cspEventListener)}unsubscribe(e){void 0===e&&(e=document),e.removeEventListener("securitypolicyviolation",this.cspEventListener)}}},4385:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendLog=void 0,t.sendLog=function(e,t){if(navigator.sendBeacon&&navigator.sendBeacon(e,t))return;const i=new XMLHttpRequest;i.open("POST",e),i.send(t)}},6939:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",o="undefined"!==typeof t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),o&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),o&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,o,r,n){"string"===typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);o&&a[c[0]]||("undefined"!==typeof n&&("undefined"===typeof c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=n),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},1907:function(e){"use strict";e.exports=function(e){return e[1]}},5335:function(e){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var o=t.indexOf("rv:");return parseInt(t.substring(o+3,t.indexOf(".",o)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}},3438:function(e){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e})},3716:function(e){"use strict";e.exports=JSON.parse('{"be":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","ADTUNE_COPY_TOKEN":"","AD_TITLE":"","BU_LABEL_TOOLTIP_TEXT":"\u041f\u0440\u0430\u0446\u0443\u0435 \u043d\u0430 \u0442\u044d\u0445\u043d\u0430\u043b\u043e\u0433\u0456\u044f\u0445 \u042f\u043d\u0434\u0435\u043a\u0441\u0430","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SINGLE_CHOICE_HINT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"en":{"adsdk":{"ABUSE_ADS_TEXT":"Ad","ABUSE_COPIED":"Copied","ABUSE_COPY_TEXT":"Copy link","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"Enter your message","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"Submit","ABUSE_IMPROVE_REASON_TEXT":"State the reason:","ABUSE_OPTION_ABOUT":"Ads on Yandex","ABUSE_OPTION_ADVERTISER_INFO":"Advertiser info","ABUSE_OPTION_ALREADY_PURCHASED":"Already purchased","ABUSE_OPTION_ANOTHER_REASON":"Another reason","ABUSE_OPTION_COMPLAINT":"Report","ABUSE_OPTION_FALSE_INFO_SOCIAL":"Speculation","ABUSE_OPTION_HIDE":"Hide","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"Illegal goods or services","ABUSE_OPTION_NOT_INTERESTED":"Not interested","ABUSE_OPTION_OVERLAP_CONTENT":"Covers page content","ABUSE_OPTION_POLITICAL_SOCIAL":"Political ad","ABUSE_OPTION_SCAMMERS":"Scammers","ABUSE_OPTION_SEEN_TOO_OFTEN":"I see this ad too often","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"Shocking content","ABUSE_OPTION_UNPLEASANT_CONTENT":"I don\'t like it","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"Thanks! The moderators will review this ad","ABUSE_PLACEHOLDER_HINT_HIDE":"We use your responses to suggest ads that will be interesting for you","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"Report registered","ABUSE_PLACEHOLDER_TEXT_HIDE":"Ad hidden","ABUSE_REPORT_PROBLEM":"Report a bug","ABUSE_SCREEN_DESCRIPTION":"We try to show you ads that match your interests. Tell us why you didn\'t like this video. This will help us select better ads for you.","ABUSE_SCREEN_DESCRIPTION_SHORT":"Please tell us why you didn\'t like this video. This will help us select better ads for you.","ABUSE_SCREEN_TITLE":"Report this ad","ABUSE_VARIANT_ANNOYING":"Intrusive or annoying","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"False information","ABUSE_VARIANT_NOT_INTERESTED":"I\'m not interested in this","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"I\'m not interested in this","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"Political ad","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"Shocking content","ABUSE_VARIANT_SPAM":"Inappropriate content or spam","ABUSE_VARIANT_SPAM_SHORT":"Looks like spam","ADTUNE_COPY_TOKEN":"Copy token","AD_TITLE":"Ad","BU_LABEL_TOOLTIP_TEXT":"Based on Yandex technologies","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"Learn more","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"For more information, see the advertiser\'s website","MORE":"More","MOTION_BTN":"Learn more","MOTION_BTN_WITHOUT_GREEN_URL":"Address and phone number","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"of","PREV_ECOM_PRODUCT":"","REPEAT":"Repeat","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"sec","SKIP":"Skip","SKIP_TIME_LEFT":"Skip ad","SOCIAL_ADVERTISING_AD_LABEL":"Social ad","SURVEY_AD_LABEL":"Survey","SURVEY_AD_LABEL_OF_QUESTIONS":"questions","SURVEY_CONTINUE_BUTTON_TEXT":"Continue","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"Select up to $x responses","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"Select 1 or more responses","SURVEY_PACKSHOT_COMPANY":"Yandex Surveys","SURVEY_PACKSHOT_FROM":"Survey powered by","SURVEY_PACKSHOT_TEXT":"Thank you!","SURVEY_SINGLE_CHOICE_HINT_TEXT":"Select 1 response","SURVEY_SKIP_BUTTON_TEXT":"Skip","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"Read more","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"Read more on the website","THEME_EMPTY_ACTION_BUTTON_LABEL":"Go","TIME_LEFT":"Ad","UNMUTE":"Unmute","UNMUTE_INVITE":"Move mouse over ad<br>to hear sound","VISIT_SITE":"Go to advertiser\u2019s site","YANDEX_DIRECT":"Yandex.Direct","YANDEX_DIRECT_LINK":""}},"kk":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","ADTUNE_COPY_TOKEN":"","AD_TITLE":"","BU_LABEL_TOOLTIP_TEXT":"\u042f\u043d\u0434\u0435\u043a\u0441 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u043b\u0430\u0440\u044b\u043d\u0434\u0430 \u0436\u04b1\u043c\u044b\u0441 \u0456\u0441\u0442\u0435\u0439\u0434\u0456","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SINGLE_CHOICE_HINT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"ru":{"adsdk":{"ABUSE_ADS_TEXT":"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435","ABUSE_COPIED":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e","ABUSE_COPY_TEXT":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","ABUSE_IMPROVE_REASON_TEXT":"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443:","ABUSE_OPTION_ABOUT":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0435","ABUSE_OPTION_ADVERTISER_INFO":"\u041e \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u0435","ABUSE_OPTION_ALREADY_PURCHASED":"\u0423\u0436\u0435 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u043e","ABUSE_OPTION_ANOTHER_REASON":"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430","ABUSE_OPTION_COMPLAINT":"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f","ABUSE_OPTION_FALSE_INFO_SOCIAL":"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","ABUSE_OPTION_HIDE":"\u0421\u043a\u0440\u044b\u0442\u044c","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"\u041d\u0435\u0437\u0430\u043a\u043e\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440/\u0443\u0441\u043b\u0443\u0433\u0430","ABUSE_OPTION_NOT_INTERESTED":"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442","ABUSE_OPTION_OVERLAP_CONTENT":"\u041f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_OPTION_POLITICAL_SOCIAL":"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430","ABUSE_OPTION_SCAMMERS":"\u042d\u0442\u043e \u043c\u043e\u0448\u0435\u043d\u043d\u0438\u043a\u0438","ABUSE_OPTION_SEEN_TOO_OFTEN":"\u0412\u0438\u0436\u0443 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0447\u0430\u0441\u0442\u043e","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_OPTION_UNPLEASANT_CONTENT":"\u041c\u043d\u0435 \u044d\u0442\u043e \u043d\u0435\u043f\u0440\u0438\u044f\u0442\u043d\u043e","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f","ABUSE_PLACEHOLDER_HINT_HIDE":"\u041c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0432\u0430\u0448\u0438 \u043e\u0442\u0432\u0435\u0442\u044b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0443\u044e \u0440\u0435\u043a\u043b\u0430\u043c\u0443","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"\u0416\u0430\u043b\u043e\u0431\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0430","ABUSE_PLACEHOLDER_TEXT_HIDE":"\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u044b\u0442\u043e","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"\u041c\u044b \u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u0443\u044e \u0432\u0430\u043c \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0432\u0430\u0448\u0438\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0430\u043c. \u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u0434\u043e\u0448\u0451\u043b \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.","ABUSE_SCREEN_DESCRIPTION_SHORT":"\u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.","ABUSE_SCREEN_TITLE":"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430&nbsp;\u0440\u0435\u043a\u043b\u0430\u043c\u0443","ABUSE_VARIANT_ANNOYING":"\u041d\u0430\u0432\u044f\u0437\u0447\u0438\u0432\u043e \u0438\u043b\u0438 \u043d\u0430\u0434\u043e\u0435\u043b\u043e","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","ABUSE_VARIANT_NOT_INTERESTED":"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0441\u044c \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u043e\u0439","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"\u041d\u0435\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0442\u0435\u043c\u0430","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_VARIANT_SPAM":"\u0421\u043e\u043c\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0441\u043f\u0430\u043c","ABUSE_VARIANT_SPAM_SHORT":"\u041f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u0441\u043f\u0430\u043c","ADTUNE_COPY_TOKEN":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043a\u0435\u043d","AD_TITLE":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430","BU_LABEL_TOOLTIP_TEXT":"\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u0445 \u042f\u043d\u0434\u0435\u043a\u0441\u0430","ECOM_PRODUCTS_BUTTON_HIDE":"\u0421\u043a\u0440\u044b\u0442\u044c","ECOM_PRODUCTS_BUTTON_SHOW":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c","LEARN_MORE":"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f","MORE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","MOTION_BTN":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","MOTION_BTN_WITHOUT_GREEN_URL":"\u0410\u0434\u0440\u0435\u0441 \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d","MOTION_DIETARYSUPPL_DISCLAIMER":"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e\u043c","MOTION_DISTANCE_SALES":"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u0430 \u043d\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u0438\u0440\u0443\u0435\u043c\u043e\u043c \u0441\u0430\u0439\u0442\u0435.","MOTION_DRUG_DISCLAIMER":"\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f. \u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439\u0442\u0435\u0441\u044c \u0441 \u0432\u0440\u0430\u0447\u043e\u043c.","MOTION_HIDE_DISCLAIMER":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443","MOTION_SHOW_DISCLAIMER":"\u042e\u0440. \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","NEXT_ECOM_PRODUCT":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442","OF":"\u0438\u0437","PREV_ECOM_PRODUCT":"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442","REPEAT":"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c","REWARDED_TIMER_1":"\u0414\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u044b","REWARDED_TIMER_2":"\u0441\u0435\u043a","SECONDS":"\u0441\u0435\u043a","SKIP":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c","SKIP_TIME_LEFT":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443","SOCIAL_ADVERTISING_AD_LABEL":"\u0421\u043e\u0446\u0440\u0435\u043a\u043b\u0430\u043c\u0430","SURVEY_AD_LABEL":"\u041e\u043f\u0440\u043e\u0441","SURVEY_AD_LABEL_OF_QUESTIONS":"\u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432","SURVEY_CONTINUE_BUTTON_TEXT":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e $x \u043e\u0442\u0432\u0435\u0442\u043e\u0432","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 1 \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0442\u0432\u0435\u0442\u043e\u0432","SURVEY_PACKSHOT_COMPANY":"\u042f\u043d\u0434\u0435\u043a\u0441 \u0412\u0437\u0433\u043b\u044f\u0434","SURVEY_PACKSHOT_FROM":"\u041e\u043f\u0440\u043e\u0441 \u0441\u0434\u0435\u043b\u0430\u043d \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u0445","SURVEY_PACKSHOT_TEXT":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e!","SURVEY_SINGLE_CHOICE_HINT_TEXT":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 1 \u043e\u0442\u0432\u0435\u0442","SURVEY_SKIP_BUTTON_TEXT":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435","THEME_EMPTY_ACTION_BUTTON_LABEL":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438","TIME_LEFT":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430","UNMUTE":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a","UNMUTE_INVITE":"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440,<br>\u0447\u0442\u043e\u0431\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a","VISIT_SITE":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f","YANDEX_DIRECT":"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0438\u0440\u0435\u043a\u0442","YANDEX_DIRECT_LINK":"https://direct.yandex.ru/?partner"}},"tr":{"adsdk":{"ABUSE_ADS_TEXT":"Reklam","ABUSE_COPIED":"Kopyaland\u0131","ABUSE_COPY_TEXT":"Ba\u011flant\u0131y\u0131 kopyala","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"Mesaj\u0131n\u0131z\u0131 girin","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"G\xf6nder","ABUSE_IMPROVE_REASON_TEXT":"Nedenini a\xe7\u0131klay\u0131n:","ABUSE_OPTION_ABOUT":"Yandex\'te reklam","ABUSE_OPTION_ADVERTISER_INFO":"Reklam veren hakk\u0131nda","ABUSE_OPTION_ALREADY_PURCHASED":"Zaten sat\u0131n al\u0131nd\u0131","ABUSE_OPTION_ANOTHER_REASON":"Ba\u015fka bir neden var","ABUSE_OPTION_COMPLAINT":"\u015eikayet et","ABUSE_OPTION_FALSE_INFO_SOCIAL":"Yanl\u0131\u015f bilgi","ABUSE_OPTION_HIDE":"Gizle","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"Yasad\u0131\u015f\u0131 mal/hizmet","ABUSE_OPTION_NOT_INTERESTED":"\u0130lgilenmiyorum","ABUSE_OPTION_OVERLAP_CONTENT":"\u0130\xe7eri\u011fin \xfczerini kapl\u0131yor","ABUSE_OPTION_POLITICAL_SOCIAL":"Siyasi i\xe7erikli reklam","ABUSE_OPTION_SCAMMERS":"Doland\u0131r\u0131c\u0131lar","ABUSE_OPTION_SEEN_TOO_OFTEN":"Bunu \xe7ok s\u0131k g\xf6r\xfcyorum","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"Rahats\u0131z edici i\xe7erik","ABUSE_OPTION_UNPLEASANT_CONTENT":"Ho\u015fuma gitmiyor","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"Te\u015fekk\xfcr ederiz! Moderat\xf6r k\u0131sa s\xfcre i\xe7erisinde reklam\u0131 kontrol edecektir","ABUSE_PLACEHOLDER_HINT_HIDE":"Size en uygun reklam\u0131 se\xe7mek i\xe7in yan\u0131tlar\u0131n\u0131z\u0131 de\u011ferlendiriyoruz","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"\u015eikayet kay\u0131t alt\u0131na al\u0131nd\u0131","ABUSE_PLACEHOLDER_TEXT_HIDE":"Reklam gizlendi","ABUSE_REPORT_PROBLEM":"Report a bug","ABUSE_SCREEN_DESCRIPTION":"\u0130lgi alanlar\u0131n\u0131za uygun reklamlar g\xf6stermeye \xe7al\u0131\u015f\u0131yoruz. Sizin i\xe7in daha faydal\u0131 reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?","ABUSE_SCREEN_DESCRIPTION_SHORT":"Size daha uygun reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?","ABUSE_SCREEN_TITLE":"Reklam\u0131 \u015fikayet et","ABUSE_VARIANT_ANNOYING":"Israrc\u0131 veya b\u0131kt\u0131r\u0131c\u0131","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"Yanl\u0131\u015f bilgi","ABUSE_VARIANT_NOT_INTERESTED":"Bu konuyla ilgilenmiyorum","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"Konu ilgimi \xe7ekmiyor","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"Siyasi i\xe7erikli reklam","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"Rahats\u0131z edici i\xe7erik","ABUSE_VARIANT_SPAM":"G\xfcvenilir olmayan i\xe7erik veya spam","ABUSE_VARIANT_SPAM_SHORT":"Spam gibi g\xf6r\xfcn\xfcyor","ADTUNE_COPY_TOKEN":"Token\'\u0131 kopyala","AD_TITLE":"Reklam","BU_LABEL_TOOLTIP_TEXT":"Bir Yandex teknolojisidir","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"Daha fazla bilgi edinin","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"Reklam verenin sitesinden daha fazla bilgi","MORE":"Daha fazla","MOTION_BTN":"Daha fazla bilgi","MOTION_BTN_WITHOUT_GREEN_URL":"Adres ve telefon","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"Tekrarla","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"sn","SKIP":"Atla","SKIP_TIME_LEFT":"Reklam\u0131 atla","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"Anket","SURVEY_AD_LABEL_OF_QUESTIONS":"soru","SURVEY_CONTINUE_BUTTON_TEXT":"Devam et","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"$x yan\u0131ta kadar se\xe7ebilirsiniz","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"1 veya birka\xe7 yan\u0131t se\xe7in","SURVEY_PACKSHOT_COMPANY":"Yandex.Surveys","SURVEY_PACKSHOT_FROM":"Anket teknolojiler \xfczerine ger\xe7ekle\u015ftirildi","SURVEY_PACKSHOT_TEXT":"Te\u015fekk\xfcr ederiz!","SURVEY_SINGLE_CHOICE_HINT_TEXT":"1 yan\u0131t se\xe7in","SURVEY_SKIP_BUTTON_TEXT":"Atla","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"Daha fazla bilgi","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"Daha fazla bilgi i\xe7in siteye gidin","THEME_EMPTY_ACTION_BUTTON_LABEL":"Git","TIME_LEFT":"Reklam","UNMUTE":"Sesi a\xe7","UNMUTE_INVITE":"Sesi a\xe7mak i\xe7in<br>imleci \xfczerine getirin","VISIT_SITE":"Reklam verenin sitesine git","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"uk":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","ADTUNE_COPY_TOKEN":"","AD_TITLE":"","BU_LABEL_TOOLTIP_TEXT":"\u041f\u0440\u0430\u0446\u044e\u0454 \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0456\u044f\u0445 \u042f\u043d\u0434\u0435\u043a\u0441\u0430","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SINGLE_CHOICE_HINT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"uz":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","ADTUNE_COPY_TOKEN":"","AD_TITLE":"","BU_LABEL_TOOLTIP_TEXT":"Yandex texnologiyalarida ishlaydi","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SINGLE_CHOICE_HINT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}}}')},2010:function(e){"use strict";e.exports=JSON.parse('{"normal":{"normal":{"0":0.55,"1":0.55,"2":0.55,"3":0.55,"4":0.55,"5":0.55,"6":0.55,"7":0.55,"8":0.55,"9":0.55,"\u0430":0.5265,"\u0431":0.5781,"\u0432":0.5375,"\u0433":0.4375,"\u0434":0.5875,"\u0435":0.5382,"\u0451":0.5382,"\u0436":0.7625,"\u0437":0.4976,"\u0438":0.5984,"\u0439":0.5984,"\u043a":0.5171,"\u043b":0.5546,"\u043c":0.7265,"\u043d":0.571,"\u043e":0.5726,"\u043f":0.5601,"\u0440":0.6,"\u0441":0.5,"\u0442":0.4773,"\u0443":0.5367,"\u0444":0.7164,"\u0445":0.5031,"\u0446":0.6015,"\u0447":0.546,"\u0448":0.7921,"\u0449":0.8187,"\u044a":0.5914,"\u044b":0.6914,"\u044c":0.4984,"\u044d":0.4984,"\u044e":0.7625,"\u044f":0.5281,"\u0410":0.6921,"\u0411":0.621,"\u0412":0.6453,"\u0413":0.5445,"\u0414":0.7632,"\u0415":0.5984,"\u0401":0.5984,"\u0416":0.9492,"\u0417":0.6054,"\u0418":0.757,"\u0419":0.757,"\u041a":0.6414,"\u041b":0.6804,"\u041c":0.8765,"\u041d":0.7234,"\u041e":0.7703,"\u041f":0.7062,"\u0420":0.6101,"\u0421":0.671,"\u0422":0.5976,"\u0423":0.6312,"\u0424":0.8195,"\u0425":0.6406,"\u0426":0.7562,"\u0427":0.6843,"\u0428":0.9515,"\u0429":0.9992,"\u042a":0.746,"\u042b":0.8414,"\u042c":0.6195,"\u042d":0.671,"\u042e":0.9703,"\u042f":0.646,"a":0.5265,"b":0.6,"c":0.489,"d":0.6,"e":0.5304,"f":0.3726,"g":0.589,"h":0.575,"i":0.2312,"j":0.239,"k":0.496,"l":0.2312,"m":0.8835,"n":0.575,"o":0.5726,"p":0.6,"q":0.6,"r":0.364,"s":0.4835,"t":0.371,"u":0.5656,"v":0.5187,"w":0.7851,"x":0.5031,"y":0.5312,"z":0.4593,"A":0.6921,"B":0.6453,"C":0.671,"D":0.7062,"E":0.5984,"F":0.5687,"G":0.739,"H":0.7242,"I":0.2617,"J":0.3734,"K":0.6414,"L":0.5726,"M":0.8765,"N":0.7445,"O":0.7703,"P":0.6101,"Q":0.7703,"R":0.6515,"S":0.5867,"T":0.5992,"U":0.6921,"V":0.6765,"W":0.9515,"X":0.6406,"Y":0.6242,"Z":0.614," ":0.2203,"\xa0":0.2,"\xad":0,"\u2010":0.5789,"-":0.3601,"\\"":0.3976,"\u2014":0.9,"%":0.65,".":0.239,",":0.239,":":0.239,"\xab":0.5101,"\xbb":0.5101,"&":0.7703,";":0.239,"!":0.2742,"?":0.4703,"$":0.55,"*":0.4445,")":0.3546,"(":0.3546,"[":0.4085,"]":0.4085,"#":0.6781,"+":0.55,"=":0.5492,"/":0.3976,"\u20bd":0.55,"&nbsp;":0.2,"&#160;":0.2,"&#x00A0;":0.2,"&shy;":0,"&#173;":0,"&#x00AD;":0,"&hyphen;":0.5789,"&#8208;":0.5789,"&#x2010;":0.5789,"&#8381;":0.55,"&#x20bd;":0.55},"italic":{"0":0.55,"1":0.55,"2":0.55,"3":0.55,"4":0.55,"5":0.55,"6":0.55,"7":0.55,"8":0.55,"9":0.55,"\u0430":0.5265,"\u0431":0.5781,"\u0432":0.5375,"\u0433":0.4375,"\u0434":0.5875,"\u0435":0.5382,"\u0451":0.5382,"\u0436":0.7625,"\u0437":0.4976,"\u0438":0.5984,"\u0439":0.5984,"\u043a":0.5171,"\u043b":0.5546,"\u043c":0.7265,"\u043d":0.571,"\u043e":0.5726,"\u043f":0.5601,"\u0440":0.6,"\u0441":0.5,"\u0442":0.4773,"\u0443":0.5367,"\u0444":0.7164,"\u0445":0.5031,"\u0446":0.6015,"\u0447":0.546,"\u0448":0.7921,"\u0449":0.8187,"\u044a":0.5914,"\u044b":0.6914,"\u044c":0.4984,"\u044d":0.4984,"\u044e":0.7625,"\u044f":0.5281,"\u0410":0.6921,"\u0411":0.621,"\u0412":0.6453,"\u0413":0.5445,"\u0414":0.7632,"\u0415":0.5984,"\u0401":0.5984,"\u0416":0.9492,"\u0417":0.6054,"\u0418":0.757,"\u0419":0.757,"\u041a":0.6414,"\u041b":0.6804,"\u041c":0.8765,"\u041d":0.7234,"\u041e":0.7703,"\u041f":0.7062,"\u0420":0.6101,"\u0421":0.671,"\u0422":0.5976,"\u0423":0.6312,"\u0424":0.8195,"\u0425":0.6406,"\u0426":0.7562,"\u0427":0.6843,"\u0428":0.9515,"\u0429":0.9992,"\u042a":0.746,"\u042b":0.8414,"\u042c":0.6195,"\u042d":0.671,"\u042e":0.9703,"\u042f":0.646,"a":0.5265,"b":0.6,"c":0.489,"d":0.6,"e":0.5304,"f":0.3726,"g":0.589,"h":0.575,"i":0.2312,"j":0.239,"k":0.496,"l":0.2312,"m":0.8835,"n":0.575,"o":0.5726,"p":0.6,"q":0.6,"r":0.364,"s":0.4835,"t":0.371,"u":0.5656,"v":0.5187,"w":0.7851,"x":0.5031,"y":0.5312,"z":0.4593,"A":0.6921,"B":0.6453,"C":0.671,"D":0.7062,"E":0.5984,"F":0.5687,"G":0.739,"H":0.7242,"I":0.2617,"J":0.3734,"K":0.6414,"L":0.5726,"M":0.8765,"N":0.7445,"O":0.7703,"P":0.6101,"Q":0.7703,"R":0.6515,"S":0.5867,"T":0.5992,"U":0.6921,"V":0.6765,"W":0.9515,"X":0.6406,"Y":0.6242,"Z":0.614," ":0.2203,"\xa0":0.2,"\xad":0,"\u2010":0.5789,"-":0.3601,"\\"":0.3976,"\u2014":0.9,"%":0.65,".":0.239,",":0.239,":":0.239,"\xab":0.5101,"\xbb":0.5101,"&":0.7703,";":0.239,"!":0.2742,"?":0.4703,"$":0.55,"*":0.4445,")":0.3546,"(":0.3546,"[":0.4085,"]":0.4085,"#":0.6781,"+":0.55,"=":0.5492,"/":0.3976,"\u20bd":0.55,"&nbsp;":0.2,"&#160;":0.2,"&#x00A0;":0.2,"&shy;":0,"&#173;":0,"&#x00AD;":0,"&hyphen;":0.5789,"&#8208;":0.5789,"&#x2010;":0.5789,"&#8381;":0.55,"&#x20bd;":0.55}},"bold":{"normal":{"0":0.55,"1":0.55,"2":0.55,"3":0.55,"4":0.55,"5":0.55,"6":0.55,"7":0.55,"8":0.55,"9":0.55,"\u0430":0.5453,"\u0431":0.5937,"\u0432":0.5492,"\u0433":0.4375,"\u0434":0.625,"\u0435":0.5695,"\u0451":0.5695,"\u0436":0.796,"\u0437":0.4937,"\u0438":0.6015,"\u0439":0.6015,"\u043a":0.5546,"\u043b":0.5773,"\u043c":0.739,"\u043d":0.589,"\u043e":0.589,"\u043f":0.5804,"\u0440":0.625,"\u0441":0.5125,"\u0442":0.4835,"\u0443":0.5554,"\u0444":0.7515,"\u0445":0.5296,"\u0446":0.6273,"\u0447":0.5656,"\u0448":0.8062,"\u0449":0.8484,"\u044a":0.6203,"\u044b":0.7382,"\u044c":0.5265,"\u044d":0.5156,"\u044e":0.796,"\u044f":0.5421,"\u0410":0.7031,"\u0411":0.6382,"\u0412":0.657,"\u0413":0.539,"\u0414":0.7875,"\u0415":0.6062,"\u0401":0.6062,"\u0416":0.9742,"\u0417":0.596,"\u0418":0.7687,"\u0419":0.7687,"\u041a":0.671,"\u041b":0.6945,"\u041c":0.8781,"\u041d":0.7375,"\u041e":0.775,"\u041f":0.7203,"\u0420":0.6273,"\u0421":0.664,"\u0422":0.614,"\u0423":0.6375,"\u0424":0.8273,"\u0425":0.6414,"\u0426":0.7773,"\u0427":0.7,"\u0428":0.957,"\u0429":1.014,"\u042a":0.7562,"\u042b":0.8734,"\u042c":0.6296,"\u042d":0.664,"\u042e":1.014,"\u042f":0.664,"a":0.5453,"b":0.625,"c":0.5093,"d":0.625,"e":0.5671,"f":0.4132,"g":0.6203,"h":0.5945,"i":0.2601,"j":0.2734,"k":0.5492,"l":0.2593,"m":0.8953,"n":0.5945,"o":0.589,"p":0.625,"q":0.6296,"r":0.3992,"s":0.4765,"t":0.4,"u":0.5875,"v":0.5296,"w":0.825,"x":0.5296,"y":0.5546,"z":0.489,"A":0.7031,"B":0.657,"C":0.6562,"D":0.725,"E":0.6062,"F":0.5773,"G":0.7445,"H":0.7382,"I":0.2843,"J":0.4054,"K":0.671,"L":0.5601,"M":0.8781,"N":0.739,"O":0.775,"P":0.6273,"Q":0.775,"R":0.6664,"S":0.5945,"T":0.614,"U":0.6835,"V":0.6914,"W":0.989,"X":0.6414,"Y":0.614,"Z":0.6226," ":0.2203,"\xa0":0.2,"\xad":0,"\u2010":0.639,"-":0.3531,"\\"":0.4226,"\u2014":0.9093,"%":0.65,".":0.2703,",":0.2703,":":0.2703,"\xab":0.5296,"\xbb":0.5265,"&":0.7531,";":0.2703,"!":0.2953,"?":0.4703,"$":0.55,"*":0.4656,")":0.407,"(":0.407,"[":0.4585,"]":0.4585,"#":0.6484,"+":0.55,"=":0.5492,"/":0.425,"\u20bd":0.55,"&nbsp;":0.2,"&#160;":0.2,"&#x00A0;":0.2,"&shy;":0,"&#173;":0,"&#x00AD;":0,"&hyphen;":0.639,"&#8208;":0.639,"&#x2010;":0.639,"&#8381;":0.55,"&#x20bd;":0.55},"italic":{"0":0.55,"1":0.55,"2":0.55,"3":0.55,"4":0.55,"5":0.55,"6":0.55,"7":0.55,"8":0.55,"9":0.55,"\u0430":0.5453,"\u0431":0.5937,"\u0432":0.5492,"\u0433":0.4375,"\u0434":0.625,"\u0435":0.5695,"\u0451":0.5695,"\u0436":0.796,"\u0437":0.4937,"\u0438":0.6015,"\u0439":0.6015,"\u043a":0.5546,"\u043b":0.5773,"\u043c":0.739,"\u043d":0.589,"\u043e":0.589,"\u043f":0.5804,"\u0440":0.625,"\u0441":0.5125,"\u0442":0.4835,"\u0443":0.5554,"\u0444":0.7515,"\u0445":0.5296,"\u0446":0.6273,"\u0447":0.5656,"\u0448":0.8062,"\u0449":0.8484,"\u044a":0.6203,"\u044b":0.7382,"\u044c":0.5265,"\u044d":0.5156,"\u044e":0.796,"\u044f":0.5421,"\u0410":0.7031,"\u0411":0.6382,"\u0412":0.657,"\u0413":0.539,"\u0414":0.7875,"\u0415":0.6062,"\u0401":0.6062,"\u0416":0.9742,"\u0417":0.596,"\u0418":0.7687,"\u0419":0.7687,"\u041a":0.671,"\u041b":0.6945,"\u041c":0.8781,"\u041d":0.7375,"\u041e":0.775,"\u041f":0.7203,"\u0420":0.6273,"\u0421":0.664,"\u0422":0.614,"\u0423":0.6375,"\u0424":0.8273,"\u0425":0.6414,"\u0426":0.7773,"\u0427":0.7,"\u0428":0.957,"\u0429":1.014,"\u042a":0.7562,"\u042b":0.8734,"\u042c":0.6296,"\u042d":0.664,"\u042e":1.014,"\u042f":0.664,"a":0.5453,"b":0.625,"c":0.5093,"d":0.625,"e":0.5671,"f":0.4132,"g":0.6203,"h":0.5945,"i":0.2601,"j":0.2734,"k":0.5492,"l":0.2593,"m":0.8953,"n":0.5945,"o":0.589,"p":0.625,"q":0.6296,"r":0.3992,"s":0.4765,"t":0.4,"u":0.5875,"v":0.5296,"w":0.825,"x":0.5296,"y":0.5546,"z":0.489,"A":0.7031,"B":0.657,"C":0.6562,"D":0.725,"E":0.6062,"F":0.5773,"G":0.7445,"H":0.7382,"I":0.2843,"J":0.4054,"K":0.671,"L":0.5601,"M":0.8781,"N":0.739,"O":0.775,"P":0.6273,"Q":0.775,"R":0.6664,"S":0.5945,"T":0.614,"U":0.6835,"V":0.6914,"W":0.989,"X":0.6414,"Y":0.614,"Z":0.6226," ":0.2203,"\xa0":0.2,"\xad":0,"\u2010":0.639,"-":0.3531,"\\"":0.4226,"\u2014":0.9093,"%":0.65,".":0.2703,",":0.2703,":":0.2703,"\xab":0.5296,"\xbb":0.5265,"&":0.7531,";":0.2703,"!":0.2953,"?":0.4703,"$":0.55,"*":0.4656,")":0.407,"(":0.407,"[":0.4585,"]":0.4585,"#":0.6484,"+":0.55,"=":0.5492,"/":0.425,"\u20bd":0.55,"&nbsp;":0.2,"&#160;":0.2,"&#x00A0;":0.2,"&shy;":0,"&#173;":0,"&#x00AD;":0,"&hyphen;":0.639,"&#8208;":0.639,"&#x2010;":0.639,"&#8381;":0.55,"&#x20bd;":0.55}}}')}},i={};e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,{a:i}),i},e.d=function(t,i){for(var o in i)e.o(i,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:i[o]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";function t(e){return"number"===typeof e&&isFinite(e)}function i(e){return"number"===typeof e&&isFinite(e)&&e>0}function o(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},r.apply(this,arguments)}function n(e){const n=function(e){if("function"===typeof e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();if(o(t)){const{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:o}=t;return{droppedVideoFrames:e,corruptedVideoFrames:i||0,totalVideoFrames:o}}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?r({},gl,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):gl}(e),{droppedVideoFrames:a,totalVideoFrames:s}=n;let l=fl.droppedVideoFramesRatio;return i(s)&&t(a)&&(l=a/s),r({},n,{droppedVideoFramesRatio:l})}function a(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments),i};return function(){return t.apply(this,arguments)}}function s(e){return"string"===typeof e}function l(e){if(!Boolean(null==e?void 0:e.toString))return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if("function"===typeof Object.keys)return Object.keys(e);const t=[];for(const i in e)d(e,i)&&t.push(i);return t}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},u.apply(this,arguments)}function h(e){return s(e)&&e.length>0}function p(e,t){try{return e()}catch(G_){"function"===typeof t&&t(G_)}}function m(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}function A(e){return"function"===typeof e||"Function"===Pl(e)}function v(e){let t="";for(let i=0;i<e;i++)t+=(16*Wl()|0).toString(16);return t}function _(e,t,i){void 0===i&&(i=" ");const o=t-e.length;if(o>0){let t=i;for(;t.length<o;)t+=t;return(t.length>o?t.substr(0,o):t)+e}return e}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t,i){for(const o in e)g(e,o)&&t.call(i,e[o],o,e)}function y(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}function S(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}function T(e,t){if(!A(e.matchMedia))return!1;const i=e.matchMedia(t);return S(i)&&Boolean(i.matches)}function E(e){return void 0===e&&(e=window),function(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:i,maxTouchPoints:o}=t;return i||o||0}(e)>0&&!function(e){return void 0===e&&(e=window),function(e){void 0===e&&(e=window);const t=Ql(e);return"boolean"===typeof t?-1:t}(e)>11}(e)}(e)||function(e){return T(e,ed)}(e)||function(e){return T(e,td)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||function(e){return"ontouchstart"in e}(e)}function b(e,t){if(void 0===t&&(t=!0),id&&t)return[];{const t=[];let i=e;for(;;)try{if(i=i.ownerDocument.defaultView.frameElement,!i)return t;t.push(i)}catch(G_){return t}}}function C(e){const t=b(e.documentElement).map((e=>e.ownerDocument));return t.unshift(e),t.map((e=>({location:y(e.defaultView),referrer:e.referrer})))}function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},P.apply(this,arguments)}function w(e){ld.href=e;let t=ld.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const i=(ld.search||"")+(ld.hash||""),o=e.lastIndexOf(i),r=-1===o?e:e.slice(0,o);if(dd.test(e)){const t=w(e.replace(dd,"https:"));return ld.href=e,P({},t,{originalPath:r,protocol:e.slice(0,e.indexOf(":")+1),href:ld.href})}const n=ld.protocol&&/^[a-z\-]+:/i.test(ld.protocol)?ld.protocol:"";return{originalPath:r,href:ld.href,protocol:n,host:ld.host,hostname:ld.hostname,port:ld.port,pathname:t,search:ld.search,hash:ld.hash}}function O(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,i="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(i?"/":"")+e.search+e.hash}const i="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+i+e.pathname+e.search+e.hash}function I(e){const t={},i=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let o=0;o<i.length;o++){const e=i[o].indexOf("=");let r,n;if(-1===e?(r=cd(i[o]),n=""):(r=cd(i[o].slice(0,e)),n=i[o].slice(e+1)),r){const e=Boolean(/(\[\])$/.exec(r));r=r.replace(/\[\]$/,""),e?void 0===t[r]?t[r]=[cd(n)]:t[r]=[].concat(t[r],cd(n)):t[r]=cd(n)}}return t}function k(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];nd(o)?t.push(ud(i,o)):void 0!==o&&t.push(i+"="+encodeURIComponent(o))}return"?"+t.join("&")}function N(e,t,i){let{override:o=!0,saveOriginalPath:r=!1}=void 0===i?{}:i;const n=w(e),a=I(n.search);return f(t,((e,t)=>{(void 0===a[t]||o)&&(a[t]=e)})),O(P({},n,{search:k(a)}),r)}function D(e,t){return-1!==e.indexOf(t)}function R(e){return Boolean(e)}function V(e){return e}function L(e){return"function"===typeof e}function x(e){o(console)&&L(console.warn)&&console.warn(e)}function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},B.apply(this,arguments)}function M(e,t){const i=U(F(e,{}),t);return o=t,Td.has(o)?(0,fd[t])(i):i;var o}function U(e,t){for(const{sourceName:i,getter:o}of e){const e=p((()=>o(t)));if(h(e))return x("VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+i+"]"),e}}function F(e,t){const i={},o=C(e.document);for(const{location:a}of o)f(I(w(a).search),((e,t)=>{i[t]=e}));const r=function(e){return{adsdktracelogs:e.VAS_TRACE_LOGS,adsdksecuremode:e.VAS_SECURE_MODE,adsdkwithcredentials:e.VAS_WITH_CREDENTIALS,adsdkabflags:e.VAS_AB_FLAGS,adsdkuaas:e.VAS_UAAS,[hd]:e.VAS_AIM_BANNER_ID,[pd]:e.VAS_AIM_DESIGN_ID,[md]:e.VAS_AIM_DESIGN_NAME,[Ad]:e.VAS_AIM_SUBDESIGN_ID,adsdkhoneypotforced:e.VAS_HONEYPOT_FORCED,adsdkgrforced:e.VAS_GR_FORCED,vasconsolelogs:e.VAS_CONSOLE_LOGS,vasnetworklogs:e.VAS_NETWORK_LOGS,vasdebug:e.VAS_DEBUG,vasfulldebug:e.VAS_FULL_DEBUG}}(t),n=[{sourceName:"UrlParams",getter:e=>i[e]},{sourceName:"LocalStorage",getter:t=>yd(e,t)},{sourceName:"GlobalVariable",getter:t=>((e,t)=>{for(const r of Sd(e)){var i,o;const e=null==(i=r.Ya)||null==(o=i.hardcodedParams)?void 0:o[t];if(e)return String(e)}})(e,t)},{sourceName:"ABFlag",getter:e=>r[e]}];return n}function H(e){let t=e;const i=[e],{top:o}=e;for(;t!==o;)t=t.parent,i.push(t);return i}function z(e){if(!e)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t}function j(e,t){if(void 0===t&&(t=!0),id&&t)return[];{const t=[];let i=e;for(;;)try{if(i=i.ownerDocument.defaultView.frameElement,!i)return t;t.push(i)}catch(G_){return t}}}function Y(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];kl(e)&&Ol(e,(e=>{"function"===typeof e&&e(...i)}))}function W(){}function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},G.apply(this,arguments)}function X(e,t){return function(e){const i=Dd,o=i.console;if(!t||void 0===o)return;const r="AdSDKJS[AdLoader]:";for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];null==o.log||o.log(r,e,...a)}}function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},K.apply(this,arguments)}function q(e){var t,i,r,n,a,l;const d=(e=>{let t;return{rootFields:p((()=>(e=>{if(o(e)){const t={},{vsid:i,contentPlayerVersion:o,pcodeVersion:r,widgetVersion:n}=e;if(h(i)&&(t.vsid=i),h(o)&&(t.contentPlayerVersion=o),h(r)&&(t.pcodeVersion=r),h(n)&&(t.widgetVersion=n),c(t).length>0)return t}})(e)),(e=>{t=e}))||void 0,extractionError:t}})(null==Bd?void 0:Bd.STATS_ROOT_PARAMS),{config:u,parsingError:m}=function(e,t){let i,o=(null==t?void 0:t.VAS_UAAS_CONFIG)||Dl;try{const t=M(e,"adsdkuaas"),i=Ll(t);if(i.error)throw i.error;o=i.config}catch(G_){i=G_}return{config:o,parsingError:i}}(e,Bd),A=function(e,t,i){var o;const r=t.flags,n=null!=(o=null==i?void 0:i.AB_FLAGS)?o:{};const a=M(e,"adsdkabflags"),l=s(a)?ql(a.split(","),((e,t)=>{const[i,o]=t.split("=");return K({},e,{[i]:o})}),{}):{};return K({},{},r,n,l)}(e,u,Bd),_=function(e,t){const i=F(e,t),o=ql(vd,((e,t)=>{const o=U(i,t);return B({},e,{[t]:(0,fd[t])(o)})}),{});return o.adsdkdebug&&(console.warn("adsdkdebug is deprecated, use vasfulldebug instead"),o.vasfulldebug=!0),o.vasfulldebug&&(o.vasnetworklogs="false"!==U(i,"vasnetworklogs"),o.vasconsolelogs="false"!==U(i,"vasconsolelogs"),o.vasdebug="false"!==U(i,"vasdebug")),o}(e,A),g=_.vasdebug,f=_.vasconsolelogs,y=X(_.adsdktracelogs,f),S=(null==d||null==(t=d.rootFields)?void 0:t.vsid)||(null==Bd?void 0:Bd.VSID)||(void 0===T&&(T=El),[v(44),Gl,Xl(T),Kl()].join("x"));var T;y((null!=d&&null!=(i=d.rootFields)&&i.vsid||null!=Bd&&Bd.VSID?"Use VSID from session":"Generate new VSID")+" ["+S+"]");const E=null!=(r=null==Bd?void 0:Bd.VAS_USER_SESSION_RANDOM)?r:Wl(),b=(null==Bd?void 0:Bd.ICOOKIE)||u.iCookie,C=(null==Bd?void 0:Bd.AdditionalStatsRootFields)||d.rootFields||void 0,P=(null==Bd?void 0:Bd.TEST_IDS)||u.testIds||void 0,O=(Od&&w(Od).hostname,null!=(n=null==Bd?void 0:Bd.loaderLoadedFromAnYandexRu)&&n),{productTheme:I,pageId:k,impId:N}=null!=Bd?Bd:{};return{hardcodedParams:_,isDebugEnabled:g,VSID:S,VAS_USER_SESSION_RANDOM:E,AB_FLAGS:A,ICOOKIE:b,TEST_IDS:P,VAS_UAAS_CONFIG:u,VAS_UAAS_CONFIG_ParseError:m,AdditionalStatsRootFields:C,AdditionalStatsRootFieldsExtractionError:d.extractionError,STATS_ROOT_PARAMS:null!=(a=null==Bd?void 0:Bd.STATS_ROOT_PARAMS)?a:{},isRumEnabledByLogProbability:!1,loaderLoadedFromAnYandexRu:O,activeTestIds:null==Bd?void 0:Bd.ActiveTestIds,grWasSent:null!=(l=null==Bd?void 0:Bd.grWasSent)&&l,productTheme:I,pageId:k,impId:N}}function Q(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}function J(e,t){Ol(e,(e=>{Q(e,t)}))}function Z(e,t){const i={};return Ol(c(e),(o=>{i[o]=t(e[o],o)})),i}function $(e){return Jd?z(e.location.ancestorOrigins):[]}function ee(e){let t="",i="";return e&&C(e).reverse().forEach((e=>{let{location:o,referrer:r}=e;t=t||o,i=i||r})),{location:t,referrer:i}}function te(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments),i};return function(){return t.apply(this,arguments)}}function ie(){}function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},oe.apply(this,arguments)}function re(e){const{method:t,url:i,async:o=!0,data:r,responseType:n="text",onBeforeSend:a=ie,onRetry:s=ie,checkStatus:l=(e=>sc===e),headers:d={},xhrConstructor:c=XMLHttpRequest,retries:u=0,timeout:h=0,withCredentials:p,onAbort:m,onSetup:A}=e;if(!c)return;const v=e.onSuccess?te(e.onSuccess):ie,_=e.onError?te(e.onError):ie;let g,y=!1,S=0,T=e=>{y=!0,T=ie,g=e,E(new Error("Abort request")),"function"===typeof m&&m(e)};const E=t=>{if(b.onerror=null,b.onreadystatechange=null,S&&clearTimeout(S),S&&4!==b.readyState||y)try{b.abort()}catch(t){}if(!y)if(u>0){const i=s(t,b);if("boolean"!==typeof i||Boolean(i)||T(),y)return;re(oe({},e,{onSetup:e=>{let{abort:t}=e;T=e=>t(e),y&&t(g)},retries:u-1}))}else T=ie,_(t,b)},b=new c;try{b.open(t,i,o)}catch(G_){return void E(G_)}if(b.responseType=n,b.withCredentials=Boolean(p),f(d,((e,t)=>{try{b.setRequestHeader(t,e)}catch(G_){}})),h>0&&isFinite(h)&&(S=window.setTimeout((()=>{E(new Error("Request timeout, "+i))}),h)),b.onerror=E,b.onreadystatechange=()=>{if(4===b.readyState){const{status:e}=b;l(e)?(T=ie,clearTimeout(S),v(b)):E(new Error("Invalid request status "+e+", "+i))}},("function"!==typeof A||(A({abort:e=>T(e)}),!y))&&(a(b,e),!y))try{b.send(r)}catch(G_){E(G_)}}function ne(e){if(!mc(e))return!1;const{code:t}=e;return!(!t||"0"===t)}function ae(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function se(e){return JSON.stringify(e,function(){const e=[],t=function(){const e="undefined"===typeof WeakMap?void 0:new WeakMap,t=[];return{set:(i,o)=>{if(void 0!==e)try{e.set(i,o)}catch(r){t.push({path:o,value:i})}else t.push({path:o,value:i})},get:i=>{const o=Cd(t,(e=>e.value===i));return void 0!==e&&void 0===o?e.get(i):o?o.path:void 0}}}();return(i,r)=>{if(L(r))return s(r.name)?r.name:"[Function]";if(wl(r))return Ac(r);if(!o(r))return r;if(vc(r))return(n=r).id?n.id:n.className?n.className:"HTML Element";var n;const a=t.get(r);if(h(a))return"[Circular "+a+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const l=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:l,value:r}),t.set(r,l),r}}())}function le(e){return"ontouchstart"in e}function de(e){return e.screen.availHeight>e.screen.availWidth?"portrait":"landscape"}function ce(){const{document:e}=Dd;if(void 0!==e&&"function"===typeof e.hasFocus)try{return e.hasFocus()}catch(t){}}function ue(e){return L(Ic(e))}function he(e){return"function"===typeof Object.entries?Object.entries(e):Nc(c(e),(t=>[t,e[t]]))}function pe(e,t){void 0===t&&(t=!0);const i=Dc(e);return i?!e[i]:t}function me(e,t,i){for(const o in e)d(e,o)&&t.call(i,e[o],o,e)}function Ae(e){if(!o(e))return;const t={};let i=!1;return me(e,((e,o)=>{void 0!==e&&("boolean"===typeof e||h(e))&&(t[o]=String(e),i=!0)})),i?t:void 0}function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ve.apply(this,arguments)}function _e(e){Ol(e,(e=>Bc.error({error:e})))}function ge(e){const t=function(e){const t=[];let i=0;for(e=e.replace(/[^A-Za-z0-9\-_=]/g,"");i<e.length;){const o=Mc.indexOf(e.charAt(i++)),r=Mc.indexOf(e.charAt(i++)),n=Mc.indexOf(e.charAt(i++)),a=Mc.indexOf(e.charAt(i++)),s=o<<2|r>>4,l=(15&r)<<4|n>>2,d=(3&n)<<6|a;t.push(String.fromCharCode(s)),64!==n&&t.push(String.fromCharCode(l)),64!==a&&t.push(String.fromCharCode(d))}return t.join("")}(e);return function(e){const t=[];let i=0;for(;i<e.length;){const o=e.charCodeAt(i);if(o<128)t.push(String.fromCharCode(o)),i++;else if(o>191&&o<224){const r=e.charCodeAt(i+1);t.push(String.fromCharCode((31&o)<<6|63&r)),i+=2}else{const r=e.charCodeAt(i+1),n=e.charCodeAt(i+2);t.push(String.fromCharCode((15&o)<<12|(63&r)<<6|63&n)),i+=3}}return t.join("")}(t)}function fe(e){const{hostname:t,pathname:i}=w(e),o=Uc.test(t),r=t===Md&&i.startsWith("/adfox"),n=t===Ud&&Fc.test(i);return o||r||n}function ye(e){if(!e)return!1;const{hostname:t}=w(e);return!(!t||0===t.length)&&Hc(zc,(e=>{return e===t||(o="."+e)===(i=t).substring(i.length-o.length);var i,o}))}function Se(e){let t,{remainingLoadWrapperVastCount:i,isAdFox:o,url:r,adBreakType:n,adPlacementOptions:a,adConfig:s}=e;return t=o||r&&fe(r)?"AD_FOX":r&&ye(r)?"YANDEX":"EXTERNAL",{adPlacementOptions:a,vastSourceType:t,vastTimeout:3e3,remainingLoadWrapperVastCount:i,adBreakType:n,requestMethod:jc({secureMode:s.secureMode,url:r})?"VASFrame":"XMLHttpRequest"}}function Te(e){if(!o(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!o(t)||!o(t.data_params))return;const i=Gc(t.data_params);if(!o(i))return;const r=i.target_url;return h(r)?r:void 0}function Ee(e){let{type:t}=e;return h(t)&&Kc.indexOf(t)>-1?"js":"video"}function be(e,t){if(e!==qc.EMPTY)return!1;if(!o(t))return!1;const{AUCTION_DC_PARAMS:i}=t;if(!o(i))return!1;const{data_params:r}=i;if(!o(r))return!1;const{misc:n}=r;if(!o(n))return!1;const{layout_type:a}=n;return"clickable_video"===a}function Ce(e){return function(e){return""+eu+e+"/"}(e)}function Pe(e){if(!o(e))throw new Sc({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON",details:{adParametersObject:e}});const{theme:t}=e;if(t===qc.INTERACTIVE_VIEWER)return{url:Zc,adFormatType:"interactiveViewer",detectionMethod:"ivTheme"};if(be(t,e))return{url:au,adFormatType:"clickableVideo",detectionMethod:"clickableOnlyVideo"};if(t===qc.EMPTY)return{url:au,adFormatType:"themeEmpty",detectionMethod:"emptyTheme"};if(t===qc.SURVEY)return{url:au,adFormatType:"survey",detectionMethod:"surveyTheme"};if(t===qc.MOTION)return{url:tu,adFormatType:"motion",detectionMethod:"motionTheme"};throw new Sc({code:"CANNOT_DETECT_CREATIVE_BY_AD_PARAMETERS",details:{adParametersObject:e}})}function we(e){const t=null==e?void 0:e.mediaFiles[0];if(!o(t))return"external";const{type:i,url:r}=t;if("js"!==Ee({type:i}))return"video";if(!ye(r))return"external";try{if(e.adParametersObject){const{adFormatType:t}=Pe(e.adParametersObject);return t}}catch(n){}return"external"}function Oe(e,t){return{AB_FLAGS_STORE:t,VSID:e.VSID,VAS_USER_SESSION_RANDOM:e.VAS_USER_SESSION_RANDOM,AB_FLAGS:e.AB_FLAGS,ICOOKIE:e.ICOOKIE,TEST_IDS:e.TEST_IDS,VAS_UAAS_CONFIG:e.VAS_UAAS_CONFIG,AdditionalStatsRootFields:e.AdditionalStatsRootFields,STATS_ROOT_PARAMS:e.STATS_ROOT_PARAMS,loaderLoadedFromAnYandexRu:e.loaderLoadedFromAnYandexRu,ActiveTestIds:e.activeTestIds,grWasSent:e.grWasSent,productTheme:e.productTheme,pageId:e.pageId,impId:e.impId}}function Ie(e){let{element:t,eventName:i,listener:o,options:r,ignoreBubbling:n=!1}=e;const a=n?function(e){e.target===t&&o.call(this,e)}:o,s=function(e){let t=!1,i=!1,o=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),o=Boolean(e.once)),{capture:t,passive:i,once:o}}(r),l=hu?s:s.capture,d=s.once&&!cu?function(e){c(),a.call(this,e)}:a,c=()=>{L(t.removeEventListener)&&t.removeEventListener(i,d,l)};return t.addEventListener(i,d,l),c}function ke(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}function Ne(e,t){const i=e.style;for(const o in t)t.hasOwnProperty(o)&&(i[fu(o)]=t[o])}function De(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const i in e)g(e,i)&&t.push(i);return t}}function Re(e,t){De(t).forEach((i=>{const o=t[i];null===o?e.removeAttribute(i):e.setAttribute(i,o)}))}function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ve.apply(this,arguments)}function Le(){return Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Le.apply(this,arguments)}function xe(e,t){try{return e()}catch(G_){"function"===typeof t&&t(G_)}}function Be(e){setTimeout((()=>{throw e}),0)}function Me(){return Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Me.apply(this,arguments)}function Ue(e){const t={};return Ol(e,(e=>{let[i,o]=e;t[i]=o})),t}function Fe(){return Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Fe.apply(this,arguments)}function He(){return He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},He.apply(this,arguments)}function ze(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(t){return null}}function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},je.apply(this,arguments)}function Ye(e){let{url:t,data:i,timeout:o,doRequest:r=Gu,withCredentials:n}=e;return new Promise((async(e,a)=>{"https:"===window.location.protocol&&(t=function(e){return ld.href=e,ld.protocol="https:",ld.href}(t));const s=Xu(o),l=r({url:t,data:i,withCredentials:n});try{const t=await Promise.race([l,s]);return t?e(je({},t,{xml:ze(t.responseText)})):a({reason:"timeout",error:new Error("XHR Timeout")})}catch(d){return a(d)}}))}function We(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.join("")}function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ge.apply(this,arguments)}function Xe(e){let{url:t,options:i,ignoreAbd:o=!1,win:r,preferableAdSize:n}=e;if(ue(r)&&!o)return t;if(!ye(t)&&!fe(t))return t;const a=Math.round(100*i.videoVolume),s=ce(),l=qd.getActiveTestIds().join(";"),d=null==Bd?void 0:Bd.productTheme,c=function(e){var t,i,o,r,n;const{preferableAdSize:a,adPlacementOptions:s,useMinimalSizeRestriction:l=!1}=e,d=s.size,c=s.screenSize,u=l?{width:Eh,height:Th}:{width:0,height:0},h=Math.round((null==a?void 0:a.width)||(null==s||null==(t=s.size)?void 0:t.width)||(null==d?void 0:d.width)||u.width),p=Math.round((null==a?void 0:a.height)||(null==s||null==(i=s.size)?void 0:i.height)||(null==d?void 0:d.height)||u.height),m=s.visibility>0?1:0,A=l&&!Boolean((null==a?void 0:a.width)||(null==s||null==(o=s.size)?void 0:o.width)||(null==d?void 0:d.width)),v=l&&!Boolean((null==a?void 0:a.height)||(null==s||null==(r=s.size)?void 0:r.height)||(null==d?void 0:d.height));(A||v)&&Bc.log({name:"UsedDefaultSizeForLayoutConfig",data:{isDefaultWidthUsed:A,isDefaultHeightUsed:v,preferableAdSize:a,adPlacementOptions:s,videoSlotSize:d}});const _=null!=(n=s.videoNodePosition)?n:{top:0,left:0},g=s.devicePixelRatio;return(c.width<h||c.height<p)&&Bc.log({name:"LayoutConfigWinSizeIsSmallerThanVideoNodeSize",data:{winSize:c,videoSlotSize:{width:h,height:p}}}),{win_width:Math.round(c.width),win_height:Math.round(c.height),pixel_ratio:g,bandwidth:s.downlink,width:h,height:p,w:h,h:p,left:_.left,top:_.top,visible:m,req_no:Ch++}}({preferableAdSize:n,adPlacementOptions:i,useMinimalSizeRestriction:"TRUE"===qd.getFlagValueAndActivateTestId("VAS_USE_MINIMAL_SIZE_INSTEAD_OF_ZERO_FOR_LAYOUT_CONFIG")});return N(t,{"adsdk-bundle-version":El,"adsdk-bundle-name":Id,"ad-session-id":vh(),[qu]:Yd,shyid:_h(r),"top-ancestor":nc,"top-ancestor-undetermined":ac?"0":"1","client-ts":String(Date.now()),"client-timezone-offset":String((new Date).getTimezoneOffset()),"viewability-undetermined":yh()?"0":"1","video-volume":String(a),"video-muted":i.videoMuted?"1":"0","pcode-active-testids":l||void 0,"document-has-focus":void 0===s?"unknown":String(s),"is-fullscreen":void 0===i.isFullscreen?"unknown":String(i.isFullscreen),"device-orientation":le(r)?de(r):void 0,[$u]:void 0===i.adPodId?"unknown":i.adPodId,"product-theme":void 0===d?"unknown":d,"layout-config":JSON.stringify(c)},{override:!1})}function Ke(e){return[].concat.apply([],e)}function qe(e){return-1!==e.search(/[rR]each/)}function Qe(){return Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Qe.apply(this,arguments)}function Je(){return Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Je.apply(this,arguments)}function Ze(){return Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ze.apply(this,arguments)}function $e(){return $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},$e.apply(this,arguments)}function et(e){const t=[];if(!kl(e))return t;for(const i of e){const e=tt(i);e&&t.push(e)}return t}function tt(e){if(!o(e))return;const{width:t,height:r,url:n,type:a}=e;return h(n)?$e({},i(t)&&i(r)?{width:t,height:r}:void 0,h(a)?{type:a}:void 0,{url:n}):void 0}function it(){return it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},it.apply(this,arguments)}function ot(e){if(!o(e))return Vh;const{type:t,poster:i}=e;return it({},t in Dh?{type:t}:void 0,{poster:et(i)})}function rt(){return rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},rt.apply(this,arguments)}function nt(e){return!!o(e)&&!!e.id&&!!h(e.description)}function at(e,t,i){if(void 0===i&&(i=""),e.hasAttribute(t)){var o;const i=e.getAttribute(t);return null!=(o=null==i?void 0:i.trim())?o:""}return i}function st(e){var t,i;return null!=(t=null==e||null==(i=e.textContent)?void 0:i.trim())?t:""}function lt(e){return Boolean(e&&st(e).length)}function dt(e){const t=parseInt(at(e,"width",0),10),o=parseInt(at(e,"height",0),10),r=parseInt(at(e,"bitrate",0),10),n=at(e,"minBitrate",""),a=n?parseInt(n,10):void 0,s=at(e,"maxBitrate",""),l=s?parseInt(s,10):void 0,d=at(e,"vmafAvg",""),c=d?parseFloat(d):void 0,u=at(e,"codec",""),p={width:t,height:o,bitrate:r,type:at(e,"type"),url:st(e)};return h(u)&&(p.codec=u),i(a)&&(p.minBitrate=a),i(l)&&(p.maxBitrate=l),i(a)&&i(l)&&a>l&&Bc.error({error:new Sc({code:"MIN_BITRATE_GREATER_THAN_MAX_BITRATE",details:{adMediaFile:p}})}),i(c)&&(p.vmafAvg=c),p.url?p.type?p:(Bc.error({error:new Sc({code:"INVALID_MEDIA_FILE_TYPE",details:{adMediaFile:p}})}),null):(Bc.error({error:new Sc({code:"INVALID_MEDIA_FILE_URL",details:{adMediaFile:p}})}),null)}function ct(e){var t,i,r;if(!o(e))return;const n=null==(t=e.AUCTION_DC_PARAMS)||null==(i=t.data_params)||null==(r=i.misc)?void 0:r.productType;return h(n)?n:void 0}function ut(e){return function(e){return void 0===e&&(e=window),void 0===zh&&(zh=function(e){return void 0===e&&(e=window),e.JSON&&m(e.JSON.stringify)&&m(e.JSON.parse)}(e)?e.JSON:{stringify:jh("stringify"),parse:jh("parse")}),zh}().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,o)=>{if(void 0!==e)try{e.set(i,o)}catch(r){t.push({path:o,value:i})}else t.push({path:o,value:i})},get:i=>{const o=Hh(t,(e=>e.value===i));return void 0!==e&&void 0===o?e.get(i):o?o.path:void 0}}}();return(i,o)=>{if(A(o))return s(o.name)?o.name:"[Function]";if(!S(o))return o;const r=t.get(o);if(r)return"[Circular "+r+"]";for(;e.length>0&&e[e.length-1].value[i]!==o;)e.pop();const n=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:n,value:o}),t.set(o,n),o}}())}function ht(e){const t={};return o(e)&&Ol(c(e),(i=>{const o=e[i];Array.isArray(o)&&(t[i]=Wd(o,(e=>"string"===typeof e)))})),t}function pt(){const e={};for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return Ol(i,(t=>{Ol(c(t),(i=>{const o=e[i]||[],r=t[i]||[];e[i]=[...o,...r]}))})),e}function mt(e){if(void 0===e)return;const t=Number(e);return i(t)?t:void 0}function At(e,t){const i={};return Ol(c(e),(o=>{t(e[o],o)&&(i[o]=e[o])})),i}function vt(){return vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},vt.apply(this,arguments)}function _t(e){const t=wh(tp);if(!o(e))return t;const i=(e,i)=>{void 0===t.controlsVisibility[i]&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)};i(e.showSoundButton,"mute"),i(e.showSkipButton,"skip");const{controlsSettings:r}=e;if(o(r)){const{controlsVisibility:e}=r;if(o(e)&&("undefined"===typeof r.pause&&"undefined"!==typeof r.play&&(t.controlsVisibility.pause=r.play),f(e,((e,i)=>{$h.indexOf(i)>-1&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)}))),!1===r.visibility){const e=At(t.controlsVisibility,(e=>!0===e));t.controlsVisibility=vt({},ep,e)}"videoInCombo"===r.skinVariant&&(t.skinVariant="videoInCombo")}return delete t.visibility,t}function gt(e){const t=o(e)?e:{},r="number"===typeof t.bufferFullTimeout?Math.min(t.bufferFullTimeout,Qh):void 0;return{config:{pauseOnClickThrough:void 0!==t.pauseOnClickThrough&&Boolean(t.pauseOnClickThrough),backgroundBlur:void 0===t.backgroundBlur?void 0:Boolean(t.backgroundBlur),description:"string"===typeof t.description?t.description:void 0,videoTimeout:i(t.videoTimeout)?t.videoTimeout:void 0,vpaidTimeout:i(t.vpaidTimeout)?t.vpaidTimeout:void 0,bufferFullTimeout:r,bufferEmptyLimit:i(t.bufferEmptyLimit)?t.bufferEmptyLimit:void 0,clickThroughUrl:"string"===typeof t.clickThroughUrl?t.clickThroughUrl:void 0,trackingEvents:t.trackingEvents?ht(t.trackingEvents):{},controlsSettings:_t(t),videoSlotCanAutoPlay:void 0===t.videoSlotCanAutoPlay?void 0:Boolean(t.videoSlotCanAutoPlay),desiredBitrate:mt(t.desiredBitrate),lang:"string"===typeof t.lang?t.lang:Kh,contentAfterAd:ot(t.contentAfterAd)},errors:[]}}function ft(e){try{return"string"===typeof e?JSON.parse(e):void 0}catch(G_){return}}function yt(e,t){if(ye(e)||fe(e)){const i=function(e,t){return!!ip&&window.navigator.sendBeacon(e,t)}(e,t);if(i)return}else ye(e)&&Bc.log({name:"TrackYandexUrlWithImage",data:{url:e},probability:pc});!function(e){(new Image).src=e}(e)}function St(e){let{error:t,trackingUrls:i}=e;kc("Track error=["+t+"]"),function(e){if(!Array.isArray(e))return;const t=Nc(e,(e=>Xe({url:e,options:Sl,win:window})));Ol(t,(e=>yt(e)))}(i)}function Tt(e,t){void 0===t&&(t=[]),Bc.errorToStats(e),St({error:e,trackingUrls:t})}function Et(e){return"string"!==typeof e?NaN:ql(e.split(":").reverse(),((e,t,i)=>e+parseFloat(t)*60**i),0)}function bt(e){if(e.indexOf("%")>-1){const i=parseFloat(e);return t(i)?{unit:"portion",value:i/100}:void 0}const i=Et(e);if(t(i))return{unit:"seconds",value:i}}function Ct(e){return"number"===typeof e&&isFinite(e)&&e>=0}function Pt(){return Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Pt.apply(this,arguments)}function wt(e){return void 0===e&&(e=""),e.replace(np,(e=>e in ap?ap[e]:e))}function Ot(e){if(!o(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!o(t))return;const{data_params:i}=t;return o(i)?Gc(i):void 0}function It(e){const t=Ot(e);if(!t)return;const{text:i}=t;return o(i)?i:void 0}function kt(e){const t=It(e);if(!t||!o(e))return{};const{HAS_TITLE:i,HAS_BODY:r}=e;return{title:h(t.title)?wt(t.title):void 0,body:h(t.body)?wt(t.body):void 0,hasBody:"boolean"===typeof r?r:void 0,hasTitle:"boolean"===typeof i?i:void 0}}function Nt(e){let{domain:t,greenUrlTextPrefix:i,greenUrlTextSuffix:o}=e;return h(i)?i:h(o)?o:h(t)?t:void 0}function Dt(e){const{BUTTON_LABELS:t,BUTTON_TEXT:i}=e;return o(t)&&h(t[Kh])?t[Kh]:h(i)?i:void 0}function Rt(e){const t=Ot(e);if(!o(t))return;const{unmoderated:i}=t;return o(i)?i:void 0}function Vt(e){return i(e)&&function(e){return t(e)&&Math.floor(e)===e}(e)}function Lt(){return Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Lt.apply(this,arguments)}function xt(e){var t,i;const{AUCTION_DC_PARAMS:r}=e;if(!o(r)||!o(r.data_params))return;const n=Gc(r.data_params);if(!o(n))return;const a=(null==(t=n.click_url)?void 0:t.action_button)||(null==(i=n.click_url)?void 0:i.text_name);return h(a)?a:void 0}function Bt(e){let{chars:t,settings:i}=e;const{fontSize:o,fontWeight:r="normal",fontStyle:n="normal"}=i;Array.isArray(t)||(t=t.split(""));const a=yp.ys[r][n];let s=0;for(const d of t)s+=o*(a.hasOwnProperty(d)?a[d]:a.m);return l=s,Math.round(1e4*l)/1e4;var l}function Mt(e){let{text:t,fontSize:i,containerWidth:o,canvas:r,isBold:n}=e;if(0===t.length)return 0;const a="500 "+i+"px YS Text, -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif",s=null==r?void 0:r.getContext("2d");s&&(s.font=a);const l=t.split(" ");let d=1,c=0;for(let u=0;u<l.length;u++){const e=s?s.measureText(l[u]+" ").width:Bt({chars:l[u]+" ",settings:{fontSize:i,fontWeight:n?"bold":"normal"}});c+=e,c>o&&(e>o?d+=Math.floor(e/o):d++,c=e%o)}return d}function Ut(e){let{titleText:t,hintText:i,options:o,hasQuestionImage:r,isSimpleSurvey:n,orientation:a="landscape",canvas:s}=e;const l=r?376:540,d=28*Mt({text:t,fontSize:24,containerWidth:l,canvas:s,isBold:!0}),c=19*Mt({text:i,fontSize:14,containerWidth:l,canvas:s,isBold:!1}),u=r?150:0,h="landscape"===a?Math.max(u,d+c):u+d+c,p="portrait"===a?86:43;if(n&&o){const e="landscape"===a?2:1;let t=1;const i=(540-(2===e?12:0))/e;Ol(o,(e=>{const o=i-15-20-8,r=19*Mt({text:e.label,fontSize:14,containerWidth:o,canvas:s,isBold:!0});r>t&&(t=r)}));const r=26+t,n=o.length;return{height:54+h+(r*Math.ceil(n/e)+32+6*(n/e-1))+p+16,width:i*e+(2===e?12:0)+24}}return n?{width:0,height:0}:{height:54+h+52+32+p+16,width:0}}function Ft(e,t){if(!o(e))return;const{questions:i}=e;if(!Array.isArray(i))return;let r=0,n=0;return Ol(i,(e=>{const{type:i}=e,o="choice"===i||"multichoice"===i;if(!o&&!t)return;const{noAnswer:a,noOpinionAnswer:s,otherAnswer:l,options:d,attachment:c,label:u}=e;let h;if(o){const e=function(e){let{options:t,noOpinionAnswer:i,otherAnswer:o,noAnswer:r,handleClickOther:n,handleClickOption:a,handleClickNoAnswer:s,handleClickNoOpinionAnswer:l}=e;const d=Wd(Nc(t,(e=>(Object.assign(e,{onClick:a}),e))),(e=>!1!==e.visible));return null!=o&&o.enabled&&d.push({id:-1,label:o.label,checked:o.checked,onClick:n}),null!=r&&r.enabled&&d.push({id:-1,label:r.label,checked:r.checked,onClick:s}),null!=i&&i.enabled&&d.push({id:-1,label:i.label,checked:i.checked,onClick:l}),d}({options:d,noAnswer:a,noOpinionAnswer:s,otherAnswer:l});h=t?Ut({options:e,hasQuestionImage:Boolean(null==c?void 0:c.url),titleText:u,hintText:"sample",isSimpleSurvey:o}):function(e){let t,{hasQuestionImage:i,titleText:o,hintText:r,options:n,orientation:a="landscape",sizing:s="xs",isHorizontal:l=!1,embedType:d="outstream",canvas:c}=e;t=i&&!l?fp[s]+gp[s]:0;const u=40*Mt({text:o,fontSize:28,containerWidth:mp[s],canvas:c,isBold:!0}),h=40*Mt({text:r,fontSize:22,containerWidth:mp[s],canvas:c,isBold:!1}),p="landscape"===a?2:1;let m=1;Ol(n,(e=>{const t=mp[s]/p-(2===p?_p[s]/2:0)-24-42.2,i=28*Mt({text:e.label,fontSize:14,containerWidth:t,canvas:c,isBold:!0});i>m&&(m=i)}));const A=2*Ap[s]+m,v=n.length;return{height:19+t+u+h+(A*Math.ceil(v/p)+2*vp[s]+_p[s]*(v/p-1))+45+("instream"===d?68:25),width:(l?2*mp[s]:mp[s])+30}}({options:e,hasQuestionImage:Boolean(null==c?void 0:c.url),titleText:u,hintText:"sample"})}else h=Ut({hasQuestionImage:Boolean(null==c?void 0:c.url),titleText:u,hintText:"sample",isSimpleSurvey:o});h.width>n&&(n=h.width),h.height>r&&(r=h.height)})),{height:r,width:n}}function Ht(){return Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ht.apply(this,arguments)}function zt(e,t){let i=!1;const o=function(){const o=i?t:e;return i=!0,o.apply(this,arguments)};return function(){return o.apply(this,arguments)}}function jt(e){let{win:t,methodName:i,data:o,id:r}=e;t.postMessage({methodName:i,data:o,id:r},"*")}function Yt(e){const t=Object.values;if("function"===typeof t)return t(e);const i=[];for(const o in e)d(e,o)&&i.push(e[o]);return i}function Wt(){return Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Wt.apply(this,arguments)}function Gt(){return Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Gt.apply(this,arguments)}function Xt(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;if("string"===typeof i.type||"number"===typeof i.type)switch(i.type){case Lp.BLUETOOTH:return 3;case Vp.CELL_2G:return.384;case Vp.CELL_3G:case Lp.CELLULAR:return 2;case Lp.WIMAX:return 37;case Lp.NONE:return 0;case Vp.ETHERNET:case Lp.ETHERNET:case Vp.WIFI:case Lp.WIFI:case Lp.MIXED:return 10;case Vp.UNKNOWN:case Lp.UNKNOWN:case Lp.OTHER:}return-1}function Kt(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}function qt(e,t){const i=window,o=i.document;if(t&&(r=function(e){return e.location.host}(i))&&r&&0!==r.length&&((e,t)=>{for(let a=0;a<e.length;a++)if(i=e[a],o=void 0,n=void 0,i===r||(n="."+i)===(o=r).substring(o.length-n.length))return!0;var i,o,n;return!1})(Mp))return t;var r;let n=Qt(e,o);if("t\n"===n&&i.top!==i.self)try{n=Qt(e,i.parent.document)}catch(G_){}return function(e,t){void 0===t&&(t=1e6);const i=function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let o=0;o<e.length;o++){const r=e.charCodeAt(o);let n;if(r<128?n=String.fromCharCode(r):r>127&&r<2048?(n=String.fromCharCode(r>>6|192),n+=String.fromCharCode(63&r|128)):(n=String.fromCharCode(r>>12|224),n+=String.fromCharCode(r>>6&63|128),n+=String.fromCharCode(63&r|128)),i.length+n.length>t)break;i+=n}return i}(e,3*t/4|0);return function(e){let t="",i=0;for(;i<e.length;){const o=e.charCodeAt(i++),r=e.charCodeAt(i++),n=e.charCodeAt(i++),a=o>>2,s=(3&o)<<4|r>>4;let l=(15&r)<<2|n>>6,d=63&n;isNaN(r)?l=d=64:isNaN(n)&&(d=64),t=t+Up.charAt(a)+Up.charAt(s)+Up.charAt(l)+Up.charAt(d)}return t}(i)}(n,e)}function Qt(e,t){const i=[];let o=0;i.push("t"+(t.title||"")),o+=i[0].length;for(let r=1;r<4&&o<e;r++){const e=t.getElementsByTagName("h"+r),n=e.length;for(let t=0;t<n;t++){const n=Jt(e[t]);o+=n.length,i.push(""+r+n)}}return i.join("\n")+"\n"}function Jt(e){const t=[];let i="";if(!e)return i;for(t.push(e);t.length>0;)if(3===(e=t.pop()).nodeType)i+=e.nodeValue+" ";else if(e.childNodes&&e.childNodes.length>0){const i=e.childNodes;for(let e=i.length-1;e>=0;e--)t.push(i[e])}return i.replace(/\s+/g," ")}function Zt(e){return Boolean(e.YA_TURBO_PAGES)}function $t(e,t){void 0===t&&(t=1e6);const i=function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let o=0;o<e.length;o++){const r=e.charCodeAt(o);let n;if(r<128?n=String.fromCharCode(r):r>127&&r<2048?(n=String.fromCharCode(r>>6|192),n+=String.fromCharCode(63&r|128)):(n=String.fromCharCode(r>>12|224),n+=String.fromCharCode(r>>6&63|128),n+=String.fromCharCode(63&r|128)),i.length+n.length>t)break;i+=n}return i}(e,3*t/4|0);return function(e){let t="",i=0;for(;i<e.length;){const o=e.charCodeAt(i++),r=e.charCodeAt(i++),n=e.charCodeAt(i++),a=o>>2,s=(3&o)<<4|r>>4;let l=(15&r)<<2|n>>6,d=63&n;isNaN(r)?l=d=64:isNaN(n)&&(d=64),t=t+Mc.charAt(a)+Mc.charAt(s)+Mc.charAt(l)+Mc.charAt(d)}return t}(i)}function ei(e){let t;try{t=JSON.stringify(e)}catch(G_){}return t}function ti(e){return void 0===e&&(e=window),Boolean(e.ampSeen)}function ii(e){void 0===e&&(e=window);let t="";const i=e.context,o=e.Ya;return ti(e)&&i&&i.master.Ya&&i.master.Ya.getSkipToken?t=i.master.Ya.getSkipToken():o&&o.Context&&o.Context.AdvManager&&o.Context.AdvManager.getSkipToken&&(t=o.Context.AdvManager.getSkipToken()),t}function oi(e){return void 0===e&&(e=window),String(e.location)}function ri(e){return void 0===e&&(e=window),$t(((e,t)=>{let i=[];try{i=e.cookie?e.cookie.split("; "):[]}catch(G_){}const o=/(%[0-9A-Z]{2})+/g;let r;for(let n=0;n<i.length;n++){const e=i[n].split("="),t=e.slice(1).join("=");try{const i=e[0].replace(o,decodeURIComponent);if(t.replace(o,decodeURIComponent),"_ym_uid"===i){r=decodeURIComponent(t);break}}catch(G_){return}}return r})(e.document)||"")}function ni(e){return void 0===e&&(e=window),e.location.hostname}function ai(){return ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ai.apply(this,arguments)}function si(){return si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},si.apply(this,arguments)}function li(e,t){void 0===t&&(t="");const{params:i,bids:o,matchIdDirect:r=!1,reloadCounter:n}=e,a=si({},function(e){const t=e.win||window,i=void 0===e.isTurbo?Zt(t):e.isTurbo,o=Hc(Wp,(e=>e.test(t.location.hostname)));return(e=>{var t;let{win:i,date:o=new Date,pr1:r,pr:n,testtag:a,isTurbo:s=Zt(i),addsSsSkipToken:l=!1,layoutConfig:d=new Bp,cookies:c,loaderVer:u,bundleVer:h,adSessionId:p,location:m,extid_loader:A,extid_tag_loader:v}=e;d.set("req_no",Yp++),d.set("ad_no",function(){const e=function(){const e=window;let t=0;return e.Ya&&e.Ya.Context&&e.Ya.Context.AdvManager&&e.Ya.Context.AdvManager.getCapturedCount&&(t=e.Ya.Context.AdvManager.getCapturedCount()),t}();return Fp()+e}());const _=ai({},(e=>{let{win:t,pr:i,date:o=new Date,pr1:r=jp(),location:n,extid_loader:a,extid_tag_loader:s}=e;const l=ti(t)&&t.context&&t.context.sourceUrl||void 0,d=l||t.document.referrer;return{dl:l||n||oi(t),date:zp(o),pd:o.getDate(),pdh:t.screen.height,pdw:t.screen.width,pr1:r,pr:i,prr:d,pv:o.getHours(),pw:o.getDay(),extid_loader:void 0===a?ri(t):a,extid_tag_loader:void 0===s?ni(t):s}})({win:i,date:o,pr1:r,pr:n,location:m,extid_loader:A,extid_tag_loader:v}),{ylv:"0."+(u||"1"),ybv:"0."+(h||"1"),ytt:null!=(t=null==a?void 0:a.toString())?t:"","is-turbo":Number(s),"skip-token":ii(),"ad-session-id":p||Ah(),"layout-config":d.toString(),"enable-flat-highlight":1},c);return l&&(_["ss-skip-token-length"]=20,_["allow-repeat-ads"]=0),_})(si({},e,{win:t,isTurbo:i,addsSsSkipToken:o}))}(e),i||{},r?{"matchid-direct":1}:{},{"enable-page-options":65536});if(Ol(Gp,(e=>{a[e]=void 0})),Boolean(a.pk)&&void 0!==a.pk)try{a.pk=decodeURIComponent(a.pk)}catch(G_){}if(o){const e=Nc(o,(e=>si({},e,{placement_id:e.placement_id?String(e.placement_id):void 0})));e.toJSON&&(e.toJSON=void 0),a.bids=$t(ei(e)||"")}return a.grab=qt(2048-t.length),a.utf8="\u2713",n&&(a.adf_refresh=n),a}function di(){const e=window;var t,i,o;return"number"!==typeof e.pr&&(e.pr=(null==e||null==(t=e.Ya)?void 0:t.headerBidding)&&(null==e||null==(i=e.Ya)||null==(o=i.headerBidding)?void 0:o.pr)||jp()),e.pr}function ci(){return ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ci.apply(this,arguments)}function ui(e,t){const i=Ic(window);let o;try{const t=jd.loaderLoadedFromAnYandexRu?Md+"/adfox":Ud+"/ads/adfox";o=function(e){const{base:t,queryParams:i}=function(e){!function(e){const{ownerId:t}=e;if(!t)throw new Error("there is no `ownerId` for getAdfoxBulkUrl()")}(e);const t=function(e){let t,{adblock:i,useXhr:o,ownerId:r,domain:n=Xp}=e;return t=o?"getBulk/v2":i?"getCodeTest":"prepareCode","https://"+n+"/"+r+"/"+t}(e);return{base:t,queryParams:li(e,t)}}(e);return N(t,i)}(ci({},e,{layoutConfig:new Bp,useXhr:!0,domain:t,pr:di()}))}catch(n){throw new Sc(n,{code:"CREATE_ADFOX_URL_ERROR",details:{adFoxParameters:e}})}if(!Kt(o))throw new Sc({code:"CANNOT_CREATE_ADFOX_URL",details:{adFoxParameters:e}});const r=Xe({url:o,options:t,ignoreAbd:!0,win:window});return i?i(r):r}async function hi(e){let{adFoxParameters:t,adPlacementOptions:i,secureMode:r,__requestInfoForLogs:n={}}=e;const a=ui(t,i);n.adFoxUrl=a;const l=jc({secureMode:r,url:a})?Wu:Gu;try{const e=await l({url:a,withCredentials:!0});if(n.responseText=e.responseText,n.responseHeaders=e.responseHeaders,200!==e.responseStatus)throw new Error("Invalid status ["+e.responseStatus+"]");if(s(e.responseText)&&0===e.responseText.length)throw new Sc({code:"ADFOX_AD_DATA_IS_EMPTY_STRING",details:{adFoxUrl:a}});const{creative:t,errors:i}=function(e){const t=ft(e),i=[];if(!o(t))throw new Sc({code:"ADFOX_AD_DATA_IS_NOT_VALID_JSON_OBJECT",details:{adFoxDataString:e}});const{errors:r,data:n}=t;if(Array.isArray(r)&&r.length>0){if(t.errors&&1===t.errors.length&&"204"===t.errors[0].status)throw new Sc({code:"NO_AD_SECTION",details:{reason:"status-204"}});throw new Sc({code:"ADFOX_AD_DATA_ERROR",details:{adFoxData:t}})}if(!Array.isArray(n))throw new Sc({code:"INVALID_ADFOX_DATA_FORMAT",details:{adFoxData:t}});const a=Wd(n,((e,r)=>{if(!o(e)||!o(e.attributes))return i.push(new Sc({code:"INVALID_ADFOX_CREATIVE_DATA",details:{adFoxData:t,index:r}})),!1;const{campaignId:n,vastBase64:a}=e.attributes;return"string"===typeof a&&a.length>0||"string"===typeof n&&n.length>0||(i.push(new Sc({code:"NO_REQUIRED_PARAMETERS_IN_ADFOX_CREATIVE",details:{adFoxData:t,index:r}})),!1)}));if(0===a.length)throw new Sc({code:"NO_ADS_IN_ADFOX_DATA",details:{adFoxData:t}});return a.length>1&&i.push(new Sc({code:"EXTRA_ADFOX_DATA",details:{adFoxData:t}})),{creative:a[0].attributes,errors:i}}(e.responseText);return _e(i),t}catch(d){if(ne(d))throw d;throw new Sc(d,{code:"ADFOX_AD_DATA_LOADING_ERROR",details:{adFoxParameters:t,adFoxUrl:a}})}}function pi(){return pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},pi.apply(this,arguments)}function mi(){return mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},mi.apply(this,arguments)}function Ai(e,t){let i=e;return"OnlyYandexCreatives"===t&&(i=Wd(i,(e=>"video"===Ee(e)||ye(e.url)))),i}function vi(e,t){const i=Ai(e,t);return Nc(i,(e=>"video"!==Ee(e)?e:Zp(e)))}function _i(e){let{secureMode:t,vastAd:i}=e;const o=vi(i.mediaFiles,t);return!!o.length&&hp(o,(e=>"video"===Ee(e)))}function gi(e){const t={};return me(e,((e,i)=>{t[e]=i})),t}function fi(){return fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},fi.apply(this,arguments)}function yi(){return yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},yi.apply(this,arguments)}function Si(){return Si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Si.apply(this,arguments)}function Ti(){return Ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ti.apply(this,arguments)}function Ei(e,t){if(null==e)return{};var i,o,r={},n=Object.keys(e);for(o=0;o<n.length;o++)i=n[o],t.indexOf(i)>=0||(r[i]=e[i]);return r}function bi(e){var t;const{adParametersObject:i,description:r}=e;if(!o(i))throw new Sc({code:"CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{tickerData:n,interactiveElements:a,mediaFiles:s,adTitle:l,adTune:d}=i,c=Ei(i,sm);if(l){const{errors:t,params:i}=Tp(l);null!=t&&t.length?Bc.error({error:new Sc({code:"YANDEX_VAST_INCORRECT_AD_TITLE_EXTENSION_AD_PARAMETERS",details:{errors:t}})}):(Bc.log({name:"UsingAdTitleExtensionInAdParametersVast",probability:pc}),e.adTitleParameters=i)}if(d){const{errors:t,params:i}=Ep(d);t&&Bc.error({error:new Sc({code:"YANDEX_VAST_INCORRECT_ADFOX_ADTUNE_AD_PARAMETERS",details:{errors:Nc(t,(e=>JSON.stringify(e)))}})}),i&&(Bc.log({name:"UsingAdFoxAdTuneExtensionInAdParametersVast",probability:pc}),e.adTune=i)}const u=Ti({},c,{adParameters:{description:r,tickerData:n,interactiveElements:a},mediaFiles:s}),{clickUrlData:h}=e,p=null!=(t=h.serializablePlaybackParametersClickUrl)?t:h.vastClickUrl,m=Ti({},e.serializablePlaybackParameters,{clickThroughUrl:p});return Ti({},e,{mediaFiles:[Nh],adParametersObject:u,adParameters:JSON.stringify(u),originallyConvertedFromVast:e,serializablePlaybackParameters:m})}function Ci(e){const{adParametersObject:t}=e;if(!o(t))throw new Sc({code:"CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{AUCTION_DC_PARAMS:i,HAS_BUTTON:r,HAS_AGE:n,HAS_LEGAL:a,LEGAL_TEXT:s}=t,l=Ti({},Ei(t,lm),{adParameters:Ti({AUCTION_DC_PARAMS:i},"HAS_BUTTON"in t?{HAS_BUTTON:r}:{},"HAS_AGE"in t?{HAS_AGE:n}:{},"HAS_LEGAL"in t?{HAS_LEGAL:a}:{},"LEGAL_TEXT"in t?{LEGAL_TEXT:s}:{}),mediaFiles:[nm]});return Ti({},e,{mediaFiles:[Nh],adParametersObject:l,adParameters:JSON.stringify(l),originallyConvertedFromVast:e})}function Pi(e){const{adParametersObject:t}=e;if(!o(t))throw new Sc({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});let i;if(!(kl(t.mediaFiles)&&t.mediaFiles.length>0))throw new Sc({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES",details:{vastAd:e}});i=t.mediaFiles;const r=Ti({},t,{mediaFiles:i,adParameters:Ti({},t),adCreativeConversionType:"theme-empty"});return Ti({},e,{mediaFiles:[Nh],adParametersObject:r,adParameters:JSON.stringify(r),originallyConvertedFromVast:e})}function wi(e){var t,i;let{secureMode:o,vastAd:r}=e;const{trackingEvents:n}=r,a=Ai(r.mediaFiles,o);if(0===a.length)throw new Sc({code:"CANNOT_CONVERT_VIDEO_VAST_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES",details:{vastAd:r}});const s={adParameters:{},mediaFiles:a};"undefined"!==typeof(null==r||null==(t=r.adParametersObject)?void 0:t.socialAdvertising)&&(s.socialAdvertising=Boolean(r.adParametersObject.socialAdvertising)),"undefined"!==typeof(null==r||null==(i=r.adParametersObject)?void 0:i.socialAdvertising)&&(s.adTitle=r.adParametersObject.adTitle);const l=se(s),d=r.clickUrlData.vastClickUrl;return Ti({},r,{mediaFiles:[Nh],adParametersObject:s,adParameters:l,serializablePlaybackParameters:{clickThroughUrl:d,trackingEvents:n,controlsSettings:{controlsVisibility:{}},lang:"ru",contentAfterAd:Vh},clickUrlData:Ti({},r.clickUrlData,{serializablePlaybackParametersClickUrl:d}),originallyConvertedFromVast:r})}function Oi(e){const{adParametersObject:t}=e;if(!o(t))throw new Sc({code:"CANNOT_CONVERT_VAST_AD_INTO_CLICKABLE_VIDEO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const i=e.clickUrlData.tgaOfferClickUrl,r=Ti({},e.adParametersObject,{adParameters:e.adParametersObject});return Ti({},e,{mediaFiles:[Nh],adParametersObject:r,adParameters:JSON.stringify(r),serializablePlaybackParameters:Ti({clickThroughUrl:i},t.playbackParameters),clickUrlData:Ti({},e.clickUrlData,{serializablePlaybackParametersClickUrl:i}),originallyConvertedFromVast:e})}function Ii(e){var t;const{adParametersObject:i}=e,{vastClickUrl:r}=e.clickUrlData;if(!o(i))throw new Sc({code:"CANNOT_CONVERT_SURVEY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const n="TRUE"===qd.getFlagValueAndActivateTestId("SHOULD_NOT_USE_SURVEY_CLICK_THROUGH_URL_AS_CLICK_TRACKING"),a=null!=(t=i.trackingEvents)?t:{};if(!n){const e=kl(a.clickThrough)?a.clickThrough:[];a.clickThrough=[...e,r],Bc.log({name:"UseSurveyClickThroughUrlAsClickTracking",data:{adParametersObject:i}})}const s=Ti({},i,{mediaFiles:[am],adParameters:Ti({},i),trackingEvents:a});return Ti({},e,{mediaFiles:[Nh],adParametersObject:s,adParameters:JSON.stringify(s),originallyConvertedFromVast:e})}function ki(e){var t;let i,{vastAd:o,secureMode:r}=e;if(void 0===o.mediaFiles[0])return{vastAd:o,reason:"ConvertNothingWithoutMediaFile"};if(_i({secureMode:r,vastAd:o}))return{vastAd:wi({secureMode:r,vastAd:o}),reason:"ConvertVideoVastIntoAdCreative"};try{i=Pe(o.adParametersObject),Bc.log({name:"CreativeDetectedByParameters",sensors:{method:i.detectionMethod,source:"vastLoader"}})}catch(c){throw Bc.log({name:"PrepareYandexVastDetectionError",data:{error:c},probability:1}),c}const n="motion"===i.adFormatType,a="themeEmpty"===i.adFormatType,s="survey"===i.adFormatType,l="interactiveViewer"===i.adFormatType,d="clickableVideo"===i.adFormatType;if(!o.originallyConvertedFromVast&&(null==(t=o.adParametersObject)||!t.__dontCovertMePlease__)){if(d)return{vastAd:Oi(o),reason:"ConvertClickableOnlyVideo"};if(a)return{vastAd:Pi(o),reason:"ConvertVideoBannerThemeEmpty"};if(l)return{vastAd:bi(o),reason:"ConvertInteractiveViewerVpaidIntoAdCreative"};if(n)return{vastAd:Ci(o),reason:"ConvertMotionVpaidIntoAdCreative"};if(s)return{vastAd:Ii(o),reason:"ConvertVideoBannerSurveyAdCreative"}}return{vastAd:o,reason:"ConvertNothingForNonYandex"}}function Ni(e){const{adParametersObject:t}=e;return!!t&&be(t.theme,t)}function Di(e){const t=Qp(e);return D(nu,t)}function Ri(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&function(e){let{url:t}=e;return t===kh}(i)}function Vi(e){var t;const{mediaFiles:i,adParametersObject:r}=e;if(!o(null==r||null==(t=r.adParameters)?void 0:t.pythia))return!1;const[n]=i;return void 0!==n&&Ri(e)}function Li(e){let{mediaFiles:t,adParametersObject:i}=e;if((null==i?void 0:i.theme)===qc.SURVEY)return!0;const[o]=t;return void 0!==o&&function(e){const t=Qp(e);return D(dm,t)}(o.url)}function xi(e){const{adParametersObject:t}=e;return(null==t?void 0:t.theme)===qc.EMPTY&&cm(e)}function Bi(e){return!h(e)||e.startsWith("http:/")||e.startsWith("https:/")?e:"https://"+e}function Mi(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}function Ui(e){if(!o(e))return;const t={},i=["string","number","boolean"];for(const o in e)e.hasOwnProperty(o)&&i.indexOf(typeof e[o])>=0&&(t[o]=e[o]);return t}function Fi(){return Fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Fi.apply(this,arguments)}function Hi(){return Hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Hi.apply(this,arguments)}function zi(){const e=qd.getFlagValueAndActivateTestId("VAS_GRAB_LENGTH"),t=e?parseInt(e,10):0;return t>0?qt(t):void 0}function ji(e){var t;if(jd.isDebugEnabled&&Boolean(null==(t=console)?void 0:t.error)){for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];console.error(e,...o)}}function Yi(e,t){const i=[],o=[];return Ol(e,((r,n)=>{t(r,n,e)?i.push(r):o.push(r)})),[i,o]}function Wi(e){return!!o(e)&&"string"===typeof e.url&&!!e.url.trim()&&"string"===typeof e.type&&!!e.type.trim()}function Gi(e){const t=[];if(!Array.isArray(e))throw new Sc({code:"INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});if(0===e.length)throw new Sc({code:"NO_MEDIA_FILES_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});const i=Wd(e,Wi);if(i.length!==e.length&&t.push("AD_PARAMETERS_CONTAINS_INVALID_MEDIA_FILES"),0===i.length)throw new Sc({code:"NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const[o,r]=Yi(i,(e=>e.type===$p));if(o.length>1)throw new Sc({code:"AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});return{errorCodes:t,videoMediaFiles:r,animationMediaFile:o[0]}}function Xi(e){const t=[];let i={};if(o(e))i=e;else{if("string"!==typeof e)throw new Sc({code:"NO_INTERACTIVE_AD_PARAMETERS",details:{}});try{i=JSON.parse(e)}catch(u){throw new Sc(u,{code:"INVALID_INTERACTIVE_AD_PARAMETERS",details:{adParametersString:e}})}}if(!o(i))throw new Sc({code:"CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS",details:{adParametersJson:i}});const{adParameters:r,mediaFiles:n}=i,{errorCodes:a,animationMediaFile:s,videoMediaFiles:l}=Gi(n),d=Nc(a,(t=>new Sc({code:t,details:{adParametersString:JSON.stringify(e)}})));return t.push(...d),{raw:i,parsed:{animationMediaFile:s,videoMediaFiles:l,adParameters:(c=r,"string"===typeof c?c:o(c)?ei(c):void 0)},errors:t};var c}function Ki(){return Ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ki.apply(this,arguments)}function qi(e){return Ct(e.height)&&Ct(e.width)}function Qi(e,t){return function(e,t,i){if(e.length<1)return;let[o]=e,r=t(o);for(let n=1;n<e.length;n++){const i=e[n],a=t(i);a-r<0&&(o=i,r=a)}return o}(e,t)}function Ji(e,t){let{height:i}=t;const o=Wd(e,qi);return void 0===i?o[0]:Qi(o,(e=>{let{height:t}=e;return Math.abs(t-i)}))}function Zi(e){(new Image).src=e}function $i(e){return!!h(e)&&fm.indexOf(e.toLowerCase())>-1}function eo(){return eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},eo.apply(this,arguments)}function to(e,t){return function(){try{e(...arguments)}catch(i){Bc.error({error:new Sc(i,{code:t})}),Be(i)}}}function io(e,t){var i,o,r;return null==(i=t.ya)||null==(o=i.videoAd)||null==(r=o.loadedModules)?void 0:r[e]}function oo(e){return function(e){const{src:t,win:i,onBeforeLoad:o=W}=e,r=new Sc(new Error,{});let n=W;return{promise:new Promise(((e,a)=>{const s=i.document.createElement("script");let l=!1;n=()=>{l=!0,ke(s)};s.type="text/javascript",s.async=!0,s.onload=()=>{l||e()},s.onerror=e=>{l||(a(new Sc(r,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:i===window,event:e}})),n())},s.src=t,s.charset=Im,o(s),function(e){const t=e.document;let i=t.getElementsByTagName("head")[0];return i||(i=t.createElement("head"),t.documentElement.appendChild(i)),i}(i).appendChild(s)})),teardown:n}}(e)}function ro(){return ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ro.apply(this,arguments)}function no(){return no=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},no.apply(this,arguments)}function ao(e){const{src:t,win:i}=e,o=function(e,t){const{hostname:i}=w(e),o=Ic(t);return o?-1===zd.indexOf(i)?e:o(e):e}(t,i);return oo(no({},km,e,{src:o}))}function so(){return so=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},so.apply(this,arguments)}function lo(){return lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},lo.apply(this,arguments)}function co(e){let{animationMediaFile:t,win:i}=e;const{url:o}=t,r=rm[o];if(o===Bh)return{teardown:W,promise:Promise.resolve((e=>{const t=function(e){let{adCreativeInitParameters:{slot:t,adParametersString:i},duration:o}=e;const r=new Vm;let n;return{startAd(e){if(!h(i))throw new Sc({code:"NO_AIM_AD_CREATIVE_INVALID_PARAMETERS",details:{adParametersString:i}});e.dispatchAdStarted();const{filterReasons:a}=JSON.parse(i);n=t.ownerDocument.createElement("div"),Ne(n,Lm);const s=t.ownerDocument.createElement("h2");s.textContent="\u041d\u0430\u0446\u0435\u043b\u0438\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e",Ne(s,xm),n.appendChild(s);const l=t.ownerDocument.createElement("p");if(l.textContent="\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043d\u0430\u0446\u0435\u043b\u0438\u0432\u0430\u043d\u0438\u0435, \u043d\u043e \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0435",n.appendChild(l),a&&a.length){l.textContent=l.textContent+". \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043a\u0440\u0435\u0430\u0442\u0438\u0432\u044b \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u044b:";const e=t.ownerDocument.createElement("ul");Ne(e,Bm),Ol(a,(i=>{let{id:o,description:r}=i;const n=t.ownerDocument.createElement("li");n.textContent="#"+o+": "+r,e.appendChild(n)})),n.appendChild(e)}const d=t.ownerDocument.createElement("p");d.textContent="\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0438\u0442\u0435 \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b.",n.appendChild(d);const c=t.ownerDocument.createElement("p");return c.textContent="VSID: "+Yd,n.appendChild(c),t.appendChild(n),Bc.log({name:"NoAimScreenShowStarted",probability:1}),new Promise((e=>{r.start(),r.addCallback(o*Rm,(()=>{r.destroy(),Bc.log({name:"NoAimScreenShowCompleted",probability:1}),e({reason:"complete"})}))}))},stopAd(){r.destroy(),Bc.log({name:"NoAimScreenShowStopped",probability:1}),ke(n)},pauseAd(){r.stop()},resumeAd(){r.start()},getAdRemainingTime:()=>Math.max(o-r.getTime()/Rm,0),getAdDuration:()=>o}}({adCreativeInitParameters:e,duration:15});return{promise:Promise.resolve(t),teardown:W}}))};if(o===Um)return{teardown:W,promise:Promise.resolve((e=>{const t=function(e){let{adCreativeInitParameters:{slot:t}}=e;const i=new Vm;let o;return{startAd:e=>(e.dispatchAdStarted(),o=t.ownerDocument.createElement("div"),Ne(o,Mm),o.textContent="VAS test AdCreative STARTED",t.appendChild(o),new Promise((e=>{i.start(),i.addCallback(15e3,(()=>{i.destroy(),e({reason:"complete"})}))}))),stopAd(){i.destroy(),ke(o)},pauseAd(){o.textContent="VAS test AdCreative PAUSED",i.stop()},resumeAd(){o.textContent="VAS test AdCreative PLAYING",i.start()},getAdRemainingTime:()=>Math.max(15-i.getTime()/Rm,0),getAdDuration:()=>15}}({adCreativeInitParameters:e});return{promise:Promise.resolve(t),teardown:W}}))};if(void 0!==r){let e=W;const t=new Promise(((t,o)=>{e=function(e){var t;let{moduleName:i,version:o=$c,onSuccess:r,onError:n,win:s,timeout:l}=e;const d=null!=(t=jd.hardcodedParams.adsdkecmaver)?t:Om;let c="loading";const u=Date.now(),h=a(to((e=>{c="success";const t=Date.now()-u;Bc.log({name:"ModuleLoaded",data:{loaderVersion:El,bundleVersion:o},values:{timeSpent:t},sensors:{bundleName:i},dailySensors:{ecmaVersion:d,bundleName:i}}),r(e)}),"LOAD_MODULE_CALLBACK_ERROR")),p=a(to((e=>{c="error",Bc.error({error:e}),n(e)}),"LOAD_MODULE_CALLBACK_ERROR"));if(Pm(s))return Bc.log({name:"LoadModuleBrokeInIE",probability:1}),p(new Sc({code:"LOAD_MODULE_REJECTED_IN_IE",details:{moduleName:i,version:o,timeout:l}})),W;const m=io(i,s);if(m)return h(m),W;const A=(e=>{let{bundleName:t,win:i,ecmaVersion:o,version:r}=e;const n=pu[o],a=Ic(i),s=(e=>tm[e]+".bundle.js")(t),l=""+Ce(r)+n+"/"+s;return L(a)?a(l):l})({version:o,bundleName:i,win:s,ecmaVersion:d}),{promise:v,teardown:_}=(e=>{let{src:t,win:i}=e;return ao({src:t,onBeforeLoad:Nm,win:i})})({src:A,win:s}),{promise:g,clear:f}=Yc(l,window),y=Ie({element:s,eventName:"unload",listener:()=>{p(new Sc({code:"LOAD_MODULE_REJECTED_BY_WINDOW_UNLOAD",details:{moduleName:i,version:o,timeout:l}}))}}),S=()=>{y(),f()};return g.then((()=>{p(new Sc({code:"LOAD_MODULE_TIMEOUT",details:{moduleUrl:A,moduleName:i,version:o,timeout:l}}))})),v.then((()=>{S();const e=io(i,s);e?h(e):p(new Sc({code:"CANNOT_INIT_MODULE",details:{moduleUrl:A,moduleName:i,version:o}}))})).catch((e=>{S(),p(new Sc(e,{code:"CANNOT_LOAD_MODULE",details:{moduleUrl:A,moduleName:i,version:o}}))})),()=>{S(),_(),"loading"===c&&Bc.log({name:"LoadModuleTeardownCalled",probability:1})}}({moduleName:r,version:void 0,onSuccess:e=>{t(e.initAdCreative)},onError:e=>{o(e)},win:i,timeout:3e4})}));return{teardown:e,promise:t}}const{promise:n,teardown:s}=ao({src:o,win:i});return{promise:n.then((()=>i.initAdCreative)),teardown:s}}function uo(e){let{scope:t,errorType:i,error:o,details:r}=e;return new Sc(o,{code:Fm(t,i),details:r})}function ho(e,t){return function(e,t){const i=[];i.push(Ie({element:e,eventName:"unhandledrejection",listener:e=>{t(new Error,"UNHANDLED_PROMISE_REJECTION",{event:e})}})),i.push(Ie({element:e,eventName:"error",listener:(e,i,o,r,n)=>{t(e.error||new Error,"UNHANDLED_GLOBAL_ERROR",{event:e,src:i,line:o,column:r,error:n,filename:null==e?void 0:e.filename,message:null==e?void 0:e.message})}})),i.push(Ie({element:window,eventName:"securitypolicyviolation",listener:e=>{let{blockedURI:i,columnNumber:o,documentURI:r,effectiveDirective:n,lineNumber:a,originalPolicy:s,referrer:l,sourceFile:d,statusCode:c,violatedDirective:u}=e;const h={blockedURI:i,columnNumber:o,documentURI:r,effectiveDirective:n,lineNumber:a,originalPolicy:s,referrer:l,sourceFile:d,statusCode:c,violatedDirective:u};t(new Error,"SECURITY_POLICY_VIOLATION",{securityPolicyViolationEventData:h})}}));const r=new Hm.CSPLogger({project:"adsdk",from:JSON.stringify({vsid:Yd,version:El})});r.subscribe(e.document),i.push((()=>{r.unsubscribe(e.document)}));const n=new zm({win:e,onReport:e=>{const{reportSourceEvent:i,reports:r,records:n}=e,a=new Error;0===r.length&&0===n.length&&t(a,"EMPTY_REPORT",{reportSourceEvent:i,reportSource:"empty",report:void 0}),Ol(he({reports:r,records:n}),(e=>{let[r,n]=e;return Ol(n,(e=>{t(a,function(e){if(!o(e))return"EMPTY_REPORT_ITEM";const{type:t,body:i}=e;if(!h(t))return"EMPTY_REPORT_TYPE";if("csp-violation"===t)return"CSP_VIOLATION_REPORT";if("intervention"===t){if(o(i)&&h(i.message)){const e=i.message.toLowerCase();if(e.indexOf("network usage")>-1)return"NETWORK_USAGE_INTERVENTION_REPORT";if(e.indexOf("peak cpu")>-1)return"PEAK_CPU_INTERVENTION_REPORT";if(e.indexOf("total cpu")>-1)return"TOTAL_CPU_INTERVENTION_REPORT";if(e.indexOf("cpu usage")>-1)return"CPU_USAGE_INTERVENTION_REPORT";if(e.indexOf("touchmove")>-1)return"TOUCHMOVE_INTERVENTION_REPORT"}return"UNKNOWN_INTERVENTION_REPORT"}return"deprecation"===t?"DEPRECATION_REPORT":"feature-policy-violation"===t?"FEATURE_POLICY_VIOLATION_REPORT":"UNKNOWN_REPORT_TYPE"}(e),{reportSourceEvent:i,reportSource:r,report:e})}))}))}});return i.push((()=>{n.destroy()})),()=>Y(i)}(e,((e,i,o)=>{if("SECURITY_POLICY_VIOLATION"===i){const{securityPolicyViolationEventData:e}=o;if(void 0!==e){const{blockedURI:t}=e;if(t&&t.indexOf(jm)>-1)return}}t(e,i,o)}))}function po(e){return 0===Gm.length&&(Wm=window.setInterval((()=>{Y(Gm)}),Ym)),Gm.push(e),()=>{const t=Gm.indexOf(e);t>-1&&Gm.splice(t,1),0===Gm.length&&window.clearInterval(Wm)}}function mo(e,t){const i=e.ownerDocument.createElement("iframe");if(t&&Re(i,t),i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",e.appendChild(i),void 0!==i.contentDocument&&null!==i.contentDocument)return i.contentDocument.open(),i.contentDocument.close(),i.contentDocument.body.style.margin="0",i.style.borderWidth="0",i.contentDocument.body.style.width="100%",i.contentDocument.body.style.height="100%",i;ke(i)}function Ao(){const e=mo(...arguments);if(e)return e.width="0",e.height="0",e.style.position="absolute",e}function vo(){return vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},vo.apply(this,arguments)}function _o(){return _o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},_o.apply(this,arguments)}function go(e){let t;try{t=e.devicePixelRatio}catch(G_){}return i(t)?t:1}function fo(){return fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},fo.apply(this,arguments)}function yo(e){if(h(e))return e.split(",")[0].trim()}function So(e){let{mediaFile:t,canPlayType:o}=e;const{type:r}=t,n=(e=>{switch(e){case"h264":case"hevc":case"mpeg4":return lA(e),"avc1.4D401E,mp4a.40.2";default:return e}})(t.codec);if(!s(r))return"noType";if(r===nA&&id)return"cannotPlayWebmDueToMacOSLimitations";if(!o(aA({type:r,codec:n})))return"cannotPlay";const a=function(e){let{mediaFile:t,abFlags:{disableVp8:o,disableVp9:r,enableH265:n,disable144p:a}}=e;const s=yo(t.codec);if(h(s)){if(a&&144===function(e){let{width:t,height:o}=e;if(i(t)&&i(o))return Math.min(t,o)}(t))return"quality144pIsDisabled";if(!function(e){return 0===e.indexOf("avc1.")}(s))return function(e){return"vp8"===e||"vp08"===e||0===e.indexOf("vp08.")||0===e.indexOf("vp8.")}(s)?o?"vp8CodecIsDisabled":void 0:function(e){return 0===e.indexOf("hev1.")}(s)||function(e){return 0===e.indexOf("hvc1.")}(s)?n?void 0:"h265CodecIsDisabled":function(e){return"vp9"===e||"vp09"===e||0===e.indexOf("vp9.")||0===e.indexOf("vp09.")}(s)?r?"vp9CodecIsDisabled":void 0:"unsupportedVideoCodec"}}({mediaFile:{codec:n,width:t.width,height:t.height},abFlags:{disableVp8:"TRUE"===qd.getFlagValueAndActivateTestId("DISABLE_VP8_CODECS"),enableH265:!0===rA,disableVp9:oA,disable144p:!0===eA}});return a||void 0}function To(e){let{mediaFileSize:i,slotSize:o}=e;if(!i)return{reason:"unknownVideoContentSize",value:Sl.videoPixelRatio};let{width:r,height:n}=i;if(s(r)&&(r=Number(r),dA()),s(n)&&(n=Number(n),dA()),!t(r)||!t(n))return{reason:"hasIncorrectWidthAndOrHeight",value:1e3};if(r<0||n<0)return{reason:"incorrect",value:Sl.videoPixelRatio};if(0===n||0===o.height)return{reason:"incorrect",value:Sl.videoPixelRatio};if(0===r||0===o.width)return{reason:"incorrect",value:Sl.videoPixelRatio};const a=r/n;return{reason:"normal",value:o.width/o.height>a?n/o.height:r/o.width}}function Eo(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&A(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&A(t.prototype.appendBuffer)&&A(t.prototype.remove))}(e)?t:void 0}function bo(e){let{type:t}=e;return mA||AA?!mA&&AA?"noMse":mA&&!AA?"noFetch":h(t)?-1===t.toLowerCase().indexOf(nA)?"isNotWebm":pA?void 0:"cannotPlayWebmWithMse":"noType":"noMseAndFetch"}function Co(e,t,i){return e>i?i:e<t?t:e}function Po(e,t){return e<=t?0:t>=gA?1:(Co(e,t,gA)-t)/(gA-t)}function wo(e){if(!function(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}(e))return"invalidObject";const{type:t,codec:o,url:r,maxBitrate:n,minBitrate:a,vmafAvg:l,hasAudio:d}=e;let{width:c,height:u,bitrate:p}=e;if(c=null===c?void 0:c,u=null===u?void 0:u,p=null===p?void 0:p,void 0===p||i(p)||fA(e),void 0===l||i(l)||EA(e),void 0===o||h(o)||yA(e),void 0===c&&void 0===u||i(c)&&i(u)||TA(e),(void 0!==a||void 0!==n)&&(!i(a)||!i(n)||a>=n))return"invalidMinMaxBitrate";if("string"!==typeof r)return"invalidUrl";if(!r.trim())return"emptyUrl";if(void 0!==t){if(!s(t))return"invalidType";0===t.trim().length&&bA(e)}return void 0!==d&&"boolean"!==typeof d&&SA(e),{type:t,codec:o,url:r,width:c,height:u,bitrate:p,maxBitrate:n,minBitrate:a,vmafAvg:l,hasAudio:d}}function Oo(e){try{var t;return(null!=(t=e.navigator)?t:{}).userAgent||""}catch(G_){return""}}function Io(){return Io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Io.apply(this,arguments)}function ko(e,t,r){var n;const a=Date.now(),l=[],d=[],c=[];for(const i of e){const e=wo(i);if(s(e))l.push({mediaFile:i,reason:e});else{const i=e,o=So({mediaFile:i,canPlayType:t.canPlayType});s(o)?d.push({mediaFile:i,reason:o}):c.push(i)}}const u=Nc(c,(e=>function(e,t){const{value:r,reason:n}=To({mediaFileSize:e,slotSize:t.container}),a=function(e){let{videoPixelRatio:t,opts:{perfectVpr:i}}=e;return t-i}({videoPixelRatio:r,opts:t}),s=Math.abs(a),l=function(e){let{bitrate:t,desiredBitrate:r}=e;if(!i(t))return 1;if(i(r))return Po(t,r);const n=navigator;if(o(n)&&o(n.connection)){const{downlink:e}=n.connection;if(i(e))return Po(t,1e3*e)}}({bitrate:e.bitrate,desiredBitrate:t.desiredBitrate}),d=function(e){let{type:t,mediaFileTypePriorities:{webm:i,mp4:o,hls:r,unknown:n,unset:a}}=e;if(!h(t))return a;const s=t.toLowerCase();return s===nA?i:"video/mp4"===s?o:$i(t)?r:n}({type:e.type,mediaFileTypePriorities:t.mediaFileTypePriorities}),c=function(e,t){return t.isVideoADB?void 0===bo(e)?0:1:0}(e,t);return{videoPixelRatio:r,videoPixelRatioReason:n,videoPixelRatioSolution:s,mediaFileTypePrioritySolution:d,adbCompatibilitySolution:c,bitrateCappingSolution:l}}(e,t))),p=i(t.desiredBitrate)?"desiredBitrate":"videoPixelRatio",m=Nc(u,(e=>{let{videoPixelRatioSolution:t,mediaFileTypePrioritySolution:i,adbCompatibilitySolution:o,bitrateCappingSolution:r}=e;return t+i+o+(void 0===r?0:r*PA)}));let A=Nc(m,((e,t)=>Io({},c[t],u[t],{prioritySolution:e})));const{version:v,name:_}=(e=>{try{const t=Oo(e);let i,o=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(o[1])?(i=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:i[1]||""}):"Chrome"===o[1]&&(i=t.match(/\b(OPR|Edge)\/(\d+)/),null!=i)?{name:i[1].replace("OPR","Opera"),version:i[2]}:(o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(i=t.match(/version\/(\d+)/i))&&o.splice(1,1,i[1]),{name:o[0],version:o[1]})}catch(G_){}return{name:"unknown",version:"unknown"}})(window),g="Win32"===(null==(n=window.navigator)?void 0:n.platform),f="chrome"===_.toLowerCase()&&"110"===v;g&&f&&!wA&&(A=Wd(A,(e=>e.type!==nA)),Bc.log({name:"FilterWebmTypeForChrome110"}));const y=Qi(A,(e=>{let{prioritySolution:t}=e;return t}));let S,T;var E;kc("prioritisedMediaFiles=["+JSON.stringify(A)+"]"),kc("invalidMediaFiles=["+JSON.stringify(l)+"]"),kc("notPlayableMediaFiles=["+JSON.stringify(d)+"]"),y&&(S=yo(y.codec),T=null==(E=y.type)?void 0:E.split("/")[1]);const{adBreak:b,adPodId:C,initiator:P}=r;return Bc.log({name:"PrioritiseMediaFiles",data:{adBreak:b,adPodId:C,initiator:P,input:Io({},t,{dpr:go(window)}),output:{invalidMediaFiles:wh(l),notPlayableMediaFiles:wh(d),mediaFiles:wh(A),mediaFile:y?Io({},y):void 0,methodType:p}},values:{timeSpent:Date.now()-a},sensors:{initiator:P,method:p,type:D(["webm","mp4","m3u8"],T)?T:"unknown",codec:D(["vp8","vp9","avc","hvc"],S)?S:"unknown"},probability:1}),{prioritisedMediaFile:y,invalidMediaFiles:l,notPlayableMediaFiles:d,playableMediaFiles:A}}function No(){return No=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},No.apply(this,arguments)}function Do(e){const t=Rt(e);return sp(null==t?void 0:t.images)}function Ro(){return Ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ro.apply(this,arguments)}function Vo(e){for(const{width:t,height:o}of e){const e=Number(t),r=Number(o);if(i(e)&&i(r))return{width:e,height:r}}}function Lo(e,t){return Cd(vi(e,t),(e=>"js"===Ee(e)))}function xo(e){return D(vm,e.adSystem)}function Bo(e){return[...e].sort(((e,t)=>{const i=e.vastAd.sequence,o=t.vastAd.sequence;return i===o?0:-1===i?1:-1===o?-1:i-o}))}function Mo(e){return"number"===typeof e.repeatNumber}function Uo(){return Uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Uo.apply(this,arguments)}function Fo(e){var t;let{adConfig:i,adBreak:o,adPlacementOptions:r,win:n}=e;const a=o.adFoxParameters||i.adFoxParameters;var s;if(a)return async function(e){return new Kp(e).loadVastPromise}({adConfig:Uo({},i,{adFoxParameters:a,wrapperMaxCount:null!=(s=i.wrapperMaxCount)?s:3}),adBreakType:o.adType,adPlacementOptions:r,win:n});const{loadHarmlessVastCallback:l}=i,d=i.hasOwnProperty("vast")?i.vast:void 0,c=o.inlineVast,u=jd.isDebugEnabled?(()=>{if(!jd.isDebugEnabled)return;const e=$A();if(null==e||!e.getVast)return;const t=e.getVast();return Bc.log({name:"LoadInlineTestUtilsVast",data:{vast:t},probability:1}),t})():void 0,h=null!=(t=null!=u?u:d)?t:c;if(h)return Ip({xmlString:h,loadParameters:Se({adConfig:i,adBreakType:o.adType,remainingLoadWrapperVastCount:3,isAdFox:!1,adPlacementOptions:r}),vastUrl:void 0}).then((e=>(l&&0===e.children.length&&l({adPods:Nc(e.ads,(e=>{var t;return{clickThroughUrl:null!=(t=e.clickUrlData.vastClickUrl)?t:""}}))}),e)));const p=i.vastUrl?i.vastUrl:function(e){const{adTagURI:t,sessionId:i,repeatNumber:o,adConfig:r,adPlacementOptions:n,win:a}=e;return ue(a)?t:function(e){const{adConfig:t,win:i,adTagURI:o,adPlacementOptions:r,repeatNumber:n,sessionId:a}=e;return ye(o)?Xe({url:N(o,pm({adConfig:t,win:i,repeatNumber:n,sessionId:a})),options:r,preferableAdSize:t.preferableAdSize,win:window}):o}({adConfig:r,adTagURI:t,adPlacementOptions:n,win:a,repeatNumber:o,sessionId:i})}({adConfig:i,adTagURI:o.adTagURI,sessionId:o.sessionId,repeatNumber:Mo(o)?o.repeatNumber:void 0,adPlacementOptions:r,win:n});return wp({url:p,loadParameters:Se({adConfig:i,adBreakType:o.adType,remainingLoadWrapperVastCount:3,isAdFox:!1,url:p,adPlacementOptions:r})})}async function Ho(e){const{adConfig:t,adBreak:i}=e;let o;try{o=await Fo(e)}catch(c){throw ne(c)||(c.details||(c.details={}),c.details.adConfig=t),Tt(c),c}const r=[];for(const u of o.ads)try{var n;const e=u.mediaFiles[0],i=null!=(n=null==e?void 0:e.url)?n:"",o={interactiveViewerCreativeSrc:(a=i,Qp(a)===Zc),motionCreativeSrc:Di(i),themeEmpty:xi(u),clickableVideo:Ni(u),survey:Li(u),surveyAdCreative:Vi(u),videoVastAd:_i({secureMode:t.secureMode,vastAd:u})},s=Hc(Yt(o),(e=>e));if(Boolean(e)&&s){const{vastAd:e,reason:i}=ki({secureMode:t.secureMode,vastAd:u});Bc.log({name:i,data:{next:e,yandexVastCriteria:o},sensors:{source:"vastLoader"}}),r.push(e)}else r.push(u)}catch(c){Bc.error({error:c})}var a,s;if(o.children.length>0){const e=zo(o);Bc.log({name:(s=o.url,function(e){return void 0===e?"Inline":fe(e)?"AdFox":ye(e)?"Yandex":""}(s)+"WrapperVASTLoaded"),data:e,probability:1})}const l=Nc(r,(e=>(e.vast=o,new ZA(i,e,t,Bc)))),d=Bo(l);if(0===d.length)throw new Sc({code:"NO_AD_SECTION",details:{reason:"no-media-ad"}});if(Wd(d,(e=>e.hasMediaFiles())).length>0)return{mediaAds:d,vast:o};if(function(e){return Hc(e,(e=>e.vastAd.mediaFiles.length!==e.getMediaFiles().length))}(d)){const e=qp(Nc(l,(e=>e.vastAd.mediaFiles)));throw new Sc({code:"ALL_MEDIA_FILES_FILTERED_OUT",details:{adConfig:t,unfilteredMediaFiles:e}})}throw new Sc({code:"NO_AD_TO_DISPLAY",details:void 0})}function zo(e){return{children:Nc(e.children,(e=>zo(e))),url:e.url,xmlString:e.xmlString}}function jo(){return jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},jo.apply(this,arguments)}function Yo(){return Yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Yo.apply(this,arguments)}function Wo(){return Wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Wo.apply(this,arguments)}function Go(){return Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Go.apply(this,arguments)}function Xo(e){return!!s(e)&&lv.indexOf(e)>-1}function Ko(e,t){return Wd(e,(e=>e.adType===t))}function qo(e,t){const i=function(t,i){const o={};return De(t).forEach((i=>{var r;o[i]=(t[i],r=i,e.style[r])})),o}(t);return Ne(e,t),te((()=>{Ne(e,i)}))}function Qo(e){const t=e.getRootNode;if(A(t))return t.call(e);let i=e;for(;i.parentNode;)i=i.parentNode;return i}function Jo(e){return!!e&&"ShadowRoot"===Pl(e)}function Zo(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let i=e;for(;i;){if(i&&t.document.body.contains(i))return!0;const e=Qo(i);if(!Jo(e)||!dv(e.host))return!1;i=e.host}return!1}function $o(){return $o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},$o.apply(this,arguments)}function er(){return er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},er.apply(this,arguments)}function tr(e,t,i){const o=()=>Nc(e,(e=>e.getValue()));let r=t(...o());i(r);const n=()=>{const e=t(...o());r!==e&&(r=e,i(e))},a=Nc(e,(e=>e.add(n)));return()=>{Y(a)}}function ir(e,t){let{width:i,height:o}=e;const r=Nc([i,o],(e=>Math.round(e))),n=Math.min(...r),a=Math.max(...r);return t?n>=160&&a*n>=48e3:n>=Th&&a*n>=bh}function or(e,t){const i=function(e){void 0===e&&(e=window);const{document:t={}}=e;return Wd(Wv,(e=>{let{enabled:i}=e;return i in t}))}(e);if(i.length>0)return i[0];const o=function(e,t){var i,o;return void 0===e&&(e=window),void 0===t&&(t=null!=(i=null==(o=e.HTMLVideoElement)?void 0:o.prototype)?i:{}),Wd(Wv,(e=>{let{enabled:i}=e;return i in t}))}(e,t);return o.length>0?o[0]:void 0}function rr(e,t){const i=or(e,t);if(!i)return null;let o=e.document[i.element];return t&&t[i.element]&&(o=t),o||null}function nr(e,t){const i=rr(e);return!!i&&i.contains(t)}function ar(e){const{videoWidth:t,videoHeight:o}=e;if(i(t)&&i(o))return{width:t,height:o}}function sr(e){let{videoPixelRatio:t,devicePixelRatio:i}=e;return t/i}function lr(e){let{win:i,slotSize:o,slotVisibilityRatio:r,adPodId:a,videoNode:s,bufferingTime:l,adBreakType:d,adFormatType:c,productType:u}=e;const h=function(e){if(void 0===e&&(e=window),void 0===e.screen)return Yv;const{width:t=Yv.width,height:i=Yv.height}=e.screen;return{width:t,height:i}}(i),p=h.width*h.height,m=o.width*o.height,A=0===p?0:m/p,v=go(i),_=function(e){var t;void 0===e&&(e=Dd);const{navigator:i={}}=null!=(t=e)?t:{},{connection:o={}}=i;if("number"===typeof o.downlink)return o.downlink;if("number"===typeof o.downlinkMax)return o.downlinkMax;const r=o.type;if("string"===typeof r||"number"===typeof r)switch(r){case"BLUETOOTH":return 3;case Kv:return.384;case qv:case"CELLULAR":return 2;case"WIMAX":return 37;case"NONE":return 0;case Gv:case"ETHERNET":case Xv:case"WIFI":case"MIXED":return 10}return-1}(),g=s?ar(s):void 0,f=s?du(s):void 0,y=f?function(e,t){const i=function(e){return{left:void 0===e.pageXOffset?e.document.documentElement.scrollLeft:e.pageXOffset,top:void 0===e.pageYOffset?e.document.documentElement.scrollTop:e.pageYOffset}}(e);return{left:Math.round(t.left+i.left),top:Math.round(t.top+i.top)}}(i,f):void 0,S=function(e){let{slotSize:t,videoContentSize:i}=e;const o=void 0===i?t.width/t.height:i.width/i.height,r=t.width/t.height>o,n=r?t.height*o:t.width/o,a=r?t.height:t.width;return{adjacentSize:n,innerSize:a,extraHorizontalSpace:r,width:r?n:a,height:r?a:n}}({slotSize:o,videoContentSize:g});let T=Sl.videoFramesInfo,E=Sl.videoSrc,b=Sl.videoCurrentSrc,C=Sl.videoMuted,P=Sl.videoVolume,w=Sl.currentTime,O=Sl.bufferingTimeRatio,I=Sl.remainingBufferedTime,k=Sl.isFullscreen;s&&(T=n(s),E=s.src,b=s.currentSrc,C=s.muted,P=s.volume,w=s.currentTime,I=Qv(s),t(w)&&t(l)&&l+w>0&&(O=l/(l+w)),k=nr(i,s));const{value:N}=To({mediaFileSize:g,slotSize:o});return{visibility:r,size:o,adPodId:a,relativeSizeRatio:A,screenSize:h,devicePixelRatio:v,downlink:_,videoNodePosition:y,videoContentSize:g,videoAvatarSize:S,videoPixelRatio:N,videoToDevicePixelRatio:sr({videoPixelRatio:N,devicePixelRatio:v}),videoFramesInfo:T,videoSrc:E,videoCurrentSrc:b===E?void 0:b,videoMuted:C,videoVolume:P,bufferingTime:l,currentTime:w,bufferingTimeRatio:O,remainingBufferedTime:I,adBreakType:d,adFormatType:c,isFullscreen:k,productType:u}}function dr(e){return function(e,t){let i=e;return Ol(he(t),(o=>{let[r,n]=o;if(void 0===n)return;const a="["+r+"]";if(n!==a)for(;i.indexOf(a)>-1;)Bc.log({name:"ReplaceVastMacro",data:{macroName:r,macroValue:n,stringToReplace:e,macros:t}}),i=i.replace(a,n)})),i}(e,Zv)}function cr(e){let{trackingUrls:t,options:i,sendBeaconParams:o}=e;if(!Array.isArray(t))return;const r=Wd(t,Kt),n=Nc(r,dr),a=Nc(n,(e=>Xe({url:e,options:i,win:window})));Ol(a,(e=>yt(e,o)))}function ur(e){return Ol(c(Nv),(t=>{const i=Nv[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{if("function"===typeof e[i])try{return e[i]()}catch(o){Bc.error({error:new Sc({code:"VPAID_METHOD_FOR_GETTER_ERROR",details:{propertyName:t}})})}else Bc.error({error:new Sc({code:"VPAID_HAS_NO_METHOD_FOR_GETTER",details:{propertyName:t}})})}})})),Ol(c(Dv),(t=>{const i=Dv[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:o=>{if("function"===typeof e[i])try{return e[i](o)}catch(r){Bc.error({error:new Sc({code:"VPAID_METHOD_FOR_SETTER_ERROR",details:{propertyName:t,value:o}})})}else Bc.error({error:new Sc({code:"VPAID_HAS_NO_METHOD_FOR_SETTER",details:{propertyName:t,value:o}})})}})})),e}function hr(){return hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},hr.apply(this,arguments)}function pr(){return pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},pr.apply(this,arguments)}function mr(){return mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},mr.apply(this,arguments)}function Ar(){return Ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ar.apply(this,arguments)}function vr(){return vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},vr.apply(this,arguments)}function _r(e){return Array.isArray(e)?Wd(e,(e=>"string"===typeof e&&e.length>0)):[]}function gr(e){if(!o(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!o(t))return;const{data_params:i}=t;if(!o(i))return;const{misc:r}=i;if(!o(r))return;const{object_id:n}=r,a=i[n];return o(a)?a:void 0}function fr(e,t){const i=e[t],r=gr(e),n=null==r?void 0:r[t],a=null==r?void 0:r.unmoderated;return{rootField:i,bannerParametersField:n,unmoderatedBannerParametersField:o(a)?a[t]:void 0}}function yr(e){const t=[],i=[];return o(e)?{measurers:At(e,((r,n)=>n!==h_&&(o(r)?!!function(e){return e===h_||-1!==u_.indexOf(e)}(n)||(i.push({name:"UnsupportedMeasurer",data:{measurerName:n,measurersParameters:e}}),!1):(t.push(new Sc({code:"MEASURER_PARAMS_IN_NOT_AN_OBJECT",details:{measurerName:n,measurersParameters:e}})),!1)))),errors:t,events:i}:(void 0!==e&&t.push(new Sc({code:"INVALID_MEASURERS_PARAMETERS",details:{measurersParameters:e}})),{measurers:{},errors:t,events:i})}function Sr(){return Sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Sr.apply(this,arguments)}function Tr(e){return o(e)?Z(p_,((t,i)=>_r(e[i]))):wh(p_)}function Er(e){const{sad:t,AUCTION_DC_PARAMS:i}=e;return"sad"===t||!!o(i)&&"sad"===i.sad}function br(e){return e<2?1e3:2===e?3e3:5e3}function Cr(e,t,i){let o;const r=new Gd,n=tr(e,t,(e=>{o=e,r.dispatch(e)})),a=new lu(o,i),s=r.add(a);return{valueSignal:a,teardown:()=>{s(),n()}}}function Pr(e,t,i,o){"undefined"!==typeof i&&"undefined"!==typeof t&&(i+=!A_.test(t)&&i>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,i,o?"important":""):e.style.cssText+=";"+t+": "+i+(o?"!important":""))}function wr(e,t,i){const o=Ue(Nc(he(t),(e=>{let[t,i]=e;return[__(t),i]})));return v_(e,o,i)}function Or(){return Or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Or.apply(this,arguments)}function Ir(e){if("yandexTestMeasurer"===e.measurerName)return;const t=xv[e.measurerName];Bc.log({name:t,data:void 0})}function kr(){return kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},kr.apply(this,arguments)}function Nr(e){let{eventName:t,trackingEventDetails:i,trackingUrls:o,options:{devicePixelRatio:r,downlink:n,relativeSizeRatio:a,screenSize:s,size:l,visibility:d,videoContentSize:c,videoAvatarSize:u,videoPixelRatio:h,videoToDevicePixelRatio:p,videoFramesInfo:m,videoSrc:A,videoCurrentSrc:v,videoMuted:_,videoVolume:g,bufferingTime:f,bufferingTimeRatio:y,currentTime:S,remainingBufferedTime:T,adBreakType:E,adFormatType:b,isFullscreen:C,adPodId:P,productType:w},pixelsSource:O}=e;const I=b_[t],k=void 0===I?1:I+1;b_[t]=k;const N={videoContentSize:c,videoAvatarSize:{width:Math.round(u.width),height:Math.round(u.height)},videoPixelRatio:h,videoToDevicePixelRatio:p,videoFramesInfo:m,videoSrc:A,bufferingTime:f,bufferingTimeRatio:y,currentTime:S,remainingBufferedTime:T},R={devicePixelRatio:r,downlink:n,relativeSizeRatio:a,screenSize:s,size:l,visibility:d,videoCurrentSrc:v,videoMuted:_,videoVolume:g,adBreakType:E,adFormatType:b,isFullscreen:C,adPodId:P,productType:w},{values:V,sensors:L,dailySensors:x}=i,B=kr({trackingUrls:o,isVisibilityReliable:yh(),counterInBundle:k},N,R);1e3===k&&Bc.error({error:new Sc({code:"NORMAL_EVENT_TRACKING_COUNT_EXCEEDED",details:kr({eventName:t,eventTrackingsCounts:b_},B)})});const M="vast"===O?(e=>"VastTracking_"+e)(t):(e=>"AdParametersTracking_"+e)(t),U="vast"===O&&D(E_,t)?1:hc,F={data:B,values:V,sensors:L,dailySensors:x};Bc.log(kr({name:M,probability:U},F))}function Dr(e,t,i){return void 0===i&&(i="contain"),e instanceof HTMLElement?qo(e,{backgroundImage:'url("'+t.url+'")',backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:i}):(Bc.log({name:"FirstFrameImageInvalidElementForSlot",probability:.01}),()=>{})}function Rr(e){return!!o(e)&&vc(e)}function Vr(e,t){const i=Ie({element:e,eventName:"timeupdate",listener:()=>{e.currentTime>0&&!e.paused&&(r(),t())}}),o=Ie({element:e,eventName:"playing",listener:()=>{e.duration>0&&(r(),t())}}),r=()=>{i(),o()};return r}function Lr(e){const t=Dd;t.__vasClickRegistration?t.__vasClickRegistration.duplicates.push(e):(t.__vasClickRegistration={details:e,duplicates:[]},t.setTimeout((()=>{delete t.__vasClickRegistration}),Ym))}function xr(){return xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},xr.apply(this,arguments)}function Br(e){const t="undefined"!==typeof Object.getOwnPropertyDescriptor(e.document,"hidden"),i="undefined"!==typeof Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.document),"hidden");return t||i}function Mr(e){return Boolean(e.IntersectionObserver)&&!l(e.IntersectionObserver)}function Ur(e){var t,i,o,r,n,a,s,l;const d=null!=(t=null!=(i=null!=(o=null!=(r=e.requestAnimationFrame)?r:e.mozRequestAnimationFrame)?o:e.webkitRequestAnimationFrame)?i:e.msRequestAnimationFrame)?t:t=>e.setTimeout(t,16.666666666666668),c=null!=(n=null!=(a=null!=(s=null!=(l=e.cancelAnimationFrame)?l:e.mozCancelAnimationFrame)?s:e.webkitCancelAnimationFrame)?a:e.msCancelAnimationFrame)?n:t=>e.clearTimeout(t);return{requestAnimationFrame:d.bind(e),cancelAnimationFrame:c.bind(e)}}function Fr(e,t){for(var i in t)e[i]=t[i];return e}function Hr(e){var t=e.parentNode;t&&t.removeChild(e)}function zr(e,t,i){var o,r,n,a={};for(n in t)"key"==n?o=t[n]:"ref"==n?r=t[n]:a[n]=t[n];if(arguments.length>2&&(a.children=arguments.length>3?U_.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===a[n]&&(a[n]=e.defaultProps[n]);return jr(e,a,o,r,null)}function jr(e,t,i,o,r){var n={type:e,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++H_:r};return null!=F_.vnode&&F_.vnode(n),n}function Yr(e){return e.children}function Wr(e,t){this.props=e,this.context=t}function Gr(e,t){if(null==t)return e.__?Gr(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?Gr(e):null}function Xr(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return Xr(e)}}function Kr(e){(!e.__d&&(e.__d=!0)&&z_.push(e)&&!qr.__r++||Y_!==F_.debounceRendering)&&((Y_=F_.debounceRendering)||j_)(qr)}function qr(){for(var e;qr.__r=z_.length;)e=z_.sort((function(e,t){return e.__v.__b-t.__v.__b})),z_=[],e.some((function(e){var t,i,o,r,n,a;e.__d&&(n=(r=(t=e).__v).__e,(a=t.__P)&&(i=[],(o=Fr({},r)).__v=r.__v+1,rn(a,r,o,t.__n,void 0!==a.ownerSVGElement,null!=r.__h?[n]:null,i,null==n?Gr(r):n,r.__h),nn(i,r),r.__e!=n&&Xr(r)))}))}function Qr(e,t,i,o,r,n,a,s,l,d){var c,u,h,p,m,A,v,_=o&&o.__k||X_,g=_.length;for(i.__k=[],c=0;c<t.length;c++)if(null!=(p=i.__k[c]=null==(p=t[c])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?jr(null,p,null,null,p):Array.isArray(p)?jr(Yr,{children:p},null,null,null):p.__b>0?jr(p.type,p.props,p.key,null,p.__v):p)){if(p.__=i,p.__b=i.__b+1,null===(h=_[c])||h&&p.key==h.key&&p.type===h.type)_[c]=void 0;else for(u=0;u<g;u++){if((h=_[u])&&p.key==h.key&&p.type===h.type){_[u]=void 0;break}h=null}rn(e,p,h=h||G_,r,n,a,s,l,d),m=p.__e,(u=p.ref)&&h.ref!=u&&(v||(v=[]),h.ref&&v.push(h.ref,null,p),v.push(u,p.__c||m,p)),null!=m?(null==A&&(A=m),"function"==typeof p.type&&null!=p.__k&&p.__k===h.__k?p.__d=l=Jr(p,l,e):l=Zr(e,p,h,_,m,l),d||"option"!==i.type?"function"==typeof i.type&&(i.__d=l):e.value=""):l&&h.__e==l&&l.parentNode!=e&&(l=Gr(h))}for(i.__e=A,c=g;c--;)null!=_[c]&&("function"==typeof i.type&&null!=_[c].__e&&_[c].__e==i.__d&&(i.__d=Gr(o,c+1)),ln(_[c],_[c]));if(v)for(c=0;c<v.length;c++)sn(v[c],v[++c],v[++c])}function Jr(e,t,i){var o,r;for(o=0;o<e.__k.length;o++)(r=e.__k[o])&&(r.__=e,t="function"==typeof r.type?Jr(r,t,i):Zr(i,r,r,e.__k,r.__e,t));return t}function Zr(e,t,i,o,r,n){var a,s,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==i||r!=n||null==r.parentNode)e:if(null==n||n.parentNode!==e)e.appendChild(r),a=null;else{for(s=n,l=0;(s=s.nextSibling)&&l<o.length;l+=2)if(s==r)break e;e.insertBefore(r,n),a=n}return void 0!==a?a:r.nextSibling}function $r(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]=null==i?"":"number"!=typeof i||K_.test(t)?i:i+"px"}function en(e,t,i,o,r){var n;e:if("style"===t)if("string"==typeof i)e.style.cssText=i;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)i&&t in i||$r(e.style,t,"");if(i)for(t in i)o&&i[t]===o[t]||$r(e.style,t,i[t])}else if("o"===t[0]&&"n"===t[1])n=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+n]=i,i?o||e.addEventListener(t,n?on:tn,n):e.removeEventListener(t,n?on:tn,n);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==i?"":i;break e}catch(e){}"function"==typeof i||(null!=i&&(!1!==i||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,i):e.removeAttribute(t))}}function tn(e){this.l[e.type+!1](F_.event?F_.event(e):e)}function on(e){this.l[e.type+!0](F_.event?F_.event(e):e)}function rn(e,t,i,o,r,n,a,s,l){var d,c,u,h,p,m,A,v,_,g,f,y=t.type;if(void 0!==t.constructor)return null;null!=i.__h&&(l=i.__h,s=t.__e=i.__e,t.__h=null,n=[s]),(d=F_.__b)&&d(t);try{e:if("function"==typeof y){if(v=t.props,_=(d=y.contextType)&&o[d.__c],g=d?_?_.props.value:d.__:o,i.__c?A=(c=t.__c=i.__c).__=c.__E:("prototype"in y&&y.prototype.render?t.__c=c=new y(v,g):(t.__c=c=new Wr(v,g),c.constructor=y,c.render=dn),_&&_.sub(c),c.props=v,c.state||(c.state={}),c.context=g,c.__n=o,u=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=y.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=Fr({},c.__s)),Fr(c.__s,y.getDerivedStateFromProps(v,c.__s))),h=c.props,p=c.state,u)null==y.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==y.getDerivedStateFromProps&&v!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,g),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,g)||t.__v===i.__v){c.props=v,c.state=c.__s,t.__v!==i.__v&&(c.__d=!1),c.__v=t,t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),c.__h.length&&a.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,g),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,p,m)}))}c.context=g,c.props=v,c.state=c.__s,(d=F_.__r)&&d(t),c.__d=!1,c.__v=t,c.__P=e,d=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(o=Fr(Fr({},o),c.getChildContext())),u||null==c.getSnapshotBeforeUpdate||(m=c.getSnapshotBeforeUpdate(h,p)),f=null!=d&&d.type===Yr&&null==d.key?d.props.children:d,Qr(e,Array.isArray(f)?f:[f],t,i,o,r,n,a,s,l),c.base=t.__e,t.__h=null,c.__h.length&&a.push(c),A&&(c.__E=c.__=null),c.__e=!1}else null==n&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=an(i.__e,t,i,o,r,n,a,l);(d=F_.diffed)&&d(t)}catch(e){t.__v=null,(l||null!=n)&&(t.__e=s,t.__h=!!l,n[n.indexOf(s)]=null),F_.__e(e,t,i)}}function nn(e,t){F_.__c&&F_.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){F_.__e(e,t.__v)}}))}function an(e,t,i,o,r,n,a,s){var l,d,c,u=i.props,h=t.props,p=t.type,m=0;if("svg"===p&&(r=!0),null!=n)for(;m<n.length;m++)if((l=n[m])&&(l===e||(p?l.localName==p:3==l.nodeType))){e=l,n[m]=null;break}if(null==e){if(null===p)return document.createTextNode(h);e=r?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),n=null,s=!1}if(null===p)u===h||s&&e.data===h||(e.data=h);else{if(n=n&&U_.call(e.childNodes),d=(u=i.props||G_).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!s){if(null!=n)for(u={},m=0;m<e.attributes.length;m++)u[e.attributes[m].name]=e.attributes[m].value;(c||d)&&(c&&(d&&c.__html==d.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(function(e,t,i,o,r){var n;for(n in i)"children"===n||"key"===n||n in t||en(e,n,null,i[n],o);for(n in t)r&&"function"!=typeof t[n]||"children"===n||"key"===n||"value"===n||"checked"===n||i[n]===t[n]||en(e,n,t[n],i[n],o)}(e,h,u,r,s),c)t.__k=[];else if(m=t.props.children,Qr(e,Array.isArray(m)?m:[m],t,i,o,r&&"foreignObject"!==p,n,a,n?n[0]:i.__k&&Gr(i,0),s),null!=n)for(m=n.length;m--;)null!=n[m]&&Hr(n[m]);s||("value"in h&&void 0!==(m=h.value)&&(m!==e.value||"progress"===p&&!m)&&en(e,"value",m,u.value,!1),"checked"in h&&void 0!==(m=h.checked)&&m!==e.checked&&en(e,"checked",m,u.checked,!1))}return e}function sn(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){F_.__e(e,i)}}function ln(e,t,i){var o,r;if(F_.unmount&&F_.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||sn(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){F_.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(r=0;r<o.length;r++)o[r]&&ln(o[r],t,"function"!=typeof e.type);i||null==e.__e||Hr(e.__e),e.__e=e.__d=void 0}function dn(e,t,i){return this.constructor(e,i)}function cn(e,t,i){var o,r,n;F_.__&&F_.__(e,t),r=(o="function"==typeof i)?null:i&&i.__k||t.__k,n=[],rn(t,e=(!o&&i||t).__k=zr(Yr,null,[e]),r||G_,G_,void 0!==t.ownerSVGElement,!o&&i?[i]:r?null:t.firstChild?U_.call(t.childNodes):null,n,!o&&i?i:r?r.__e:t.firstChild,o),nn(n,e)}function un(e,t){var i={__c:t="__cC"+W_++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,o;return this.getChildContext||(i=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&i.some(Kr)},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Provider.__=i.Consumer.contextType=i}function hn(e,t){F_.__h&&F_.__h(Q_,e,Z_||t),Z_=0;var i=Q_.__H||(Q_.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function pn(e){return Z_=1,function(e,t,i){var o=hn(q_++,2);return o.t=e,o.__c||(o.__=[bn(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__=[t,o.__[1]],o.__c.setState({}))}],o.__c=Q_),o.__}(bn,e)}function mn(e,t){var i=hn(q_++,3);!F_.__s&&En(i.__H,t)&&(i.__=e,i.__H=t,Q_.__H.__h.push(i))}function An(e,t){var i=hn(q_++,4);!F_.__s&&En(i.__H,t)&&(i.__=e,i.__H=t,Q_.__h.push(i))}function vn(e){return Z_=5,_n((function(){return{current:e}}),[])}function _n(e,t){var i=hn(q_++,7);return En(i.__H,t)&&(i.__=e(),i.__H=t,i.__h=e),i.__}function gn(e,t){return Z_=8,_n((function(){return e}),t)}function fn(e){var t=Q_.context[e.__c],i=hn(q_++,9);return i.c=e,t?(null==i.__&&(i.__=!0,t.sub(Q_)),t.props.value):e.__}function yn(){$_.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(Sn),e.__H.__h.forEach(Tn),e.__H.__h=[]}catch(H_){e.__H.__h=[],F_.__e(H_,e.__v)}})),$_=[]}function Sn(e){var t=Q_;"function"==typeof e.__c&&e.__c(),Q_=t}function Tn(e){var t=Q_;e.__c=e.__(),Q_=t}function En(e,t){return!e||e.length!==t.length||t.some((function(t,i){return t!==e[i]}))}function bn(e,t){return"function"==typeof t?t(e):t}function Cn(){return Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Cn.apply(this,arguments)}function Pn(e){var t,i,o="";if("string"===typeof e||"number"===typeof e)o+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=Pn(e[t]))&&(o&&(o+=" "),o+=i);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function wn(){for(var e,t,i=0,o="";i<arguments.length;)(e=arguments[i++])&&(t=Pn(e))&&(o&&(o+=" "),o+=t);return o}function On(e){const[t,i]=pn(e.getValue());return mn((()=>(i(e.getValue()),e.add(i))),[e]),t}function In(e,t){var i;const o=(null!=(i=e.ownerDocument)?i:document).createElement("style");return o.type="text/css",o.textContent=t,e.appendChild(o),o}function kn(e){const t=fn(hg);An((()=>Ag.useStyleModule(t,e)),[e])}function Nn(e){let{buttonText:t,onClick:i}=e;return{buttonText:t,openClickThroughUrl:i}}function Dn(){return Dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Dn.apply(this,arguments)}function Rn(e){var t,i,r;const n=[Yd],a=null==(t=e.adParametersObject)||null==(i=t.AUCTION_DC_PARAMS)||null==(r=i.data_params)?void 0:r.misc;if(o(a)){const{object_id:e="",pageId:t="",impId:i="",campaignid:o="",bidreqid:r=""}=a;n.push(e,t,i,o,r)}return n.join()}function Vn(e){if(!o(e))return!1;if(!h(e.vendor))return!1;if(!h(e.javaScriptResource))return!1;const t=e.verificationParameters;return!(!h(t)&&!o(t))&&!(void 0!==e.trackingEvents&&!o(e.trackingEvents))}function Ln(e){if(!Array.isArray(e))return!1;for(const t of e)if(!Vn(t))return!1;return!0}function xn(){return xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},xn.apply(this,arguments)}function Bn(e,t){const i=function(e){switch(e){case"limited":return"limited";case"domain":return"domain";default:return"full"}}(t.omidAccessMode);if("TRUE"===qd.getFlagValueAndActivateTestId("VAS_ENABLE_OMSDK_TEST_MODE"))return[{vendorKey:"IAS",javaScriptResource:"https://static.adsafeprotected.com/fw.js?ias_campId=CAMP_ID&ias_placementId=AD_GROUP_ID",accessMode:"full",verificationParameters:'{"config":"/rjss/yandex/82444/58348904/skeleton.js?iasProxyPartnerId=32908","host":"https://jsconfig.adsafeprotected.com"}',trackingEvents:{}},{vendorKey:"iabtechlab.com-omid",javaScriptResource:Dg,accessMode:"full",verificationParameters:"iabtechlab-Yandex",trackingEvents:{}}];const r=function(e,t){return Nc(e,(e=>xn({},e,{accessMode:t})))}(e.adVerifications,i),n=function(e,t){if(!e)return[];const{rootField:i,bannerParametersField:r,unmoderatedBannerParametersField:n}=fr(e,"measurers"),a=o(i)&&i.omid,s=o(r)&&r.omid,l=o(n)&&n.omid,d=Wd([a,s,l],Boolean);if(0===d.length)return[];const c=Wd(d,Ln);d.length!==c.length&&Bc.error({error:new Sc({code:"OMID_OBJECT_FROM_AD_PARAMETERS_IS_INVALID",details:{adParameters:JSON.stringify(e)}})});const u=c.shift();return Array.isArray(u)?Nc(u,(e=>{let{vendor:i,javaScriptResource:o,trackingEvents:r,verificationParameters:n}=e;return{vendorKey:i,javaScriptResource:o,trackingEvents:null!=r?r:{},verificationParameters:h(n)?n:JSON.stringify(n),accessMode:t}})):[]}(e.adParametersObject,i),a=(s=[...r,...n],Wd(s,(e=>{const{javaScriptResource:t,trackingEvents:i}=e;try{const e=new URL(t);if(Hg.has(e.hostname))return!0}catch(G_){Bc.error({error:new Sc({code:"OMID_COULD_NOT_CONFIRM_JAVASCRIPT_RESOURCE",details:{errorMessage:G_.message,javaScriptResource:t}})})}const o=i.verificationNotExecuted;return h(o)&&yt(o.replace("[REASON]","1")),Bc.log({name:"OmidVerificationJavascriptResourceIsNotSupported",data:{parameters:JSON.stringify(e)},probability:1}),!1})));var s;return 0!==a.length?a:void 0}function Mn(){return Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Mn.apply(this,arguments)}function Un(){return Un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Un.apply(this,arguments)}function Fn(e){const t=iA(e);if(void 0!==t&&"CTL"!==t)if(h(t)){var i;if(i=t,tf||(tf=document.createElement("div")),tf.style.borderColor="",tf.style.borderColor=i,tf.style.borderColor.length>0)return t;Bc.error({error:new Sc({code:"INVALID_COLOR_VALUE_IN_AB_LONG_EXP",details:{experimentFlagName:e,flagValue:t}})})}else Bc.error({error:new Sc({code:"INVALID_COLOR_FLAG_IN_AB_LONG_EXP",details:{experimentFlagName:e,flagValue:t}})})}function Hn(e,t,i){return e>=t&&e<=i}function zn(e){let[t,i,o]=e;return(299*t+587*i+114*o)/1e3}function jn(e){return uf.charAt(e/16<<0)+uf.charAt(e%16)}function Yn(e,t){return e===of.ALPHA?Hn(t,0,1):Hn(t,0,255)}function Wn(e){let{height:t,width:i}=e;const o=Math.min(t,i);return o<300?40:o>1080?70:40+(o-300)/780*30}function Gn(e){let{height:t,width:i}=e;return.275*Wn({height:t,width:i})}function Xn(e){let{width:t}=e;return t<$f?"small":t>1e3?"big":"middle"}function Kn(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("circle",{cx:"8",cy:"8",r:"8",fill:"#262626","fill-opacity":".65"},[]),zr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.127 12.808H10.8v-9.6H8.368c-2.445 0-3.73 1.257-3.73 3.108 0 1.478.705 2.348 1.962 3.246l-2.183 3.246h1.81l2.43-3.633-.842-.566c-1.022-.69-1.52-1.23-1.52-2.39 0-1.022.72-1.713 2.087-1.713h.745v8.302Z",fill:"#b1b1b1"},[])])}function qn(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",fill:"none"},t),[zr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.714 7a.75.75 0 0 1-.698-1.026l1.862-4.705a.75.75 0 0 1 1.318-.145l.9 1.328A9 9 0 1 1 10 19a9.002 9.002 0 0 1-8.842-7.315 1 1 0 0 1 1.965-.372 7 7 0 1 0 3.096-7.205l1.167 1.721A.75.75 0 0 1 6.766 7H1.714Z",fill:"#fff"},[])])}async function Qn(e,t,i){let o=0;for(;o<Xy.length;){var r,n,a;if(t.current&&(Xy[o].titleSize?t.current.style.cssText="--fontsize:"+Xy[o].titleSize+"px;":t.current.dataset.hidden="true"),i.current&&(Xy[o].bodySize?i.current.style.cssText="--fontsize:"+Xy[o].bodySize+"px;":i.current.dataset.hidden="true"),await new Promise((e=>{const{requestAnimationFrame:t}=window;L(t)||e(),t((()=>{e()}))})),((null==(r=e.current)?void 0:r.offsetHeight)||0)-(((null==(n=t.current)?void 0:n.offsetHeight)||0)+((null==(a=i.current)?void 0:a.offsetHeight)||0))>=0)return Xy[o];o+=1}return Xy[Xy.length-1]}function Jn(e,t){if(e)return e.medicine?{text:uv("MOTION_DRUG_DISCLAIMER",t),mandatoryHeightPortion:.05}:e.dietarysuppl?{text:uv("MOTION_DIETARYSUPPL_DISCLAIMER",t),mandatoryHeightPortion:.1}:void 0}function Zn(e,t){const i=function(e){const t=function(){if("undefined"===typeof eS){let t=null;try{t=Element.prototype.attachShadow}catch(e){}if(t&&l(t))eS=t;else{const e=document.createElement("iframe");e.style.setProperty("display","none"),document.body.appendChild(e);const t=Cc(e,"contentWindow.Element.prototype.attachShadow");eS=t&&l(t)?t:null,document.body.removeChild(e)}}return eS}();return t&&t.bind(e)}(e);if(!L(i))return null;try{return i(t)}catch(o){return null}}function $n(e){var t;if(null!=(t=!Boolean(e.ownerDocument))?t:!e.ownerDocument.defaultView)return null;const i=e.ownerDocument.defaultView,o=Zn(e,{mode:"open"});if(!o)return null;const r=i.document.createElement("div");return o.appendChild(r),r}function ea(e,t){if(e===t)return!0;if(!o(e)||!o(t))return!1;if(kl(e)!==kl(t))return!1;const i=c(e),r=c(t);if(i.length!==r.length)return!1;for(const o of r){if(!(o in e))return!1;if(!ea(e[o],t[o]))return!1}return!0}function ta(e){return e.getIsConvertedFromVideoVast()?"video":we(e.vastAd)}function ia(){return ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ia.apply(this,arguments)}function oa(e){try{kc("Track event=["+e.eventName+"]"),Nr(e=ia({},e,{options:ra(e.options)})),cr(e)}catch(t){Bc.error({error:new Sc({code:"TRACK_EVENT_WITH_STATS_ERROR",details:{trackingUrlsParams:e}})})}}function ra(e){const{size:t,screenSize:i,videoContentSize:o}=e;return ia({},e,{size:Z(t,Math.round),screenSize:Z(i,Math.round),videoContentSize:o&&Z(o,Math.round)})}function na(e,t){const i=function(e){const t=Dc(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return i?Ie({element:e,eventName:i,listener:()=>{t(pe(e))}}):W}function aa(){return aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},aa.apply(this,arguments)}function sa(e){"function"===typeof(null==e?void 0:e.catch)&&e.catch((()=>{}))}function la(){return la=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},la.apply(this,arguments)}function da(e){const{adParametersObject:t}=e;if(!o(t))return;const r=t.packshot_duration;if(!i(r))return;const n=t.PACKSHOT_IMAGE_URL;if(!h(n))return;const a=e.clickUrlData.tgaOfferClickUrl;if(void 0===a)return;const{title:s,body:l}=kt(t);return{packshotDuration:r,packshotImageUrl:n,packshotActionButtonClickUrl:a,packshotTitle:s,packshotBody:l,packshotButtonText:Dt(t)}}function ca(e,t){return sS.indexOf(e)>=sS.indexOf(t)}function ua(e){let{creativeLifeCycleStage:t,isYandexCreative:i,adCreativeWrapper:o}=e;if(ca(t,"start")){if(o){const e=o.params.animationParameters,t=o.params.videoParameters;if(e&&!o.adCreativeLatch.getDispatched())return t?"YANDEX_AD_CREATIVE_WITH_VIDEO_START_TIMEOUT_NO_ANIMATION":"YANDEX_AD_CREATIVE_NO_VIDEO_START_TIMEOUT_NO_ANIMATION";if(t&&!o.videoStartedLatch.getDispatched())return e?"YANDEX_AD_CREATIVE_WITH_ANIM_VIDEO_START_TIMEOUT":"YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT"}return i?"YANDEX_VPAID_START_TIMEOUT":"VPAID_START_TIMEOUT"}return ca(t,"init")?i?"YANDEX_VPAID_INIT_TIMEOUT":"VPAID_INIT_TIMEOUT":i?"YANDEX_VPAID_LOAD_TIMEOUT":"VPAID_LOAD_TIMEOUT"}function ha(e){if(!Ri(e))return!1;const{adParametersObject:t}=e;return!!o(t)&&"theme-empty"===t.adCreativeConversionType}function pa(e){var t;if(!ha(e))return;const i=yS(e);if(!o(i))return;const{adParametersObject:r,parsedParameters:n}=i;if(!o(r)||!o(n))return;const a=xt(r);if(!a)return;const{greenUrl:s,targetUrl:l,hasTitle:d,title:c,hasBody:u,body:h,hasAgeRestriction:p,ageRestriction:m}=n,A=null==(t=e.assets.button)?void 0:t.caption;return{greenUrl:s,clickUrl:a,targetUrl:l,label:null!=A?A:Dt(r),title:!1===d?void 0:c,body:!1===u?void 0:h,ageRestriction:p?m:void 0}}function ma(){return ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ma.apply(this,arguments)}function Aa(){return Aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Aa.apply(this,arguments)}function va(e){const[t,i]=pn(void 0),o=e instanceof HTMLElement?{current:e}:e;return An((()=>{if(null==o||!o.current)return;const e=new wS(o.current);return e.onResize.add((e=>i(e))),i(e.getSize()),()=>e.destroy()}),[null==o?void 0:o.current]),t}function _a(e,t,i,o){if(!1===RS)return new Intl.NumberFormat(i,{currency:t,style:"currency"}).format(e);try{return new Intl.NumberFormat(i,{currency:t,style:"currency",maximumFractionDigits:o}).format(e)}catch(G_){if(wl(G_)&&(/maximumFractionDigits/.test(G_.message)||/invalid digits/.test(G_.message)))return RS=!1,_a(e,t,i);throw G_}}function ga(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"M8.387 2.887a1.25 1.25 0 0 0-1.768-1.769L.62 7.116a1.25 1.25 0 0 0 0 1.768l5.998 5.998a1.25 1.25 0 0 0 1.768-1.769L6.62 11.347a12.498 12.498 0 0 0-2.198-1.75l-.934-.586.058-.058 1.2.171a12.5 12.5 0 0 0 1.767.126H18.75a1.25 1.25 0 0 0 0-2.5H6.513a12.5 12.5 0 0 0-1.768.126l-1.199.17-.058-.058.938-.588A12.5 12.5 0 0 0 6.62 4.652l1.766-1.765Z",fill:"currentColor"},[])])}function fa(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"M11.616 14.884a1.25 1.25 0 0 1-.003-1.771l1.766-1.765c.664-.663 1.4-1.25 2.195-1.748l.938-.588-.059-.059-1.199.171a12.5 12.5 0 0 1-1.767.126H10v.003H8.75V9.25h-7.5a1.25 1.25 0 1 1 0-2.5h12.237a12.5 12.5 0 0 1 1.767.126l1.2.17.057-.057-.934-.586a12.495 12.495 0 0 1-2.198-1.75l-1.766-1.766a1.25 1.25 0 0 1 1.768-1.769l5.998 5.998a1.25 1.25 0 0 1 0 1.768l-5.998 5.998a1.25 1.25 0 0 1-1.765.002Z",fill:"currentColor"},[])])}function ya(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 489.645 489.645"},t),[zr("path",{d:"M460.656 132.911c-58.7-122.1-212.2-166.5-331.8-104.1-9.4 5.2-13.5 16.6-8.3 27 5.2 9.4 16.6 13.5 27 8.3 99.9-52 227.4-14.9 276.7 86.3 65.4 134.3-19 236.7-87.4 274.6-93.1 51.7-211.2 17.4-267.6-70.7l69.3 14.5c10.4 2.1 21.8-4.2 23.9-15.6 2.1-10.4-4.2-21.8-15.6-23.9l-122.8-25c-20.6-2-25 16.6-23.9 22.9l15.6 123.8c1 10.4 9.4 17.7 19.8 17.7 12.8 0 20.8-12.5 19.8-23.9l-6-50.5c57.4 70.8 170.3 131.2 307.4 68.2 58.1-30 191.5-147.7 103.9-329.6z",fill:"currentColor"},[])])}function Sa(){return Sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Sa.apply(this,arguments)}function Ta(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{"stroke-width":"2","stroke-linecap":"round",stroke:"currentColor",d:"m8 8 8 8m0-8-8 8"},[])])}function Ea(e){var t;if(!ye(e)&&!fe(e)||!ic)return e;const i=kd[kd.length-1];return function(e,t,i){if(void 0===i)return e;const o=w(e),r=I(o.search);return r.target_ref=i,O(P({},o,{search:k(r)}))}(e,0,(null!=(t=null==i?void 0:i.ownerDocument)?t:document).referrer)}function ba(){return ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ba.apply(this,arguments)}function Ca(e){let{shouldPlayTime:t,playingTime:i,videoFramesInfo:{droppedVideoFrames:o,corruptedVideoFrames:r,totalVideoFrames:n,droppedVideoFramesRatio:a},bufferingTime:s,videoPixelRatio:l,devicePixelRatio:d,duration:c,remainingTime:u}=e;const h=c-u;let p;return p=0===h?0===s?0:1:s/h,{shouldPlayTime:t,playingTime:i,notPlayingTime:t-i,bufferingTime:s,duration:c,remainingTime:u,currentTime:h,bufferingTimeRatio:p,videoToDevicePixelRatio:sr({videoPixelRatio:l,devicePixelRatio:d}),videoPixelRatio:l,droppedVideoFrames:o,corruptedVideoFrames:r,totalVideoFrames:n,droppedVideoFramesRatio:a}}function Pa(){return Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Pa.apply(this,arguments)}function wa(e,t){const i=wh(tp);!1===t.visibility?i.visibility=!1:i.visibility=e.visibility;for(const o of ZS)!1===i.visibility?i.controlsVisibility[o]=!1:"boolean"===typeof t.controlsVisibility[o]?i.controlsVisibility[o]=t.controlsVisibility[o]:i.controlsVisibility[o]=e.controlsVisibility[o];return i}function Oa(){const e=wh(tp);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];const r=Wd(i,(e=>Boolean(e)));return ql(r,((e,t)=>wa(e,t)),e)}function Ia(e){const{imhoParams:t}=e;if(function(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&Di(i.url)}(e))return!1;if(Li(e)||Vi(e))return!1;if(Ri(e)){const{adParametersObject:t}=e;if(!t)return!1;const i=p((()=>Gi(t.mediaFiles)));if(!i)return!1;const{videoMediaFiles:o}=i;if(0===o.length)return!1;if(hp(o,(e=>!1===e.hasAudio)))return!1}return!t||t.showSoundButton}function ka(e){if(Li(e)||Vi(e))return!1}function Na(e){const{imhoParams:t,serializablePlaybackParameters:i}=e,o={controlsVisibility:{adLabel:null==t?void 0:t.showLabel,mute:Ia(e),skip:!0,play:ka(e)}};let r;return i&&(r=i.controlsSettings),Oa(o,r)}function Da(e,t){const i=iA(e);return D(t,i)?i:void 0}function Ra(e){let{playbackParameters:o,vastAd:r,adBreakType:n,isYandexAdCreative:a}=e;const s=Oa(Na(r),o.controlsSettings),{skipDelay:l,eventName:d}=function(e){var i,o;let{vastAd:r}=e;const{skipTime:n,skipOffset:a}=r,s=null==(i=r.adParametersObject)||null==(o=i.playbackParameters)?void 0:o.skipDelay;return t(s)?(Bc.log({name:"UsingVastSkipDelayPlaybackParameter",data:{skipDelay:s}}),{skipDelay:s,eventName:void 0}):t(a)?t(n)?{skipDelay:n,eventName:"UsingSkipTimeExtensionValue"}:{skipDelay:a,eventName:void 0}:{skipDelay:0,eventName:void 0}}({vastAd:r});let c,u=l;if(i(l)){const e=qd.getFlagValueAndActivateTestId("VAS_SKIP_DELAY_SHIFT");if(e){const i=Number(e);t(i)&&(u+=i)}}void 0!==d&&Bc.log({name:d}),!0===o.backgroundBlur?c="blur":r.backgroundColor&&(c={color:r.backgroundColor});const h=!1===o.packshotSettings.isEnabled?void 0:da(r);let p;"inpage"!==n&&(p=(e=>uT["preroll"===e?"preroll":"non_preroll"])(n));let m=5e3;p&&i(p.bufferFullTimeout)?m=p.bufferFullTimeout:i(o.bufferFullTimeout)?m=o.bufferFullTimeout:r.serializablePlaybackParameters&&i(r.serializablePlaybackParameters.bufferFullTimeout)?m=r.serializablePlaybackParameters.bufferFullTimeout:"inpage"!==n&&(m=ov.bufferFullTimeout);let A,v,_=5;p&&i(p.bufferEmptyLimit)?_=p.bufferEmptyLimit:i(o.bufferEmptyLimit)?_=o.bufferEmptyLimit:r.serializablePlaybackParameters&&i(r.serializablePlaybackParameters.bufferEmptyLimit)?_=r.serializablePlaybackParameters.bufferEmptyLimit:"inpage"!==n&&(_=ov.bufferEmptyLimit),A=p&&i(p.videoTimeout)?p.videoTimeout:i(o.videoTimeout)?o.videoTimeout:r.serializablePlaybackParameters&&i(r.serializablePlaybackParameters.videoTimeout)?r.serializablePlaybackParameters.videoTimeout:"inpage"===n?$S:ov.videoTimeout,v=p&&i(p.vpaidTimeout)?p.vpaidTimeout:i(o.vpaidTimeout)?o.vpaidTimeout:r.serializablePlaybackParameters&&i(r.serializablePlaybackParameters.vpaidTimeout)?r.serializablePlaybackParameters.vpaidTimeout:"inpage"===n?eT:ov.vpaidTimeout;const g=o.clickThroughUrl||r.clickUrlData.vastClickUrl||r.clickUrlData.tgaOfferClickUrl;let f=u;return!a&&t(o.skipDelayForNonYandexCreatives)&&(f=o.skipDelayForNonYandexCreatives),{controlsSettings:s,background:c,skipDelay:f,bufferFullTimeout:m,bufferEmptyLimit:_,videoTimeout:A,vpaidTimeout:v,clickThroughUrl:g,packshotParameters:h,packshotSettings:o.packshotSettings}}function Va(e){if("error"===e.reason)return e.details}function La(){return La=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},La.apply(this,arguments)}function xa(e){const{packshotSettings:t}=e;if(!o(t))return hT;const{isEnabled:i,disableButton:r,disableOverlay:n,disableTitle:a,showAnimationDuration:s,packshotSlot:l,onPackshotShowCallback:d,onPackshotHideCallback:c}=t;return La({},hT,{isEnabled:!1!==i&&void 0,disableButton:r,disableOverlay:n,disableTitle:a,showAnimationDuration:"number"===typeof s?s:void 0,packshotSlot:l,onPackshotShowCallback:d,onPackshotHideCallback:c})}function Ba(){return Ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ba.apply(this,arguments)}function Ma(e){const{config:i,errors:r}=function(e){const i=[],r=o(e)?e:{};let n,a,s;if(vc(r.backgroundSlot)?n=r.backgroundSlot:void 0!==r.backgroundSlot&&i.push(new Sc({code:"BACKGROUND_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),void 0!==r.skipDelayForNonYandexCreatives&&(t(r.skipDelayForNonYandexCreatives)&&r.skipDelayForNonYandexCreatives>=0?a=r.skipDelayForNonYandexCreatives:i.push(new Sc({code:"INCORRECT_SKIP_DELAY_FOR_NON_YANDEX_CREATIVES_FORMAT",details:{value:r.skipDelayForNonYandexCreatives,stringValue:String(r.skipDelayForNonYandexCreatives),type:typeof r.skipDelayForNonYandexCreatives}}))),o(r.adSequence)&&Ct(r.adSequence.index)&&Ct(r.adSequence.count)){const{index:e,count:t}=r.adSequence;s={index:e,count:t}}return{config:{backgroundSlot:n,clickThroughCallback:L(r.clickThroughCallback)?r.clickThroughCallback:void 0,clickThroughConfirmation:"boolean"===typeof r.clickThroughConfirmation?r.clickThroughConfirmation:void 0,renderSkin:L(r.renderSkin)?r.renderSkin:void 0,visibilitySlot:vc(r.visibilitySlot)?r.visibilitySlot:void 0,retainLastMediaAfterPlayback:"boolean"===typeof r.retainLastMediaAfterPlayback?r.retainLastMediaAfterPlayback:void 0,enableInfinityPackshot:"boolean"===typeof r.enableInfinityPackshot?r.enableInfinityPackshot:void 0,skipDelayForNonYandexCreatives:a,disableSurveyCompleteScreen:"boolean"===typeof r.disableSurveyCompleteScreen?r.disableSurveyCompleteScreen:void 0,disableSurveyStartTimeout:"boolean"===typeof r.disableSurveyStartTimeout?r.disableSurveyStartTimeout:void 0,adSequence:s,enableNewSkin:!0===(null==r?void 0:r.enableNewSkin),requestFullscreenStateChange:L(r.requestFullscreenStateChange)?r.requestFullscreenStateChange:void 0,packshotSettings:xa(r)},errors:i}}(e),{config:n,errors:a}=gt(e);return{config:Ba({},i,n),errors:[...r,...a]}}function Ua(e){const t=Oo(e).toLowerCase();return/ipad|iphone|ipod/.test(t)&&!Boolean(e.MSStream)&&!(e=>e.navigator.userAgent.indexOf("UCBrowser")>-1)(e)}function Fa(e){if(Ua(e)&&Boolean(e.navigator)){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}function Ha(e){const t=document.createElement("textarea"),i=window.pageYOffset||document.documentElement.scrollTop;t.style.fontSize="12pt",t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",t.style.top=i+"px",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);try{document.execCommand("copy")}catch(o){}document.body.removeChild(t)}function za(e,t){const i={};return De(t).forEach((t=>{i[t]=e.getAttribute(t)})),Re(e,t),te((()=>{Re(e,i)}))}function ja(e,t,i){const o=i.split(".");let r=e;for(let a=0;a<o.length-1;a++)r=r[o[a]];const n=o[o.length-1];if(void 0===r[n])r[n]=t;else if("object"===typeof r[n])for(const a in t)t.hasOwnProperty(a)&&ja(e,t[a],i+"."+a)}function Ya(e,t,i){e[i]||(e[i]={}),ja(e,t,i)}function Wa(e){var t,i;const o=e;return null!=(t=o.ya)&&null!=(i=t.videoAd)&&i.debugParameters||Ya(o,{videoAd:{debugParameters:{}}},"ya"),o.ya.videoAd.debugParameters}function Ga(e,t){void 0===t&&(t=window);let i=W;const o=t=>{"pagehide"===t.type&&t.persisted||(e(t),i())},r=Nc(yT,(e=>Ie({element:t,eventName:e,listener:o})));return i=a((()=>{Y(r)})),i}function Xa(e){return TT.test(e)}function Ka(e){const t=e.match(TT);if(null===t)throw new Error("Timestamp parse error");return 3600*parseFloat(t[1]||"0")+60*parseFloat(t[2])+parseFloat(t[3])}function qa(e){return-1!==e.indexOf("--\x3e")}function Qa(e,t){const{paused:i}=e,o=t();return i||sa(e.play()),o}function Ja(){return Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ja.apply(this,arguments)}function Za(e){return e.muted?0:e.volume}function $a(e,t,i){if(!e)return VT;const o=RT(e.controlsVisibility),r=Boolean(t.abuseUrl);return{isCloseAvailable:o&&r,isCloseDialogActive:"selection"===i}}function es(e,t){if(void 0!==e)return!!LT[e]&&Boolean(t)}function ts(){return ts=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ts.apply(this,arguments)}function is(e){const t=HT(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),"allowed"):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),"muted"):(t(),"restricted"))}function os(e){let{adParametersObject:t}=e;const i=Rt(t);if(!i)return;const{showTitleAndBody:o}=i;return"boolean"===typeof o?o:void 0}function rs(e,t){if(KT)return!1;const{left:i,right:o,top:r,bottom:n}=du(e),a=o-i,s=n-r,l=e.ownerDocument!==document;let d;if(l){const t=Array.prototype.slice.call(document.getElementsByTagName("iframe"),0);d=Cd(t,(t=>t.contentWindow===e.ownerDocument.defaultView))}return!Hc(t,(t=>{let[o,n]=t,c=i+(a-1)*(1+o)/2,u=r+(s-1)*(1+n)/2;if(d){const{left:e,top:t}=du(d);c+=e,u+=t}const h=document.elementFromPoint(c,u);if(!h||e===h||e.contains(h))return!0;if(l&&"IFRAME"===h.tagName&&h.contentWindow&&h.contentWindow.document.body.contains(e))return!0;if(L(e.getRootNode)){if(ns(h,e))return!0;if(as(h,e))return!0}return!1}))}function ns(e,t){const i=e.getRootNode();return!!Boolean(null==i?void 0:i.host)&&(!!t.contains(i.host)||ns(i.host,t))}function as(e,t){const i=t.getRootNode();return!!Boolean(null==i?void 0:i.host)&&(e===i.host||as(e,i.host))}function ss(){return ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ss.apply(this,arguments)}function ls(){return ls=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ls.apply(this,arguments)}function ds(e){return ql(e,((e,t)=>e+t.getDuration()),0)}function cs(e){var t,i,o,r,n,a;const s=e.ownerDocument,l=s.defaultView,d=s.documentElement,c=e.getBoundingClientRect();return{winWidth:ZT?Math.max(d.clientWidth,null!=(t=null==l?void 0:l.innerWidth)?t:0):null!=(i=null!=(o=null==l?void 0:l.innerWidth)?o:d.clientWidth)?i:s.body.clientWidth,winHeight:ZT?Math.max(d.clientHeight,null!=(r=null==l?void 0:l.innerHeight)?r:0):null!=(n=null!=(a=null==l?void 0:l.innerHeight)?a:d.clientHeight)?n:s.body.clientHeight,left:c.left,top:c.top,width:c.width,height:c.height}}function us(e){let{width:t,height:i,top:o,left:r,winWidth:n,winHeight:a}=e;const s=r+t,l=o+i,d=Co(r,0,n),c=Co(o,0,a);return{winWidth:n,winHeight:a,left:d,top:c,width:Co(s,d,n)-d,height:Co(l,c,a)-c}}function hs(e,t){return e.width*e.height/(t.width*t.height)}function ps(){return ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ps.apply(this,arguments)}function ms(){return ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ms.apply(this,arguments)}function As(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"6",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"m1 1 3.5 4L1 9",stroke:"#498BFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function vs(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"M4 1h5v5M9 1 1.5 8.5",stroke:"#C6CFD8","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function _s(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m11.598 5 2.743 4.75c.68 1.177 1.13 1.96 1.41 2.567.283.614.268.799.266.814a1.25 1.25 0 0 1-.508.88c-.012.009-.165.115-.839.176-.664.061-1.568.063-2.927.063H6.258c-1.36 0-2.263-.002-2.928-.063-.673-.061-.826-.167-.838-.176a1.25 1.25 0 0 1-.508-.88c-.002-.015-.017-.2.266-.814.28-.607.73-1.39 1.41-2.567L6.402 5c.68-1.177 1.133-1.959 1.518-2.504.39-.552.558-.632.572-.638a1.25 1.25 0 0 1 1.017 0c.013.006.181.086.571.638.386.545.839 1.327 1.518 2.504zm-6.64-.833C6.286 1.869 6.949.72 7.815.335a2.917 2.917 0 0 1 2.373 0c.865.386 1.529 1.534 2.855 3.832l2.742 4.75c1.326 2.297 1.99 3.445 1.89 4.388a2.917 2.917 0 0 1-1.186 2.055c-.766.557-2.093.557-4.745.557H6.258c-2.653 0-3.979 0-4.746-.557a2.917 2.917 0 0 1-1.186-2.055c-.099-.943.564-2.091 1.89-4.388l2.743-4.75zM8.995 10.5c-.578 0-1.035.433-1.035 1.036 0 .602.457 1.047 1.035 1.047.59 0 1.048-.445 1.048-1.047 0-.603-.458-1.036-1.048-1.036zM8.02 5.1a.417.417 0 0 1 .417-.434h1.129c.237 0 .427.197.416.434l-.255 4.167a.417.417 0 0 1-.416.399h-.62a.417.417 0 0 1-.415-.399L8.02 5.1z",fill:"#498BFF"},[])])}function gs(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"M16.256 15.256a.833.833 0 0 0 0-1.179L2.923.744a.833.833 0 1 0-1.179 1.179l1.594 1.593C1.32 4.948.25 6.902.25 8c0 1.875 3.125 6.25 8.75 6.25a9.83 9.83 0 0 0 4.171-.9l1.906 1.906a.833.833 0 0 0 1.179 0zm-4.357-3.178A8.309 8.309 0 0 1 9 12.583c-2.135 0-3.974-.745-5.373-1.997-1.06-.948-1.71-2.1-1.71-2.586 0-.486.65-1.638 1.71-2.586.285-.255.588-.489.909-.7l1.448 1.448A3.333 3.333 0 0 0 10.42 10.6l1.478 1.479zm4.035-.68C17.125 10.175 17.75 8.838 17.75 8c0-1.875-3.125-6.25-8.75-6.25-.87 0-1.679.104-2.426.288l1.433 1.434c.324-.037.655-.055.993-.055 2.135 0 3.974.746 5.373 1.997 1.06.948 1.71 2.1 1.71 2.586 0 .425-.497 1.358-1.329 2.219l1.18 1.179z",fill:"#498BFF"},[])])}function fs(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"18",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0zm-8.538 5.504c-1.025 0-1.362-.628-1.362-1.21 0-.244.077-.611.138-.825l1.07-4.612h-1.253a.25.25 0 0 1-.243-.307l.076-.325a.35.35 0 0 1 .28-.265l2.838-.5a.5.5 0 0 1 .573.608L12.14 16.05a.189.189 0 0 0 .33.164l1.165-1.425a.322.322 0 0 1 .514.386l-.7 1.013c-.734 1.07-1.407 1.316-1.988 1.316zm.338-9.862c0 .505.398.933 1.102.933.688 0 1.193-.382 1.346-.994.03-.123.046-.26.046-.368 0-.505-.398-.933-1.102-.933-.673 0-1.193.382-1.346.994-.03.123-.046.26-.046.368z",fill:"#498BFF"},[])])}function ys(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"18",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"M7.36 15.5H9.97V.5H6.173C2.353.5.345 2.464.345 5.356c0 2.31 1.101 3.67 3.065 5.072L0 15.5h2.827l3.799-5.676-1.317-.885c-1.597-1.08-2.374-1.921-2.374-3.734 0-1.597 1.123-2.676 3.26-2.676H7.36V15.5Z",fill:"#498BFF"},[])])}function Ss(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("g",{"clip-path":"url(#svg-bug-icon-jsx-inline-1RCLVi9)"},[zr("path",{d:"M19.118 10.272h-2.353V6.971l1.47-1.44a.747.747 0 0 0 0-1.16.83.83 0 0 0-1.213 0l-1.507 1.406h-.478c0-2.635-2.243-4.777-5-4.777-2.794 0-5 2.142-5 4.777h-.588L2.94 4.372a.83.83 0 0 0-1.213 0 .747.747 0 0 0 0 1.159l1.507 1.44v3.301H.882c-.514 0-.882.386-.882.843 0 .492.368.843.882.843h2.353v.843c0 1.054.258 2.002.772 2.845l-1.985 1.931a.747.747 0 0 0 0 1.16.83.83 0 0 0 1.213 0l1.875-1.792c1.066.949 2.464 1.476 4.008 1.476h1.764c1.508 0 2.905-.527 3.97-1.476l1.876 1.791a.83.83 0 0 0 1.213 0 .747.747 0 0 0 0-1.159l-1.985-1.931a5.378 5.378 0 0 0 .809-2.845v-.843h2.353c.478 0 .882-.351.882-.843 0-.457-.404-.843-.882-.843Zm-9.081-7.586c1.764 0 3.235 1.405 3.235 3.09h-6.47c0-1.685 1.433-3.09 3.235-3.09Zm.845 14.049v-6.603c0-.211-.22-.422-.44-.422h-.883a.437.437 0 0 0-.441.422v6.603C6.838 16.735 5 14.979 5 12.8V7.462h10v5.339c0 2.178-1.875 3.934-4.118 3.934Z",fill:"#498BFF"},[])]),zr("defs",{},[zr("clipPath",{id:"svg-bug-icon-jsx-inline-1RCLVi9"},[zr("path",{fill:"#fff",d:"M0 0h20v20H0z"},[])])])])}function Ts(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"M9.117 7.349a2.5 2.5 0 0 0 0 3.535.833.833 0 1 1-1.179 1.179 4.167 4.167 0 0 1 0-5.893l2.946-2.946a4.167 4.167 0 1 1 5.893 5.892l-.91.911a.833.833 0 1 1-1.18-1.178l.911-.911a2.5 2.5 0 0 0-3.535-3.536L9.117 7.35Zm1.767 5.302a2.5 2.5 0 0 0 0-3.535.833.833 0 1 1 1.178-1.179 4.167 4.167 0 0 1 0 5.892l-2.916 2.917a4.167 4.167 0 0 1-5.893-5.892l.855-.855a.833.833 0 1 1 1.178 1.179l-.854.854a2.5 2.5 0 0 0 3.535 3.536l2.917-2.917Z",fill:"#498BFF"},[])])}function Es(){return Es=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Es.apply(this,arguments)}function bs(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"M3.345 4.167h11.368c.435 0 .787.37.787.833 0 .46-.35.833-.787.833H3.345l1.91 1.911a.833.833 0 1 1-1.178 1.179L.744 5.589a.833.833 0 0 1 0-1.178l3.333-3.334a.833.833 0 1 1 1.179 1.179l-1.91 1.91Z",fill:"#498BFF"},[])])}function Cs(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{fill:"#FC0",d:"M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"},[])])}function Ps(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"M30 60c16.569 0 30-13.431 30-30C60 13.431 46.569 0 30 0 13.431 0 0 13.431 0 30c0 16.569 13.431 30 30 30Z",fill:"#000","fill-opacity":".65"},[]),zr("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 0 0-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 0 0 .713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 0 0 0-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174Z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])}function ws(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({version:"1.1"},t),[zr("path",{d:"M13 14a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V14zm9 0a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V14z"},[])])}function Os(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({version:"1.1"},t),[zr("path",{d:"M13.53 12.956a1 1 0 0 0-1.53.848v16.392a1 1 0 0 0 1.53.848l13.113-8.196a1 1 0 0 0 0-1.696L13.53 12.956z"},[])])}function Is(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({version:"1.1"},t),[zr("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3z"},[])])}function ks(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({version:"1.1"},t),[zr("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3zm13.267 3.3a6.981 6.981 0 0 0-1.773-4.645L22 18.984a4.99 4.99 0 0 1 1.267 3.317c0 1.22-.45 2.399-1.267 3.318l1.494 1.329a6.982 6.982 0 0 0 1.773-4.647z"},[])])}function Ns(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({version:"1.1"},t),[zr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M27.707 30.707a1 1 0 0 0 0-1.414l-16-16a1 1 0 0 0-1.414 1.414L14.586 19H12a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283v-4.62l6.293 6.293a1 1 0 0 0 1.414 0zm.232-3.182-1.49-1.49a8.941 8.941 0 0 0 .818-3.734c0-2.197-.81-4.318-2.28-5.972L26.48 15a10.949 10.949 0 0 1 1.46 12.525zm-4.7-4.7 1.673 1.673a6.981 6.981 0 0 0-1.418-6.843L22 18.984a4.99 4.99 0 0 1 1.24 3.841zM20 14.965v4.62l-2.793-2.792 2.11-2.11a.4.4 0 0 1 .683.283z"},[])])}function Ds(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({version:"1.1"},t),[zr("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3zm17.267 3.301c0-2.687-.99-5.28-2.787-7.301l-1.494 1.329a8.982 8.982 0 0 1 2.281 5.972 8.98 8.98 0 0 1-2.28 5.972l1.493 1.33a10.983 10.983 0 0 0 2.787-7.302z"},[]),zr("path",{d:"M25.267 22.3a6.981 6.981 0 0 0-1.773-4.645L22 18.984a4.99 4.99 0 0 1 1.267 3.317c0 1.22-.45 2.399-1.267 3.318l1.494 1.329a6.982 6.982 0 0 0 1.773-4.647z"},[])])}function Rs(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 19 19",version:"1.1"},t),[zr("path",{d:"M15 15a1 1 0 1 1 2 0v1.077c0 .76-.082 1.185-.318 1.627a2.364 2.364 0 0 1-.978.977c-.442.237-.866.319-1.627.319H2.923c-.76 0-1.185-.082-1.627-.319a2.363 2.363 0 0 1-.977-.977C.082 17.262 0 16.838 0 16.077V4.5A2.5 2.5 0 0 1 2.501 2l1.501.005a1 1 0 0 1-.006 2L2.5 4a.5.5 0 0 0-.5.5v11.577c0 .459.022.57.082.684.038.07.087.12.157.157.113.06.225.082.684.082h11.154c.459 0 .571-.022.684-.082a.363.363 0 0 0 .157-.157c.06-.113.082-.225.082-.684V15zm4-4a1 1 0 1 1-2 0 9 9 0 0 0-9-9 1 1 0 0 1 0-2c6.075 0 11 4.925 11 11zm-4 0a1 1 0 1 1-2 0 5 5 0 0 0-5-5 1 1 0 0 1 0-2 7 7 0 0 1 7 7zm-4 0a1 1 0 1 1-2 0 1 1 0 0 0-1-1 1 1 0 0 1 0-2 3 3 0 0 1 3 3z",fill:"#fff","fill-opacity":".85"},[])])}function Vs(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",style:"fill:#fff"},t),[zr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 9a9 9 0 1 0 18 0A9 9 0 0 0 0 9zm16 0A7 7 0 1 1 2 9a7 7 0 0 1 14 0zM5.825 6.858c0-1.863 1.54-2.997 3.483-2.997 1.917 0 3.348 1.134 3.348 2.808v.054c0 1.593-1.026 2.241-1.984 2.66l-.243.108c-.324.148-.432.324-.432.715a.351.351 0 0 1-.351.351H8.7a.486.486 0 0 1-.486-.486c0-.918.324-1.498 1.174-1.877l.243-.108c.81-.364 1.242-.661 1.242-1.336 0-.729-.62-1.215-1.566-1.215-.972 0-1.7.486-1.7 1.404a.324.324 0 0 1-.325.324H6.23a.405.405 0 0 1-.405-.405zm3.28 4.266c-.728 0-1.282.526-1.282 1.282s.554 1.283 1.283 1.283c.729 0 1.282-.527 1.282-1.283 0-.756-.553-1.282-1.282-1.282z",fill:"#fff"},[])])}function Ls(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"40",height:"44",version:"1.1",style:"fill:#fff"},t),[zr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m13.636 15.636.001-.001.001.001.437-.437a.575.575 0 0 1 .786-.025l1.049.92a1.67 1.67 0 0 0 2.318-.051c.286-.288.468-.679.485-1.112h.003l.091-1.392a.575.575 0 0 1 .574-.538H20V13v.001h.619c.303 0 .554.235.574.538l.09 1.392h.005c.017.435.201.828.49 1.116a1.666 1.666 0 0 0 2.33.03l1.031-.904a.575.575 0 0 1 .786.026l.437.437.002-.002v.004l.436.437a.575.575 0 0 1 .026.785l-.919 1.05a1.665 1.665 0 0 0-.442 1.133 1.669 1.669 0 0 0 1.604 1.67v.003l1.393.092c.302.02.537.27.537.573V22H29v.002h-.002v.617a.575.575 0 0 1-.537.574l-1.392.093v.001a1.666 1.666 0 0 0-1.116.49c-.302.302-.488.72-.488 1.18 0 .438.168.836.443 1.134l-.002.001.92 1.05c.2.227.189.57-.026.785l-.437.437v.002l-.438.436a.575.575 0 0 1-.785.026l-1.01-.884a1.666 1.666 0 0 0-1.173-.48 1.669 1.669 0 0 0-1.67 1.607h-.004l-.091 1.392a.575.575 0 0 1-.544.537h-1.297a.575.575 0 0 1-.543-.537l-.092-1.392h-.003a1.666 1.666 0 0 0-.49-1.12 1.666 1.666 0 0 0-1.18-.487c-.454 0-.866.181-1.167.475l-1.016.89a.575.575 0 0 1-.785-.027l-.437-.437h-.002v-.001l-.437-.437a.575.575 0 0 1-.025-.786l.92-1.049h-.002a1.669 1.669 0 0 0-.049-2.32 1.666 1.666 0 0 0-1.112-.485v-.001l-1.393-.093A.575.575 0 0 1 11 22.62V22h.001v-.619c0-.303.235-.553.538-.573l1.392-.092v-.003a1.666 1.666 0 0 0 1.605-1.67c0-.441-.171-.842-.45-1.141l-.912-1.042a.575.575 0 0 1 .026-.785l.437-.438h-.001zM23.375 22a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0z"},[])])}function xs(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"40",height:"44",version:"1.1",style:"fill:#fff"},t),[zr("path",{d:"M14 23a1 1 0 1 0-2 0v7h7a1 1 0 1 0 0-2h-5v-5zm6-9a1 1 0 1 0 0 2h6v5a1 1 0 1 0 2 0v-7h-8z"},[])])}function Bs(e){let{playingState:t,volumeStatus:i,controlsVisibility:o}=e;return"idle"!==t&&"unknown"!==i&&!1!==o.mute}function Ms(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"M.797 11.793 5.587 7 .796 2.207A1 1 0 0 1 2.21.793l5.497 5.5a1 1 0 0 1 0 1.414l-5.497 5.5a1 1 0 0 1-1.414-1.414Z",fill:"#fff"},[])])}function Us(){const{isAbuseSubmitted:e}=uE(),t=ty(),{shouldShowSkipButton:i}=EC(),o=ug(),r=o.height>o.width,{themeEmptyParameters:n}=Tf(),a=Nf(),{isPackshotPlaying:s}=AE(),{timeToSkip:l}=Mf(),d=yC(),{ecomShopState:c}=gC(),{shouldUseNewSkin:u}=oE(),h=Jg(),p=Iy();if(e)return{isActionButtonVisible:!1,isSkipButtonVisible:!1,shouldUseTwoLinesLayout:!1,isExperimentLiftButtonsUp:!1,fontSize:"",skipButtonFontSize:"",skinSize:t,disclaimerInfo:void 0,isEcomShopVisible:!1,shouldUseSmallCta:!1,isVerticalFormat:r,ecomShop:void 0,shouldHideSurveyHeaderBackground:s};const m="videoInCombo"===d,A=!1!==a.actionButton&&void 0!==n&&!s,v=!1!==a.skip&&!m&&i,_=v&&l!==Lf,g=v&&o.width<750||"small"===t,f=u&&"TRUE"===qd.getFlagValueAndActivateTestId("VAS_LIFT_BUTTONS_UP_IN_NEW_SKIN")||"PLAYER_LIKE_SKIN"===qd.getFlagValueAndActivateTestId("VAS_NEW_SKIN_VARIANT"),y=o.width<$f||o.height<300,S=.28*Wn(o)+"px";return{isActionButtonVisible:A,isSkipButtonVisible:_,isExperimentLiftButtonsUp:f,skinSize:t,shouldUseTwoLinesLayout:g,fontSize:y?"0.8em":Gn(o)+"px",skipButtonFontSize:S,disclaimerInfo:!1===a.disclaimers?void 0:Jn(p,h),isEcomShopVisible:c.isVisible&&!s,shouldUseSmallCta:y,isVerticalFormat:r,ecomShop:c.ecomShop,shouldHideSurveyHeaderBackground:s}}function Fs(){return Fs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Fs.apply(this,arguments)}function Hs(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"24",height:"10",viewBox:"0 0 24 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"M0 8c6 0 9-8 12-8s6 8 12 8v1.5H0V8Z",fill:"#2F2F32"},[])])}function zs(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 16.003a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm2.404-11.82A1 1 0 1 1 11.818 5.6L9.414 8.003l2.404 2.404a1 1 0 0 1-1.414 1.414L8 9.417 5.596 11.82a1 1 0 0 1-1.414-1.414l2.404-2.404-2.404-2.404a1 1 0 0 1 1.414-1.415L8 6.59l2.404-2.405v-.001Z",fill:"#fff","fill-opacity":".25"},[])])}function js(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.263 4.06c2.08 2.159 3.227 4.929 3.227 7.8 0 2.871-1.146 5.641-3.227 7.8l-1.73-1.42c1.703-1.768 2.641-4.032 2.641-6.38 0-2.347-.938-4.613-2.641-6.38l1.73-1.42ZM7.61 9.26l3.964-3.9h1.33v13h-1.33l-3.97-3.9H3.64v-5.2h3.97Zm11.248 2.6a7.666 7.666 0 0 0-2.053-5.2l-1.73 1.487a5.48 5.48 0 0 1 1.467 3.712 5.48 5.48 0 0 1-1.467 3.714l1.73 1.487a7.667 7.667 0 0 0 2.053-5.2Z",fill:"#F2F2F2"},[])])}function Ys(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.61 4 2.5 5.328 7.145 9.24H3.637v5.201h3.966l3.973 3.901h1.33v-4.25L19.92 20s.3-.292.62-.64c.242-.271.582-.697.582-.697L3.61 4Zm12.907 8.412 2.002 1.686a7.556 7.556 0 0 0 .346-2.258 7.666 7.666 0 0 0-2.054-5.2l-1.732 1.487a5.48 5.48 0 0 1 1.469 3.713c0 .192-.01.383-.031.572Zm3.817 3.215 1.79 1.508A10.962 10.962 0 0 0 23.5 11.84c0-2.871-1.147-5.642-3.23-7.801l-1.73 1.42c1.704 1.767 2.643 4.034 2.643 6.381a8.918 8.918 0 0 1-.85 3.787ZM9.98 6.907l2.925 2.464V5.339h-1.33L9.981 6.907Z",fill:"#F2F2F2"},[])])}function Ws(){return Ws=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ws.apply(this,arguments)}function Gs(e){const{controlsVisibility:t,playingState:i}=e;return!1!==t.play&&("play"!==i||!1!==t.pause)}function Xs(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"M12.3 2.789v-.324l-1.15.315A6.259 6.259 0 0 1 9.5 3c-.6 0-1-.448-1-1.001a1 1 0 0 1 1-1H14a1 1 0 0 1 1 1v4.505a1 1 0 0 1-1 1c-.552 0-1-.403-1-1 0-.56.075-1.117.222-1.656l.313-1.147h-.32l-1.078 1.437a10 10 0 0 1-.93 1.072l-1.003 1.002A1 1 0 1 1 8.79 5.799l1.004-1.004c.332-.332.688-.641 1.064-.923L12.3 2.789ZM3.7 13.207v.323l1.15-.314a6.259 6.259 0 0 1 1.65-.221c.6 0 1 .447 1 1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V9.492a1 1 0 0 1 1-1c.552 0 1 .403 1 1 0 .56-.075 1.116-.222 1.656l-.313 1.147h.32l1.078-1.437c.285-.379.595-.737.93-1.072l1.003-1.002a1 1 0 0 1 1.414 1.414l-1.004 1.004a9.994 9.994 0 0 1-1.064.923L3.7 13.207Z"},[])])}function Ks(e){e.styles;var t=Object.assign({},e);return delete t.styles,zr("svg",Object.assign({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),[zr("path",{d:"M4.3 10.789v-.324l-1.15.315A6.259 6.259 0 0 1 1.5 11c-.6 0-1-.448-1-1.001a1 1 0 0 1 1-1H6a1 1 0 0 1 1 1v4.505a1 1 0 0 1-1 1c-.552 0-1-.403-1-1 0-.56.074-1.117.222-1.656l.313-1.147h-.32l-1.079 1.437c-.284.379-.595.737-.93 1.072l-1.002 1.002A1 1 0 1 1 .79 13.799l1.004-1.004a9.994 9.994 0 0 1 1.064-.923L4.3 10.789Zm7.4-5.582v.323l1.15-.314a6.257 6.257 0 0 1 1.65-.221c.6 0 1 .447 1 1a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V1.492a1 1 0 0 1 1-1c.552 0 1 .403 1 1 0 .56-.075 1.116-.222 1.656l-.314 1.147h.322l1.077-1.437c.285-.379.595-.737.93-1.072L13.796.783a1 1 0 1 1 1.414 1.414l-1.004 1.004c-.333.332-.688.64-1.064.923L11.7 5.207Z"},[])])}function qs(){return qs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},qs.apply(this,arguments)}function Qs(e){const t=Nc(e.children,(e=>Qs(e)));return{xmlString:e.xmlString,children:t}}function Js(e){const t={};for(const i in e)d(e,i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function Zs(e,t){if("string"!==typeof e)return;if(!o(t))return;const i=e.toLowerCase();return Yt(t).indexOf(i)>-1?i:void 0}function $s(e,t){const i=t.querySelector('Extension[type="'+e+'"]');return i?st(i):void 0}function el(e,t){return"true"===$s(e,t)}function tl(){return tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},tl.apply(this,arguments)}function il(){return il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},il.apply(this,arguments)}function ol(e,t,i){var r;const n=[],a=i.querySelector("AdSource");if(!a)throw new Sc({code:"VMAP_AD_BREAK_WITHOUT_AD_SOURCE",details:t});let s=0;if(a.hasAttribute("id")){if(s=Number(a.getAttribute("id")),!Vt(s))throw new Sc({code:"INVALID_AD_BREAK_IMP_ID_ATTRIBUTE",details:t})}else n.push(new Sc({code:"NO_AD_BREAK_IMP_ID_ATTRIBUTE",details:t}));const l=i.querySelector("Extensions");if(!l)throw new Sc({code:"NO_AD_BREAK_EXTENSIONS",details:t});const d=a.querySelector("VASTAdData"),c=null!=(r=null==d?void 0:d.querySelector("VAST"))?r:void 0,u=c?(e=>(new XMLSerializer).serializeToString(e))(c):void 0,h=a.querySelector("AdTagURI"),p=st(h);if(!h||!p)throw new Sc({code:"VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",details:t});const m={adTagURI:p,adFoxParameters:void 0,inlineVast:u},A=i.getAttribute("breakType"),v=at(i,"breakId"),_=at(i,"timeOffset","start"),g=()=>new Sc({code:"VMAP_INCORRECT_TIME_OFFSET",details:il({},t,{timeOffset:_,breakIdAttribute:v})});if(-1===Tw.indexOf(v))throw new Sc({code:"VMAP_UNSUPPORTED_AD_BREAK_TYPE",details:il({},t,{breakIdAttribute:v})});const f=function(e,t){switch(e){case"linear,nonlinear":return[new Sc({code:"LINEAR_AND_NON_LINEAR_ALLOWED_IN_AD_BREAK",details:t})];case"linear":return[];case"nonlinear":return[new Sc({code:"NON_LINEAR_AD_BREAK_IN_NOT_SUPPORTED",details:t})];default:throw new Sc({code:"INVALID_BREAK_TYPE_ATTRIBUTE",details:t})}}(A,t);let y;if(n.push(...f),"inpage"===v)y=function(e){const t=$s("Stick",e),i=function(e){if(!o(e))return{};const{stickTo:t,stickyColorScheme:i}=e;return Js({stickTo:Zs(t,bw),stickyColorScheme:Zs(i,Ew)})}({stickTo:$s("StickTo",e),stickyColorScheme:$s("ColorScheme",e)});return tl({stick:"true"===t,adType:"inpage",replayMode:Cw(e)},i)}(l);else if("inroll"===v)y={adType:"inroll"};else if("postPauseroll"===v)y={adType:"postPauseroll"};else if("start"===_){if(Sw[_]!==v)throw g();y={adType:"preroll"}}else if("end"===_){if(Sw[_]!==v)throw g();y={adType:"postroll"}}else{if(!/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(_))throw g();{if("midroll"!==v)throw g();const e=function(e,t){return Number($s("MaxRepeatCount",t))}(0,l),t=Et(at(i,"repeatAfter")),o={timeOffset:Et(_),repeatAfter:isNaN(t)?0:t,maxRepeatCount:isNaN(e)?0:e,repeatNumber:0};y=il({adType:"midroll",broadcastReplace:el("BroadcastReplace",l)},o)}}return{adBreak:il({impId:s},y,e,m),errors:n,events:[]}}function rl(){return rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},rl.apply(this,arguments)}function nl(e){let{vmapXmlObject:t,vmapLoadParams:i}=e;const o=[],r=[],n=[],{xml:a,responseText:s}=t,l={responseText:s,vmapLoadParams:i};if(null===a||void 0===a)throw new Sc(i?{code:"VMAP_EMPTY_RESPONSE",details:rl({},i,{vmapXmlObject:t})}:{code:"VMAP_IS_EMPTY",details:{vmapXmlObject:t}});const d=a.querySelector("VMAP");if(!d)throw new Sc({code:"NO_VMAP_ROOT_NODE",details:l});const c=d.querySelectorAll("AdBreak");null!==c&&0!==c.length||r.push({name:"NoVmapAdBreaks",data:l});const u=new yw,h=a.querySelector("VMAP > Extensions");if(!h)throw new Sc({code:"NO_VMAP_EXTENSIONS",details:l});W(d.querySelectorAll("TrackingEvents"));const p=e=>{const t=h.querySelector('Extension[type="'+e+'"]');return t?st(t):""};u.isSingleVideoSession="true"===p("SingleVideoSession"),u.isUniformat="true"===d.getAttribute("ya-uniformat");const m={sessionId:p("SessionID")};for(let v=0;v<c.length;v++)try{const{adBreak:e,errors:t,events:i}=ol(m,l,c[v]);u.adBreaks.push(e),o.push(...t),r.push(...i)}catch(A){o.push(A)}return n.push({name:"CreateVmapFromXMLString",data:{vmap:s},sensors:{uniformat:u.isUniformat}}),{vmap:u,errors:o,events:r,valuesEvents:n}}function al(){return al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},al.apply(this,arguments)}function sl(){return sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},sl.apply(this,arguments)}function ll(e){if(!o(e))return{};const{partnerId:t,category:i,vmapId:r,vmapScenarioId:n,impId:a,videoContentId:s,additionalParams:l,vmap:d,hasPreroll:c}=e;if(void 0!==a&&!Vt(a))throw new Sc({code:"INVALID_CONFIG_IMP_ID_VALUE",details:{config:e}});if(void 0!==r&&!Vt(r))throw new Sc({code:"INVALID_CONFIG_VMAP_ID_VALUE",details:{config:e}});if(void 0!==d&&!h(d))throw new Sc({code:"INVALID_CONFIG_INLINE_VMAP_VALUE",details:{config:e}});if(void 0!==c&&"boolean"!==typeof c)throw new Sc({code:"INVALID_CONFIG_HAS_PREROLL_VALUE",details:{config:e}});if(void 0!==n&&!Vt(n))throw new Sc({code:"INVALID_CONFIG_VMAP_SCENARIO_ID_VALUE",details:{config:e}});return sl({},function(e){const t=o(e)?e:{};return Js({vmapLoadTimeout:void 0===t.vmapLoadTimeout?void 0:Number(t.vmapLoadTimeout)})}(e),{vmap:d,hasPreroll:c,partnerId:void 0===t?void 0:Number(t),category:void 0===i?void 0:Number(i),impId:a,vmapId:r,vmapScenarioId:n,videoContentId:"string"===typeof s?s:void 0,additionalParams:Ui(l)})}function dl(e,t){return h(e)?e:t?void 0:"0"}function cl(){return cl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},cl.apply(this,arguments)}function ul(e,t){if(!o(e))return{};const i=function(e){if(!o(e))return{};const{wrapperMaxCount:t}=e;if(void 0!==t&&!Ct(t))throw new Sc({code:"INVALID_WRAPPER_MAX_COUNT",details:{wrapperMaxCount:t}});const i={wrapperMaxCount:t};if(void 0!==e.adFoxParameters){const t=o(r=e.adFoxParameters)?ei(r)?void 0===r.containerId||h(r.containerId)?s(r.ownerId)?0===r.ownerId.length?"ADFOX_PARAMETERS_OWNER_ID_IS_EMPTY_STRING":void 0:"ADFOX_PARAMETERS_OWNER_ID_IS_NOT_A_STRING":"ADFOX_PARAMETERS_CONTAINER_ID_IS_INVALID":"ADFOX_PARAMETERS_IS_NOT_SERIALIZABLE":"ADFOX_PARAMETERS_IS_NOT_AN_OBJECT";if(t)throw new Sc({code:t,details:{adConfig:e}});i.adFoxParameters=e.adFoxParameters}var r;return i}(e),r=ll(e),n=function(e){if(!o(e))return;let t,i;return t=Array.isArray(e.videoGenreId)?Nc(e.videoGenreId,String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),i=Array.isArray(e.videoGenreName)?Nc(e.videoGenreName,String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:t,videoGenreName:i,musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),musicGenreId:"string"===typeof e.musicGenreId?e.musicGenreId:void 0,musicGenreName:"string"===typeof e.musicGenreName?e.musicGenreName:void 0,tagsList:Array.isArray(e.tagsList)?Nc(e.tagsList,String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}(e),a=function(e){if(!o(e))return;const{metaRequestIndex:t,metaImpIdRequestIndex:i}=e;if(void 0!==t&&!Ct(t))throw new Sc({code:"INVALID_CONFIG_META_REQUEST_INDEX_VALUE",details:{config:e}});if(void 0!==i&&!Ct(i))throw new Sc({code:"INVALID_CONFIG_META_IMP_ID_REQUEST_INDEX_VALUE",details:{config:e}});return{metaRequestIndex:t,metaImpIdRequestIndex:i}}(e),l=function(e){const t={};return o(e)?(D(["full","creative","limited","domain"],e.omidAccessMode)&&(Bc.log({name:"OmidAccessModeIsSetThroughAdConfig",data:{accessMode:e.omidAccessMode}}),t.omidAccessMode=e.omidAccessMode),t):t}(e);return cl({},i,r,n,a,l,{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),adBreakType:Xo(e.adBreakType)?e.adBreakType:void 0,vast:e.hasOwnProperty("vast")&&h(e.vast)?String(e.vast):void 0,desiredBitrate:mt(e.desiredBitrate),secureMode:kw(e),preferableAdSize:ww(e),loadHarmlessVastCallback:L(e.loadHarmlessVastCallback)?e.loadHarmlessVastCallback:void 0,videoContentId:dl(e.videoContentId,t)})}function hl(e){let t={};try{const i=yd({localStorage:e},Lw);null!==i&&(t=JSON.parse(i))}catch(r){}const o={};return f(t,((e,t)=>{i(e)&&(o[t]=e)})),o}function pl(){return pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},pl.apply(this,arguments)}function ml(e){let{config:t,adPlacementOptions:i,win:o}=e;const{partnerId:r}=t;if(!r)throw new Sc({code:"VMAP_CONFIG_WITHOUT_PARTNER_ID",details:void 0});const n=((e,t)=>{const{category:i,vmapScenarioId:o,hasPreroll:r,targetRef:n}=e,a=function(e){let{vmapId:t,category:i}=e;return t&&i?{"vmap-id":String(t),"video-category-id":String(i)}:t?{"vmap-id":String(t),"video-category-id":void 0}:{"vmap-id":void 0,"video-category-id":String(i)}}(e),s=hm(e);let l;try{l=new xw}catch(p){}let d=0;"number"===typeof i&&l&&(d=l.getWatchedTimeSinceAd({category:i}));const c=y(t),u=t.document.referrer;let h;return h=n||(c===um?u:c),h=Bi(h),pl({},s,a,{[Ju]:Mw(r),[Qu]:void 0===o?void 0:String(o),[Zu]:String(Math.floor(d)),client_type:"html"},"TRUE"===qd.getFlagValueAndActivateTestId("VAS_ENABLE_VAST_IN_VMAP")?{"target-ref":h,"inline-preroll-vast-in-vmap":"1"}:{})})(t,o),a=Xe({url:N(""+Bw+r,n),ignoreAbd:!0,options:i,win:o,preferableAdSize:t.preferableAdSize}),s=Ic(o);return"function"===typeof s?s(N(a,{abd:"1"})):a}function Al(){return Al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Al.apply(this,arguments)}async function vl(){let e;if(1===arguments.length)e=arguments.length<=0?void 0:arguments[0];else{const t=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2],r=ll(t),n=ml({config:r,adPlacementOptions:i,videoSlot:o,win:window}),{vmapLoadTimeout:a}=r;let s=3e3;void 0!==a&&0!==a&&(s=a),e={url:n,vmapLoadParams:{url:n,config:t,timeout:s},timeout:s}}const{url:t,vmapLoadParams:o,timeout:r}=e,n=Date.now();let a;Bc.log({name:"VmapLoadStart",data:o});try{const e=ue(window),i=ye(t),o=!e&&i,n="boolean"===typeof jd.hardcodedParams.adsdkwithcredentials?jd.hardcodedParams.adsdkwithcredentials:o;a=await Ye({url:t,data:null,timeout:r,withCredentials:n})}catch(d){const e=Ku({thrownError:d,errorCode:"VMAP_LOAD_ERROR",errorDetails:o,timeoutCode:"VMAP_LOAD_TIMEOUT",timeoutDetails:o});throw Bc.error({error:e}),e}const{responseStatus:s,responseText:l}=a;if(200!==s){const e=Rw(l);if(i(e))throw new Sc({code:"BAD_PARTNER_OR_DOMAIN_FOR_VMAP_REQUEST",details:Al({},o,{responseStatus:s,disabledPageId:e})});throw new Sc({code:"INVALID_VMAP_RESPONSE_STATUS",details:Al({},o,{responseStatus:s,responseText:a.responseText})})}try{const{vmap:e,events:t,valuesEvents:i,errors:r}=nl({vmapXmlObject:a,vmapLoadParams:o});_e(r),Ol(t,(e=>{Bc.log(Al({},e,{probability:1}))})),Ol(i,(e=>{Bc.log(e)}));const s=Al({},Ue(Nc(Tw,(e=>["adBreak_"+e,!1]))),Ue(Nc(e.adBreaks,(e=>["adBreak_"+e.adType,!0]))));return Bc.log({name:"VmapLoadSuccess",data:o,values:{adBreaksCount:e.adBreaks.length,timeSpent:Date.now()-n},sensors:s}),e}catch(d){throw Bc.errorToStats(d),d}}const _l=-1,gl={droppedVideoFrames:_l,corruptedVideoFrames:_l,totalVideoFrames:_l},fl=r({},gl,{droppedVideoFramesRatio:_l}),yl={width:0,height:0},Sl={visibility:0,size:yl,relativeSizeRatio:0,screenSize:yl,devicePixelRatio:0,downlink:0,videoContentSize:void 0,videoAvatarSize:yl,videoPixelRatio:_l,videoToDevicePixelRatio:_l,videoFramesInfo:fl,videoSrc:"",videoMuted:!0,videoVolume:0,videoCurrentSrc:"",bufferingTime:0,currentTime:0,bufferingTimeRatio:_l,remainingBufferedTime:0,isFullscreen:void 0,adPodId:void 0,productType:void 0};let Tl;try{Tl="751857"}catch(G_){Tl="INVALID_BUILD_VERSION"}const El=Tl,bl={}.toString,Cl=/\[object (\w+)\]/,Pl=e=>{const t=bl.call(e);if(!t)return null;const i=t.match(Cl);if(!i)return null;return i[1]||null},wl=e=>e instanceof Error||"Error"===Pl(e),Ol=(e,t,i)=>{for(let o=0;o<e.length;o++)t.call(i,e[o],o,e)},Il=function(e,t){let i=e.isArray;if(!l(i)){const t=i;try{delete e.isArray;const o=e.isArray;"function"===typeof o&&(i=o),e.isArray=t}catch(G_){}}return i}(Array),kl=Boolean(Il)?e=>Il.call(Array,e):e=>"Array"===Pl(e),Nl=["expFlags"],Dl={testIds:"",flags:{}},Rl=a((()=>{try{return __UAAS_CFG__}catch(e){return e}})),Vl=e=>{if(wl(e))return{error:e,config:Dl};try{const t=o(e)?e:JSON.parse(""+(e||"")),i=(e=>!!o(e)&&!(!("expFlags"in e)||!kl(e.expFlags)))(t)?(e=>{const t=function(e,t){if(null==e)return{};var i,o,r={},n=Object.keys(e);for(o=0;o<n.length;o++)i=n[o],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,Nl),i={},r={};return Ol(e.expFlags,(e=>{Ol(e,(e=>{let{CONTEXT:{FLAGS:t},TESTID:n}=e;o(t)&&Ol(c(t),(e=>{var o;const a=t[e];i[e]=a,r[e]=null!=(o=r[e])?o:[],r[e].push({value:a,testId:n[0]})}))}))})),u({flags:i,flagsMap:r},t)})(t):t;if(!((e,t)=>{if(!o(t))throw new Error("Parsed replaced macro is not an object: "+e);if(function(e){if(void 0!==e){if(!s(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0!==e.length)for(const t of e.split(";")){const i=t.split(",");if(3!==i.length)throw new Error("testIdParts length error ["+e+"]");const[o,,r]=i;if(0===o.trim().length)throw new Error("testId length error ["+e+"]");if(0===r.trim().length)throw new Error("testId bucket length error ["+e+"]")}}}(t.testIds),!("flags"in t)||!o(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0})(String(e),i))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:i}}catch(t){return{error:t,config:Dl}}},Ll=a((e=>Vl(e||Rl()))),xl=!m(Math.random)||Math.random()===Math.random(),Bl=Date&&A(Date.now)?()=>Date.now():()=>(new Date).getTime(),Ml="undefined"===typeof window?void 0:window.performance,Ul=Ml&&A(Ml.now),Fl=Ml&&Ml.timing&&Ml.timing.navigationStart?Ml.timing.navigationStart:Bl();let Hl=0;const zl=Ul?()=>Ml.now():()=>(()=>{const e=Bl()-Fl;return Hl=Math.max(e,Hl),Hl})(),jl=2147483647;let Yl=Date.now()*zl()%jl;const Wl=xl?function(){return Yl=16807*Yl%jl,(Yl-1)/2147483646}:function(){return Math.random()},Gl="VAS",Xl=e=>_(e.substr(-4),4,"0"),Kl=()=>_(Date.now().toString().slice(0,10),10,"0"),ql=function(e,t,i){let o=0;for(arguments.length<3&&(o=1,i=e[0]);o<e.length;o++)i=t(i,e[o],o,e);return i},Ql=e(5335),Jl=(e,t,i)=>{const o=new Array(e.length);for(let r=0;r<e.length;r++)o[r]=t.call(i,e[r],r,e);return o},Zl=["","webkit","moz","o","ms"],$l=["","-webkit-","-ms-","-moz-","-o-"],ed=Jl($l,(e=>"("+e+"any-pointer:coarse)")).join(","),td=Jl($l,(e=>"("+e+"touch-enabled)")).join(","),id=(void 0===od&&(od=window),function(e){void 0===e&&(e=window);const t=function(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(G_){return""}}(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const i=t.replace(/\(.+?\)/gi,"").split(" ").map((e=>e.trim().split("/")[0])).filter((e=>e&&"mobile"!==e));return 4===i.length&&"mozilla"===i[0]&&"applewebkit"===i[1]&&"version"===i[2]&&"safari"===i[3]}(od)||function(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!function(e){return void 0===e&&(e=window),e.navigator.userAgent.indexOf("UCBrowser")>-1}(e)}(od)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&E(e)}(od));var od;const rd=function(e,t){let i=e.isArray;if(!m(i)){const t=i;try{delete e.isArray;const o=e.isArray;"function"===typeof o&&(i=o),e.isArray=t}catch(G_){}}return i}(Array),nd=Boolean(rd)?e=>rd.call(Array,e):e=>"Array"===Pl(e);class ad{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const sd=function(e,t,i){return void 0===t&&(t=e=>e),void 0===i&&(i=new ad({})),function(){const o=t.apply(this,arguments);if(i.has(o))return i.get(o);const r=e.apply(this,arguments);return i.set(o,r),r}},ld=document.createElement("a"),dd=(sd((e=>P({},w(e)))),/^(android-app:|chrome-extension:)/),cd=e=>{try{return decodeURIComponent(e)}catch(G_){return e}},ud=(e,t)=>t.map((t=>e+"[]="+encodeURIComponent(t))).join("&"),hd="aim-banner-id",pd="aim-design-id",md="aim-design-name",Ad="aim-subdesign-id",vd=c({adsdkver:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkabflags:0,adsdkuaas:0,[hd]:0,[pd]:0,[md]:0,[Ad]:0,adsdkhoneypotforced:0,adsdkgrforced:0,vasnetworklogs:0,vasconsolelogs:0,vasdebug:0,vasfulldebug:0,adsdkdebug:0}),_d={Unsafe:0,Safe:0,ForceSafe:0,OnlyYandexCreatives:0},gd=c(_d),fd={adsdkver:e=>h(e)?e:void 0,adsdkecmaver:e=>{const t=null==e?void 0:e.toUpperCase();return"ES2017"===t||"ES5"===t?t:void 0},adsdktracelogs:R,adsdksecuremode:e=>e&&D(gd,e)?e:void 0,adsdkwithcredentials:e=>{const t=e?(""+e).toLowerCase():void 0;return"true"===t||"false"!==t&&void 0},adsdkabflags:V,adsdkuaas:V,[hd]:V,[pd]:V,[md]:V,[Ad]:V,adsdkhoneypotforced:R,adsdkgrforced:R,vasnetworklogs:R,vasconsolelogs:R,vasdebug:R,vasfulldebug:e=>"false"!==e&&Boolean(e),adsdkdebug:R},yd=(e,t)=>{try{return e.localStorage.getItem(t)}catch(i){return null}},Sd=e=>{const t=[];for(;e;)try{if(y(e),t.push(e),e.parent===e)break;e=e.parent}catch(G_){break}return t},Td=new Set(vd),Ed=(H(window),e=>o(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__)),bd=[].find,Cd=l(bd)?(e,t)=>bd.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const o=e[i];if(t(o,i,e))return o}};let Pd=document.currentScript;if(!Pd){const e=z(document.getElementsByTagName("script"));Pd=Cd(e,Ed),Pd||(Pd=e[e.length-1])}const wd=Pd,Od=wd?wd.src:"",Id="AdLoader",kd=j(document.documentElement),{length:Nd}=kd,Dd=Nd>0?kd[Nd-1].ownerDocument.defaultView:window,Rd=W,Vd=W,Ld=W,xd=e=>{let{propertyName:t}=e;return{call:e=>Rd(G({propertyName:t},e)),subscribe:e=>Ld(G({propertyName:t},e)),wait:e=>(e=>{let{propertyName:t}=e;return new Promise((e=>{Ld({callback:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e(i)},propertyName:t})}))})(G({propertyName:t},e)),waitUntil:e=>(e=>{let{propertyName:t,comparator:i}=e;return new Promise((e=>{Ld({propertyName:t,callback:function(){i(...arguments)&&e()}})}))})(G({propertyName:t},e)),clear:e=>Vd(G({propertyName:t},e))}};xd({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME"});const Bd=wd?wd.__AD_SDK_SCRIPT_SESSION_PARAMETERS__:void 0;wd&&delete wd.__AD_SDK_SCRIPT_SESSION_PARAMETERS__;const Md=["a","n.ya","nd","ex.ru"].join(""),Ud=["y","a","nde","x.ru"].join(""),Fd=["ya","sta","tic.net"].join(""),Hd=["ver","ify.y","a","nde","x.ru"].join(""),zd=[Ud,Md,Fd],jd=q(window),Yd=jd.VSID,Wd=(e,t,i)=>{const o=[];for(let r=0;r<e.length;r++){const n=e[r];t.call(i,n,r,e)&&o.push(n)}return o};class Gd{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.on.push(...t),()=>{this.remove(...t)}}addOne(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.once.push(...t),()=>{this.remove(...t)}}promise(){return new Promise((e=>{this.addOne(e)}))}dispatch(e){const{once:t}=this;this.once=[],J(this.on,e),J(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.on=Wd(this.on,(e=>t.indexOf(e)<0)),this.once=Wd(this.once,(e=>t.indexOf(e)<0))}}const Xd=e=>{if(L(Array.from))return Array.from(e);const t=[];for(const i of e.values())t.push(i);return t};class Kd{constructor(e,t){var i=this;this.activeTestIds=[],this.externalActiveTestIds=new Set,this.initialActiveTestIds=[],this.activeFlags=new Set,this.getFlagValueAndActivateTestId=e=>{var t;const i=this.abFlags[e],o=i?null==(t=this.flagToTestIdMap[e])?void 0:t[i]:void 0;if(o)for(const r of o){const t=this.testIdMap.get(r);t&&(this.activateTestId(t),this.activateFlag(e))}return i},this.getActiveTestIds=()=>{return e=[...this.activeTestIds,...Xd(this.externalActiveTestIds)],Wd(e,((e,t,i)=>i.indexOf(e)===t));var e},this.activateExternalTestIds=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];for(const r of t){const[e]=r.split(",");if(!h(e))continue;const t=i.testIdMap.get(e);h(t)&&i.externalActiveTestIds.add(t)}},this.__isFlagActive=e=>this.activeFlags.has(e),this.__setAbFlags=e=>{this.abFlags=e},this.__restoreAbFlags=()=>{this.abFlags=this.initialAbFlags},this.__setActiveTestIds=e=>{this.initialActiveTestIds=this.activeTestIds,this.activeTestIds=e},this.__restoreActiveTestIds=()=>{this.activeTestIds=this.initialActiveTestIds},this.onTestIdActivated=new Gd,this.abFlags=t,this.initialAbFlags=t;const{flagsMap:o,testIds:r}=e;if(this.testIdMap=new Map,h(r))for(const n of r.split(";")){const[e]=n.split(",");this.testIdMap.set(e,n)}this.flagToTestIdMap=(e=>void 0===e?{}:Z(e,(e=>ql(e,((e,t)=>{var i;let{value:o,testId:r}=t;const n=null!=(i=e[o])?i:[];return n.push(r),e[o]=n,e}),{}))))(o)}activateTestId(e){D(this.activeTestIds,e)||(this.activeTestIds.push(e),this.onTestIdActivated.dispatch(e))}activateFlag(e){this.activeFlags.has(e)||this.activeFlags.add(e)}getNumberFlagValueAndActivateTestId(e){const i=this.getFlagValueAndActivateTestId(e),o=Number(i);return t(o)?o:void 0}}const qd=(null==Bd?void 0:Bd.AB_FLAGS_STORE)||function(){const e=new Kd(jd.VAS_UAAS_CONFIG,jd.AB_FLAGS);e.getFlagValueAndActivateTestId("ADSDKVER");const t=null==Bd?void 0:Bd.ActiveTestIds;return t&&e.activateExternalTestIds(...t),e}(),Qd={version:El,vsid:Yd,rnd:jd.VAS_USER_SESSION_RANDOM,AdditionalStatsRootFields:jd.AdditionalStatsRootFields,AB_FLAGS:jd.AB_FLAGS,AB_FLAGS_STORE:qd,iCookie:jd.ICOOKIE,testIds:jd.TEST_IDS},Jd=Boolean(window.location.ancestorOrigins),Zd=$(window),$d=b(document.documentElement),{length:ec}=$d,tc=ec>0?$d[ec-1].ownerDocument.defaultView:window,ic=function(){const e=Jl($d,(e=>e.ownerDocument)),{length:t}=e,i=(t?e[t-1]:document).defaultView;return!!i&&i.self!==i.parent}(),{topAncestor:oc,isTrusted:rc}=function(e){void 0===e&&(e=window);const t=$(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:i,referrer:o}=ee(e.document),r=ic?o:i,n=!ic||H(tc).length<2,{protocol:a,hostname:s,host:l,port:d}=w(r);return{topAncestor:O({protocol:a,hostname:s,host:l,port:d,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:n}}(),nc=oc,ac=rc,sc=200,lc=e=>m(e.navigator.sendBeacon),dc=lc(window),cc="https://log.strm.yandex.ru/log",uc=jd.hardcodedParams.vasnetworklogs||jd.VAS_UAAS_CONFIG.isInternalNetwork||!1,hc=uc?1:.01,pc=uc?1:.001,mc=e=>!!o(e)&&!!s(e.name)&&!!s(e.message),Ac=e=>({name:e.name,message:e.message,stack:e.stack}),vc=e=>{try{return"display"in ae(e)}catch(G_){return!1}};var _c=e(3438),gc=e.n(_c);const fc="DEFAULT_ERROR_MESSAGE",yc="?:?:?";class Sc extends Error{constructor(){const e=2===arguments.length?arguments.length<=0?void 0:arguments[0]:void 0,t=2===arguments.length?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0],i=mc(e)||"object"===typeof e&&e&&"code"in e&&"details"in e?e:{message:String(e||fc)};super(),this.originalError="object"===typeof e&&e?e:{unknown:e,unknownStr:String(e)},gc()(this,Sc.prototype);const o=t.code||i.code||i.id||"0",r=t.message||i.message||fc;this.message="VAS Error ["+o+"]"+(r?"["+r+"]":""),this.code=o,this.details=t.details||i.details||"";const n=i.stack||function(e){const{url:t,line:i,col:o,fileName:r,columnNumber:n,lineNumber:a}=e;return(t||r||"?")+":"+(i||a||"?")+":"+(o||n||"?")}(i);let a=n===yc?this.stack:n;if(a&&a!==yc)this.stack=a;else if(!this.stack)try{throw new Error(this.message)}catch(G_){this.stack=a=G_.stack||yc}this.toString=()=>se(this.toJSON()),this.toJSON=()=>({originalError:this.originalError,message:this.message,code:this.code,details:this.details,stack:a})}}const Tc=e=>{if(wl(e))return e;const t=String(e)||"DEFAULT_ERROR_MESSAGE";return new Error(t)},Ec=Sd,bc=function(e){const t=Ec(e);for(const i of t){const{BANNER_TYPE_FROM_NANPU:e}=i;if("string"===typeof e&&e.length>0)return e}}(window),Cc=(e,t)=>{for(const i of t.split(".")){if(!o(e)){e=void 0;break}e=e[i]}return e},Pc="__ADB_CONFIG__",wc=o(Pc)&&Pc.fn&&L(Pc.fn.encodeUrl)?Pc.fn.encodeUrl:void 0,Oc=void 0===wc?void 0:e=>wc(e),Ic=e=>{if(Oc)return Oc;const t=Sd(e);for(;t.length;){const e=t.pop();if(!e)continue;const i=Cc(e,"ya.videoAd.encodeUrl");if(L(i))return i}},kc=X(jd.hardcodedParams.adsdktracelogs,jd.hardcodedParams.vasconsolelogs),Nc=(e,t,i)=>{const o=[];for(let r=0;r<e.length;r++)o[r]=t.call(i,e[r],r,e);return o},Dc=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0;class Rc{constructor(e){this.rootFields={},this.error=e=>{let{error:t}=e;const i=ne(t)?t:new Sc(t);this.push({eventName:String(i.code),eventType:"error",data:i,probability:1})},this.log=e=>{const{name:t,probability:i=hc}=e,{data:o,values:r,sensors:n,dailySensors:a}=e;this.push({eventName:t,eventType:"values",data:o,probability:i,values:r,sensors:n,dailySensors:a})},this.setRootFields=e=>{const t=he(e);Ol(t,(e=>{let[t,i]=e;void 0===i?delete this.rootFields[t]:this.rootFields[t]=i}))},this.errorToStats=e=>{const t=ne(e)?e:new Sc(Tc(e));this.push({eventName:String(t.code),eventType:"error",data:t,probability:1})},this.params=e}push(e){let{eventName:t,eventType:i,data:o,probability:r,values:n,sensors:a,dailySensors:s}=e;if(this.params.rnd>=r)return;const{version:l}=this.params,d={version:l,data:o,eventName:t,eventType:i,values:n,sensors:a,dailySensors:s},c=cc+"?VAS="+l+"&event="+t,u=this.createFullStatsObject(d),h=se(u);kc("[Stats] "+i+"="+t,u),this.sendData(c,h)}sendData(e,t){const i=function(e,t){return!!dc&&window.navigator.sendBeacon(e,t)}(e,t);i||re({url:e,data:t,method:"POST"})}createFullStatsObject(e){const{version:t,eventName:o,eventType:r,data:n,sensors:a,dailySensors:s}=e,{location:l,referrer:d}=ee(document),c=le(window)?de(window):void 0,u=ue(window),{testIds:p}=this.params,m=h(p)?Wd(Nc(p.split(";"),(e=>Number(e.split(",")[0]))),i):[];return ve({},this.params.AdditionalStatsRootFields,{bannerTypeFromNanpu:bc,bundleName:Id,abFlags:this.params.AB_FLAGS,iCookie:this.params.iCookie,testIds:m,slots:p},this.rootFields,{service:"VAS",values:e.values,sensors:Ae(a),dailySensors:Ae(s),timestamp:Date.now(),eventType:r,eventName:o,data:n,vsid:this.params.vsid,version:t,location:y(window),topLocation:l,topAncestor:nc,isTopAncestorUndetermined:!ac||void 0,ancestorOrigins:Zd,documentIsVisible:pe(document),referrer:window.document.referrer,topReferrer:d,currentScriptSrc:Od,secureIFrame:ic,isVideoADB:u,rnd:this.params.rnd,topDocumentFocus:ce(),pcodeActiveTestIds:this.params.AB_FLAGS_STORE.getActiveTestIds(),deviceOrientation:c})}}const Vc=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1};let Lc;xd({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME"}),function(e){e[e.DO_NOTHING=0]="DO_NOTHING",e[e.CALL_NORMALLY=1]="CALL_NORMALLY",e[e.DEPENDS_ON_AB_FLAGS=2]="DEPENDS_ON_AB_FLAGS"}(Lc||(Lc={}));class xc{get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}static addErrorHandler(e){return xc.errorHandlers.push(e),()=>{const t=Vc(xc.errorHandlers,(t=>t===e));-1!==t&&xc.errorHandlers.splice(t,1)}}static addCallAfterDestroyErrorHandler(e){return xc.callAfterDestroyErrorHandlers.push(e),()=>{const t=Vc(xc.callAfterDestroyErrorHandlers,(t=>t===e));-1!==t&&xc.callAfterDestroyErrorHandlers.splice(t,1)}}constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[o]=t;this._isDestroyed||(this._isDestroyed=!0,this._destroyReason=o,Ol(this.destroyHandlers,(e=>{try{e(...t)}catch(i){Y(xc.errorHandlers,i)}})),this.destroyHandlers.length=0)}ignoreAfterDestroy(e,t,i){var o=this;return void 0===i&&(i=Lc.DO_NOTHING),function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(!o.isDestroyed)return e.apply(o,n);const s=new Sc({code:"DESTROYABLE_METHOD_CALLED_AFTER_DESTROY",details:{identifier:t}});if(Y(xc.callAfterDestroyErrorHandlers,s),i===Lc.DEPENDS_ON_AB_FLAGS){if("TRUE"===qd.getFlagValueAndActivateTestId("VAS_DESTROYABLE_THROW_ERROR_AFTER_DESTROY"))throw new Error("You cannot call a method of a class that had destroy() called");if("TRUE"===qd.getFlagValueAndActivateTestId("VAS_DESTROYABLE_RETURN_UNDEFINED_AFTER_DESTROY"))return}return i===Lc.CALL_NORMALLY?e.apply(o,n):void 0}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}xc.errorHandlers=[],xc.callAfterDestroyErrorHandlers=[];const Bc=new Rc(Qd);xc.addErrorHandler((e=>{Bc.error({error:new Sc(e,{code:"DESTROYABLE_CALLBACK_ERROR",details:void 0})})}));const Mc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",Uc=/^([a-z0-9|-]+\.)*adfox.ru$/,Fc=/\/(an|ads)\/adfox/,Hc=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1},zc=[...["localhost","127.0.0.1"].concat([]),Ud,"yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz",Fd,"yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],jc=e=>{var t;let{secureMode:i,url:o}=e;const r=null!=(t=jd.hardcodedParams.adsdksecuremode)?t:i;return"ForceSafe"===r||"Safe"===r&&(!h(o)||!ye(o))},Yc=(e,t)=>{let i=0;return{promise:new Promise((o=>{i=t.setTimeout(o,e)})),clear(){t.clearTimeout(i)},timeoutId:i}},Wc=["spec","logo","misc"],Gc=e=>{if(o(e))for(const t in e)if(e.hasOwnProperty(t)&&!D(Wc,t))return e[t]},Xc="application/x-javascript",Kc=["application/javascript",Xc];let qc;!function(e){e.INTERACTIVE_VIEWER="video-banner_interactive-viewer",e.MOTION="video-banner_motion",e.EMPTY="video-banner_theme_empty",e.SURVEY="video-banner_survey"}(qc||(qc={}));const Qc=["aw","ap","s-a","d-sd","k-j","s"].join(""),Jc=Qc+"/1_0",Zc="https://"+Fd+"/"+Jc+"/interactive_viewer.js",$c=function(e,t){return M(e,"adsdkver")||t}(window,El),eu="https://"+Fd+"/vas-bundles/",tu="https://"+Fd+"/"+Qc+"/1_0/vpaid-motion.js",iu="https://"+Fd+"/pcode/media/vpaid-motion.js",ou="https://"+Md+"/system/video-ads-sdk/vpaid-motion.js",ru=Ce($c)+"vpaid-motion.js",nu=[tu,iu,ou,ru],au="https://"+Fd+"/"+Qc+"/1_0/vpaid-creative.js",su=["https://"+Fd+"/pcode/media/vpaid-creative.js",au];class lu extends Gd{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add((i=>{e(i)&&Q(t,i)}))}subscribeValueConditionOnce(e,t){const i=this.subscribeValueCondition(e,(e=>{i(),Q(t,e)}));return i}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}const du=e=>{try{const{left:t,right:i,top:o,bottom:r}=e.getBoundingClientRect();return{left:t,right:i,top:o,bottom:r,width:i-t,height:r-o}}catch(G_){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}};let cu=!1,uu=!1,hu=!1;try{const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>cu=!0}),Object.defineProperty(t,"passive",{get:()=>uu=!0}),Object.defineProperty(t,"capture",{get:()=>hu=!0}),e.addEventListener("click",W,t)}catch(Ww){}const pu={ES5:"bundles",ES2017:"bundles-es2017"},mu=e=>{let{version:t=El,win:i}=e;const o=Ic(i),r=pu.ES5,n=""+Ce(t)+r+"/proxy_frame.html";return L(o)?o(n):n};let Au;const vu=function(e){return void 0===e&&(e=window),Au||(Au=e.document.createElement("div")),Au}(window),_u=(e,t)=>{const i="undefined"!==typeof vu.style[e];if(i&&t&&s(t))try{vu.style.cssText=e+": "+t+";";const i=Boolean(vu.style.cssText);return vu.style.cssText="",i}catch(G_){return!1}return i},gu={},fu=function(e){return void 0===e&&(e=""),gu[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let i=0;i<Zl.length;i++){const o=Zl[i],r=o?""+o+t:e;if(_u(r))return gu[e]=r}return gu[e]=e}(e)},yu={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"},Su={attributes:{width:"0",height:"0",hidden:""},styles:{display:"none"}},Tu={attributes:{hidden:null,width:null,height:null},styles:{display:"block"}},Eu=e=>{let{iframe:t,shouldBeVisibleNow:i}=e;const o=i?Tu:Su;Re(t,o.attributes),Ne(t,o.styles)},bu="VAS_FRAME_GLOBAL_CALLBACK",Cu=xd({propertyName:bu}),Pu=["allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" "),wu=e=>(e=>e instanceof Promise||"Promise"===Pl(e)&&Boolean(xe((()=>m(e.constructor)))))(e)||(e=>Boolean(xe((()=>A(e.then)&&A(e.catch)))))(e);class Ou extends xc{constructor(e,t){super(),this.listenForCommandEvents=e=>{const t=Ie({element:this.port,eventName:"message",listener:t=>{const{data:i}=t;"command"===i.type&&(this.isEventDataCommandLike(i)?e(i):this.destroy(new Sc({code:"VF_DISPATCHER_UNHANDLED_MESSAGE_EVENT",details:{eventData:i}})))}});return this.addDestroyHandler(t),t},this.port=e,this.commandHandlers=t,this.listenForNewCommands(),this.addDestroyHandler(Ie({element:e,eventName:"messageerror",listener:()=>{this.destroy(new Sc({code:"VF_DISPATCHER_MESSAGE_ERROR",details:{}}))}}))}executeCommand(e,t){const i=v(6),o=Yc(5e3,window);o.promise.then((()=>{this.destroy(new Sc({code:"VF_DISPATCHER_COMMAND_DETERMINATION_TIMEOUT",details:{name:e,commandId:i}}))})).catch(Be),this.addDestroyHandler((()=>o.clear()));const r=this.waitForNextCommandEvent({name:e,id:i}),n=new Promise(((t,n)=>{r.then((r=>{if(o.clear(),"success"===r.status)t(r.payload);else if("error"===r.status){const e=r.payload;n((e=>{const t=new Error;return t.name=e.name,t.message=e.message,t.stack=e.stack,t})(e))}else{if("abort"===r.status)return;this.destroy(new Sc({code:"VF_DISPATCHER_UNHANDLED_COMMAND_STATE",details:{status:r.status,payload:r.payload,name:e,commandId:i}}))}})).catch(n)})),s=a((()=>{this.sendCommand({status:"abort",name:e,id:i,payload:void 0})}));return this.sendCommand({status:"start",name:e,id:i,payload:t}),{promise:n,abort:s}}sendCommand(e){try{JSON.stringify(e.payload)}catch(t){return void this.destroy(new Sc({code:"VF_DISPATCHER_COMMAND_PAYLOAD_NON_SERIALIZABLE",details:{error:t}}))}try{this.port.postMessage(Me({},e,{type:"command"}))}catch(t){this.destroy(new Sc({code:"VF_DISPATCHER_SEND_ERROR",details:{error:t}}))}}async waitForNextCommandEvent(e){return new Promise((t=>{const i=this.listenForCommandEvents((o=>{o.name===e.name&&o.id===e.id&&(i(),t(o))}))}))}listenForNewCommands(){this.listenForCommandEvents((e=>{var t;if("start"!==e.status)return;const i=null==(t=this.commandHandlers)?void 0:t[e.name];if(!Boolean(i))return void this.destroy(new Sc({code:"VF_DISPATCHER_NO_SUCH_COMMAND_HANDLER",details:{data:e}}));const o=this.createCommandControlDescriptor(e),r=e.payload;try{i(o,r)}catch(n){this.destroy(new Sc({code:"VF_DISPATCHER_HANDLER_ERROR",details:{error:n}}))}}))}createCommandControlDescriptor(e){const t=new Gd;let i=!1;return this.waitForNextCommandEvent(e).then(this.ignoreAfterDestroy((o=>{i||"abort"===o.status&&o.id===e.id&&(t.dispatch(void 0),i=!0,t.removeAll())}),"Dispatcher.awaitForResolveOfWaitForNextCommandEvent")).catch(W),{resolve:o=>{if(!i)return i=!0,t.removeAll(),this.sendCommand({status:"success",name:e.name,id:e.id,payload:o})},reject:o=>{if(i)return;i=!0,t.removeAll();const r=Ac(o);return this.sendCommand({status:"error",name:e.name,id:e.id,payload:r})},subscribeForAbort:function(){return i?W:t.add(...arguments)}}}isEventDataCommandLike(e){return!!o(e)&&"command"===e.type&&!!h(e.id)&&!!h(e.status)}}const Iu=c({abort:0,canplay:0,canplaythrough:0,click:0,durationchange:0,emptied:0,ended:0,error:0,loadeddata:0,loadedmetadata:0,loadstart:0,pause:0,play:0,playing:0,progress:0,ratechange:0,resize:0,seeked:0,seeking:0,suspend:0,timeupdate:0,volumechange:0,waiting:0}),ku=["src","poster"],Nu=c({src:0,currentTime:0,muted:0,volume:0,playbackRate:0}),Du=["video/mp4","video/webm"],Ru={timeupdate:["currentTime"],durationchange:["duration"],volumechange:["volume","muted"],resize:["videoWidth","videoHeight"],ended:["ended"]},Vu=c({load:0,play:0,pause:0,setAttribute:0}),Lu=(e,t,i)=>{if(!o(e))return e;const r=e,n=t.split("."),a=n.pop();for(const s of n){const t=e[s];e=o(t)?t:e[s]={}}return e[a]=i,r},xu=c({bubbles:0,cancelable:0,composed:0,defaultPrevented:0,eventPhase:0,isTrusted:0,returnValue:0,timeStamp:0,type:0}),Bu=new WeakSet;class Mu extends xc{static isVideoNodeLocked(e){return Bu.has(e)}constructor(e){super(),this.params=e,this.subscribeVideoNodeEvents(),kc("[OutsideApiLocalVideoNode]: set video node initial props"),this.params.handleVideoNodePropertyChange("playableMimeTypes",Ue(Nc(Du,(e=>[e,this.params.videoNode.canPlayType(e)])))),Ol(c(Ru),(e=>{const t=Ru[e];Ol(t,(e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])}))}))}callVideoNodeMethod(e,t){const{videoNode:i}=this.params;if(D(Vu,e)){if("setAttribute"===e){const[e,o=""]=t;if(!h(e))return;return D(ku,e)?i.setAttribute(e,o):void Bc.error({error:new Sc({code:"VS_REMOTE_VIDEOTAG_RESTRICTED_ATTR",details:{name:e,value:o}})})}return i[e]()}Bc.error({error:new Sc({code:"VF_REMOTE_VIDEOTAG_UNHANDLED_METHOD_CALL",details:{methodName:e,args:t}})})}setVideoNodeProperty(e,t){const{videoNode:i}=this.params;if(!D(Nu,e))return void Bc.error({error:new Sc({code:"VF_INSIDE_FRAME_REMOTE_VIDEO_TAG_PROP_NOT_ALLOWED",details:{propName:e,value:t}})});const o=e,r=i[o];Lu(i,e,t),this.params.handleVideoNodePropertyChange(o,i[o]),this.addDestroyHandler((()=>{Lu(i,e,r)}))}subscribeVideoNodeEvents(){const{videoNode:e}=this.params;Ol(Iu,(t=>{this.addDestroyHandler(Ie({element:e,eventName:t,listener:e=>{Ru.hasOwnProperty(e.type)&&Ol(Ru[e.type],(e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])})),setTimeout(this.ignoreAfterDestroy((()=>{const t=(e=>Fe({},Ue(Nc(xu,(t=>[t,e[t]]))),{target:null}))(e);this.params.handleVideoNodeEvent(t)}),"OutsideApiLocalVideoNode.timeoutForHandleVideoNodeEvent"),0)}}))}))}}class Uu extends xc{constructor(e){super(),this.vpaidEventBus=new Gd,this.vpaidGetterPropertyBus=new Gd,this.dispatcherCommandHandlers={handleVpaidEvent:(e,t)=>{let{resolve:i}=e,[{eventName:o,args:r}]=t;i(),this.vpaidEventBus.dispatch({eventName:o,args:r})},updateVpaidGetterValue:(e,t)=>{let{resolve:i}=e,[{methodName:o,value:r}]=t;i(),this.vpaidGetterPropertyBus.dispatch({methodName:o,value:r})},handleVideoTagMethodCall:(e,t)=>{let{resolve:i,reject:o}=e,[{methodName:r,args:n}]=t;const a=this.localVideoNode;if(a)try{kc("[outsideAPI] call video method=["+r+"], args=["+n+"]");const e=a.callVideoNodeMethod(r,n);return wu(e)?e.then((e=>{i(e)})).catch(o):i(e)}catch(s){this.destroy(new Sc({code:"VF_REMOTE_VIDEO_TAG_CALL_ERROR",details:{error:s}}))}else this.destroy(new Sc({code:"VF_NO_REMOTE_VIDEOTAG_TO_CALL",details:{}}))},handleVideoTagPropertySet:(e,t)=>{let{resolve:i}=e,[{propName:o,value:r}]=t;i();const n=this.localVideoNode;n?D(Nu,o)?(kc("[outsideAPI] set video property name=["+o+"], value=["+r+"]"),n.setVideoNodeProperty(o,r)):this.destroy(new Sc({code:"VF_REMOTE_VIDEOTAG_PROP_SET_NOW_ALLOWED",details:{propName:o,value:r}})):this.destroy(new Sc({code:"VF_NO_REMOTE_VIDEOTAG_TO_SET",details:{propName:o,value:r}}))}},this.handleVideoNodeEvent=e=>{const t=e.type;this.dispatcher.executeCommand("handleVideoTagEvent",[{eventName:t,event:e}])},this.handleVideoNodePropertyChange=(e,t)=>{kc("[outsideApi]: change VIDEO node property ["+e+"] remotely to ["+t+"]"),this.dispatcher.executeCommand("handleVideoTagPropertyChange",[{propName:e,value:t}])},this.params=e,kc("[outsideApi]: init"),this.addDestroyHandler((e=>{e&&Bc.error({error:e})})),this.changeFrameVisibility(!1),this.dispatcher=new Ou(e.port,this.dispatcherCommandHandlers),this.addDestroyHandler((()=>this.dispatcher.destroy(void 0))),this.addDestroyHandler(Ie({element:e.port,eventName:"message",listener:e=>{if(!(e=>{const t=e.data;return!(!o(t)||"kill-me"!==t.type)})(e))return;const{data:t}=e;this.destroy(new Sc({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}}))}})),this.dispatcher.addDestroyHandler((e=>{this.isDestroyed||(Bc.error({error:null!=e?e:new Sc({code:"VF_DISPATCHER_DIED_WITHOUT_REASON",details:{}})}),this.destroy(void 0))})),this.addDestroyHandler((()=>{this.vpaidEventBus.removeAll()}))}async doGETRequest(e){kc("[outsideApi]: start get request");const t=this.dispatcher.executeCommand("doGETRequest",[e]),{responseText:i,responseStatus:o,responseHeaders:r}=await t.promise;return kc("[outsideApi]: finish get request"),{responseStatus:o,responseText:i,responseHeaders:r}}async loadCreative(e){kc("[outsideApi]: start loading creative"),await this.dispatcher.executeCommand("loadCreative",[e]).promise,kc("[outsideApi]: done loading creative")}async initCreative(e){kc("[outsideApi]: start init creative"),await this.dispatcher.executeCommand("initCreative",e).promise,kc("[outsideApi]: done init creative")}async callVpaidMethod(e,t){return kc("[outsideApi]: call VPAID method ["+e+"] remotely with args ["+JSON.stringify(t)+"]"),this.dispatcher.executeCommand("callVpaidMethod",[{methodName:e,args:t}]).promise}changeFrameVisibility(e){const t=this.params.frame;return kc("[outsideApi]: "+(e?"show":"hide")+" frame"),Eu({iframe:t,shouldBeVisibleNow:e})}assignVideoTag(e){let{videoElement:t}=e;if(Mu.isVideoNodeLocked(t))throw kc("[outsideApi]: oops, video tag is already assigned"),new Error("VAS_FRAME_VIDEOTAG_ASSIGNED_TWICE");kc("[outsideApi]: assign video tag"),this.localVideoNode=new Mu({videoNode:t,handleVideoNodeEvent:this.handleVideoNodeEvent,handleVideoNodePropertyChange:this.handleVideoNodePropertyChange}),this.addDestroyHandler((()=>{var e;kc("[outsideApi]: UNassign video tag"),null==(e=this.localVideoNode)||e.destroy(void 0)}))}listenRemoteVpaidEvents(e,t){return kc("[OutsideAPI]: add vpaid event listener eventName=["+e+"]"),this.vpaidEventBus.add((i=>{let{eventName:o,args:r}=i;e===o&&t(o,r)}))}listenRemoteVpaidGetterValueChange(e){return this.vpaidGetterPropertyBus.add((t=>{let{methodName:i,value:o}=t;e(i,o)}))}}const Fu=e=>{var t;kc("[initOutsideApi]: do init"),t={name:"before OutsideAPI init call",initParams:e},Cu.call({propertyName:bu,callbackArguments:[{step:t}]});const{container:i,initTimeout:r}=e,n=new Gd,a=i.ownerDocument.defaultView,s=(async e=>{let{container:t,initAbort:i,initTimeout:r}=e;const n=v(6);Bc.log({name:"VASFrameInitStart",data:{handshakeID:n}});const a=Date.now();let s=!1;const l=new Gd;l.add((()=>{s=!0})),i.add((()=>{kc("[initOutsideApi]: init aborted"),Bc.log({name:"VASFrameInitAborted",data:{handshakeID:n}}),l.dispatch(void 0)}));const d=He({},Oe(jd,qd),{handshakeID:n}),c=(e=>{let{container:t,frameUrl:i,initialData:o}=e;const r=t.ownerDocument.createElement("iframe"),n=(e=>{const t=Ve({},e,{RUM_WRAPPER:void 0,AB_FLAGS_STORE:void 0,STATS_ROOT_PARAMS:void 0,VAS_UAAS_CONFIG:void 0,VAS_UAAS_CONFIG_ParseError:void 0,AdditionalStatsRootFields:void 0,AdditionalStatsRootFieldsExtractionError:void 0,statsInstance:void 0});return encodeURI(JSON.stringify(t))})(o);Re(r,{name:n,sandbox:Pu,src:i,marginwidth:"0",marginheight:"0",scrolling:"no",frameborder:"no",tabindex:"-1",allowtransparency:"true",hidefocus:"true"}),Ne(r,Le({},yu)),Eu({iframe:r,shouldBeVisibleNow:!1}),t.appendChild(r);const a=r.name;return a!==n&&Bc.log({name:"VASFrameInsideApiNoNameOnMount",data:{expectedName:n,actualName:a,handshakeID:o.handshakeID},probability:1}),r})({container:t,frameUrl:mu({win:window}),initialData:d});l.add((()=>{kc("[initOutsideApi]: remove frame"),ke(c)}));const u=new MessageChannel;u.port1.start(),l.add((()=>{u.port1.close()}));const h=new Promise((e=>{kc("[initOutsideApi]: wait for frame to load"),c.addEventListener("load",(()=>{kc("[initOutsideApi]: got load event. transfer port"),c.contentWindow.postMessage({type:"init",handshakeID:n},"*",[u.port2]),e()}))})),p=new Promise((e=>{const t=Ie({element:u.port1,eventName:"message",listener:i=>{const o=i.data;"handshake"===o.type&&o.initialData.handshakeID===n&&(kc("[initOutsideApi]: got handshake event"),t(),e())}})})),m=Promise.all([h,p]),{promise:A,clear:_}=Yc(r,window);if(A.then((()=>{var e;Bc.error({error:new Sc({code:"VAS_FRAME_INIT_TIMEOUT",details:{frameParentNodeTagName:null==(e=c.parentElement)?void 0:e.tagName,frameBoundingClientRect:du(c),handshakeID:n}})}),l.dispatch(void 0)})),m.then((()=>{_()})),l.add((()=>{_()})),await Promise.race([m,A]),s)throw new Sc({code:"VAS_FRAME_DESTROY_BEFORE_INIT",details:{}});Bc.log({name:"VASFrameInitSuccess",data:{handshakeID:n},values:{timeSpent:Date.now()-a}}),c.removeAttribute("name"),i.removeAll();const g=new Uu({port:u.port1,initialData:d,frame:c});return g.addDestroyHandler((()=>{kc("[initOutsideApi]: do teardown since class destroy"),Bc.log({name:"VASFrameDestroy",data:{handshakeID:n}}),l.dispatch(void 0)})),g.addDestroyHandler(Ie({element:u.port1,eventName:"message",listener:e=>{const t=e.data;o(t)&&"destroy"===t.type&&Bc.error({error:new Sc({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}})})}})),kc("[initOutsideApi]: init done"),g})({container:i,initAbort:n,initTimeout:r,win:a});return{initPromise:s,abortInit:()=>n.dispatch(void 0)}},Hu={idle:["initializing"],initializing:["initialized"]};class zu extends xc{constructor(){super(),this.state=new lu({name:"idle"},((e,t)=>{const i=Hu[e.name];return i&&D(i,t.name)||Bc.error({error:new Sc({code:"SINGLE_VAS_FRAME_CLASS_INVALID_TRANSITION",details:{from:e.name,to:t.name}})}),kc("SingleVASFrame: change state from ["+e.name+"] to ["+t.name+"]"),!1})),this.users=0,kc("SingleVASFrame: create instance"),this.initPromise=new Promise((e=>{this.state.add((t=>{"initialized"===t.name&&e(t.outsideApi)}))})),this.state.add((e=>{"initializing"===e.name&&e.outsideApiInitPromise.then((e=>{this.state.dispatch({name:"initialized",outsideApi:e}),this.addDestroyHandler((()=>{e.destroy(void 0)}))})).catch((e=>{this.destroy(e)}))}))}init(e){kc("SingleVASFrame: do init");const t=Fu(e);this.addDestroyHandler((()=>{t.abortInit()})),this.state.dispatch({name:"initializing",outsideApiInitPromise:t.initPromise})}addUser(){if(this.isDestroyed)throw new Error("SingleVASFrameClassCannotAddUserAfterDestroy");kc("SingleVASFrame: add user from "+this.users),this.users+=1}removeUser(){kc("SingleVASFrame: remove users from "+this.users),this.users=Math.max(0,this.users-1),0===this.users&&this.destroy(void 0)}}let ju;const Yu=()=>(ju||(ju=new zu,ju.addDestroyHandler((()=>{ju=void 0}))),ju),Wu=async e=>{const t=Yu();return(await t.initPromise).doGETRequest(e)},Gu=e=>{let{url:t,data:i,withCredentials:o=!0}=e;return new Promise(((e,r)=>{const n=new XMLHttpRequest;n.open("GET",t),n.withCredentials=o,n.onerror=()=>r({reason:"error",error:new Error("XHR Error["+n.status+"]["+n.statusText+"]["+t+"]")}),n.onreadystatechange=(e=>{let{xhr:t,resolve:i}=e;return()=>{if(4!==t.readyState)return;const{status:e}=t;if(0===e)return;const{responseText:o}=t,r={};Ol(t.getAllResponseHeaders().trim().split(/[\r\n]+/),(e=>{const t=e.split(": "),i=t.shift(),o=t.join(": ");h(i)&&(r[i]=o)})),i({responseText:o,responseStatus:e,responseHeaders:r})}})({xhr:n,resolve:e});try{n.send(i)}catch(Ww){Ww.message="XHR Send Error["+Ww.message+"]["+t+"]",r({reason:"error",error:Ww})}}))},Xu=async e=>{await new Promise((t=>{window.setTimeout(t,e)}))},Ku=e=>{let{thrownError:t,errorCode:i,errorDetails:r,timeoutCode:n,timeoutDetails:a}=e;const s=t;if(ne(s))return s;if("string"===typeof s.reason&&o(s.error)){const{error:e,reason:t}=s;if("error"===t)return new Sc(e,{code:i,details:r});if("timeout"===t)return new Sc(e,{code:n,details:a})}return new Sc(t,{code:i,details:r})},qu="vsid",Qu="vmap-scenario-id",Ju="has-preroll",Zu="wtime-since-ad",$u="ad-pod-id",eh=(e,t,i)=>{let o=e.getItem(t);return o||(o=i(t),e.setItem(t,o)),o},th=(e,t)=>{for(const i of t.split(".")){if(!S(e)){e=void 0;break}e=e[i]}return e},ih=(e,t,i)=>{if(!S(e))return e;const o=e,r=t.split("."),n=r.pop();for(const a of r){const t=e[a];e=S(t)?t:e[a]={}}return e[n]=i,o},oh=e=>{try{return e()}catch(G_){return}},rh=(e,t,i,o)=>function(){try{return t.apply(i||this,arguments)}catch(G_){if(A(o)&&o(G_),!0===G_.preventProtect)throw G_;rh.log(G_,e)}};rh.log=function(e,t){console.log("LOG:"+t+":"+e)},rh.setTimeout=(e,t,i,o)=>window.setTimeout(rh("timeout",e,i,o),t);class nh{}nh.YaContextCallbacks=We("Ya.C","ontext._callbacks"),nh.YaContextCallbacksCalls=We("Ya.C","ontext._callbacks_call"),nh.AdvManager=We("A","dvManager"),nh.AdvBlock=We("A","dvBlock"),nh.RTB=We("R","TB"),nh.Rtb=We("R","tb"),nh.MetrikaAdtune=We("metrika_a","dtune");class ah{constructor(e){this.obj=e}getItem(e){return this.obj[e]}setItem(e,t){this.obj[e]=t}}const sh=te((()=>((e,t,i)=>{let o;return((e,t)=>{const i=e.slice();for(;i.length;){const e=t(i.shift());if(!e)return;i.push(...e)}})([e.top],(e=>{if(o=oh((()=>th(e,t))),!o)return oh((()=>z(e.frames)))||[]})),o||(o=new ah({})),ih(e,t,o),o})(self,"Ya.pcodeCrossFrameData"))),lh=te((()=>((e,t,i)=>{let o=th(e,t);return o||(o=new ah({}),ih(e,t,o)),o})(self,"Ya.pcodeWindowData"))),dh="Ya._metrika.dataLayer",ch=rh("metrika::pushEvent",((e,t)=>{const i=th(e,dh)||[];ih(e,dh,i),i.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:Ge({},t)}}})})),uh=rh("sessionId::configureMetrika",((e,t)=>{ch(e,{adSessionID:t})})),hh=()=>(1e6*Wl()).toFixed(0)+(new Date).valueOf().toString(),ph="sessionId";let mh;const Ah=()=>(mh||(mh=((e,t,i,o)=>{let r=t.getItem(ph);return r||(r=i.getItem(ph)||e(),o(window,r)),t.setItem(ph,r),i.setItem(ph,r),r})(hh,("common",eh(lh(),"common",(()=>new ah({})))),eh(sh(),"common",(()=>new ah({}))),uh)),mh),vh=()=>p(Ah)||void 0,_h=e=>{var t;const i=null==(t=e.yandex)?void 0:t.getSiteUid;if(L(i))return String(i())},gh="function"===typeof IntersectionObserver&&m(IntersectionObserver),fh=()=>!yh(),yh=()=>gh||!ic,Sh="TRUE"===qd.getFlagValueAndActivateTestId("VAS_RESEARCH_USE_MINIMAL_SIZE_TO_PLAY_AD_LIKE_INAPP"),Th=Sh?160:180,Eh=Sh?300:320,bh=Th*Eh;let Ch=0;const Ph=function(e,t){let i=e.create;if(!m(i)){const t=i;try{delete e.create,i=e.create,e.create=t}catch(G_){}}return i}(Object)?Object.create:function(e,t){function i(){}if(i.prototype=e,S(t))for(const o in t)t.hasOwnProperty(o)&&(i[o]=t[o]);return new i},wh=function e(t,i){void 0===i&&(i={preserveConstructors:!0});let o=t;if(nd(t)){const o=t.map((t=>e(t,i)));return o}return(r=t)instanceof Date||"Date"===Pl(r)?new Date(t.getTime()):(!A(t)&&S(t)&&(o=i.preserveConstructors?Ph(t):{},f(t,((t,r)=>{o[r]=e(t,i)}))),o);var r},Oh=Qe({},yl,{bitrate:0}),Ih=Je({},Oh,{type:Xc}),kh="https://"+Fd+"/"+Jc+"/ad_creative.js",Nh=Ze({url:kh},Ih),Dh={nextAd:0,startVideo:0,continueVideo:0},Rh={type:"nextAd",poster:[]},Vh={poster:[]};let Lh={ads:[],children:[],xmlString:"",url:void 0,isUniformat:!1},xh={sequence:0,adId:void 0,bidreqid:void 0,campaignid:void 0,pageId:void 0,impId:void 0,vmapRequestId:void 0,creativeId:void 0,parseIndex:0,randomHexString:"",adParameters:"",mediaFiles:[],firstFrameImages:[],icons:[],progressTrackings:[],trackingEvents:{},abuseUrl:"",duration:0,adVerifications:[],creativeParameters:{body:void 0,ageRestriction:void 0,buttonLabel:void 0,showTitleAndBody:void 0,greenUrl:void 0,punyDomain:void 0,domain:void 0,title:void 0,targetUrl:void 0},assets:{button:void 0,images:void 0,icon:void 0,app:void 0},clickUrlData:{vastClickUrl:void 0,serializablePlaybackParametersClickUrl:void 0,tgaOfferClickUrl:void 0},bannerFlags:void 0,legalText:void 0,surveyParameters:void 0,ecomShop:void 0,adTitleParameters:void 0,adTune:{show:!1,token:"",advertiserInfo:""},yandexAdInfoExtensionParams:void 0};const Bh="https://"+Fd+"/"+Qc+"/1_0/no-aim-screen.js",Mh={type:"ad-creative-animation/javascript",url:Bh},Uh=(e,i,o)=>{const r=at(e,i,o),n=parseInt(r,10);return t(n)?n:o},Fh=[].find,Hh=m(Fh)?(e,t)=>Fh.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const o=e[i];if(t(o,i,e))return o}};let zh;const jh=e=>t=>{const{JSON:i,clean:o}=function(e){void 0===e&&(e=document.body);const t=function(e){const t=function(e,t){let{content:i,size:o}={};const r=e.ownerDocument.createElement("iframe");r.scrolling="no",r.setAttribute("allowfullscreen",""),r.style.display="block",o&&(r.height=o.height,r.width=o.width),e.appendChild(r);const n=r.contentDocument;return n.open(),i&&n.write(i),n.close(),n.body.style.margin="0",r.style.borderWidth="0",r}(e);return t.width="0",t.height="0",t.style.position="absolute",t}(e);return{JSON:t.contentWindow.JSON,clean:()=>function(e){e.src="",function(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}(e)}(t)}}();try{return i[e](t)}finally{o()}},Yh="DEFAULT_ERROR_MESSAGE",Wh="?:?:?",Gh=e(3438);class Xh extends Error{constructor(e,t){void 0===t&&(t={});const i="object"===typeof e?e:{message:String(e||Yh)};super(),Gh(this,Xh.prototype),this.message=t.message||i.message||Yh,this.code=t.code||i.code||i.id||0,this.isFatal=Boolean(function(e){const[t]=((e,t,i)=>{const o=[];for(let r=0;r<e.length;r++){const i=e[r];t.call(undefined,i,r,e)&&o.push(i)}return o})(e,(e=>void 0!==e));return t}([t.isFatal,i.isFatal,true])),this.details=t.details||i.details||"";const o=t.stack||i.stack||function(e){const{url:t,line:i,col:o,fileName:r,columnNumber:n,lineNumber:a}=e;return(t||r||"?")+":"+(i||a||"?")+":"+(o||n||"?")}(i);let r=o===Wh?this.stack:o;if(r&&r!==Wh)this.stack=r;else if(!this.stack)try{throw new Error(this.message)}catch(G_){this.stack=r=G_.stack||Wh}this.toString=()=>ut(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:r})}}const Kh="ru";class qh extends Xh{constructor(){super(...arguments),this.name="TranslatorError"}}const Qh=2147483647,Jh=-1,Zh={adLabel:0,socialAdLabel:0,businessUnitAdLabel:0,actionButton:0,skip:0,mute:0,play:0,pause:0,timeline:0,abuse:0,loader:0,disclaimers:0,ageLabel:0,title:0,body:0,domain:0,backpackAdSequence:0,controlPanel:0},$h=c(Zh),ep=Z(Zh,(()=>!1)),tp={controlsVisibility:{}},ip=(e=>l(e.navigator.sendBeacon))(window);xd({propertyName:"KNOCK_GLOBAL_CALLBACK_PROPERTY_NAME"});let op={showCountDown:!0,showSoundButton:!0,showLabel:!0};const rp=e=>({src:st(e.querySelector("StaticResource")),program:at(e,"program"),xPosition:Uh(e,"xPosition",0),yPosition:Uh(e,"yPosition",0),width:Uh(e,"width",0),height:Uh(e,"height",0)}),np=/&\w+;/g,ap={"&quot;":'"',"&laquo;":"\xab","&raquo;":"\xbb","&bdquo;":"\u201e","&ndash;":"\u2013","&mdash;":"\u2014"};const sp=e=>{if(!Array.isArray(e))return[];const t=Nc(e,(e=>{const t=e[0],i=Number(e[1]),r=Number(e[2]),n=e[3];if(h(t)&&!isNaN(i)&&!isNaN(r)){const e=[t,String(i),String(r)];return o(n)&&e.push(n),e}}));return Wd(t,(e=>void 0!==e))},lp=e=>{const{AUCTION_DC_PARAMS:t}=e;if(!o(t)||!o(t.data_params))return;const r=Gc(t.data_params);if(!o(r))return;const n=r.assets;if(!o(n))return;const a={},{button:s,icon:l,app:d,images:u,price_info:p}=n;if(o(s)){const{caption:e,href:t,key:i}=s;h(e)&&h(t)&&h(i)&&(a.button={caption:e,href:t,key:i})}if(o(d)){const{review_count:e,store_name:t,name:o,download_count:r,rating:n,store_app_id:s,store_content_id:l,price_currency_symbol:c,price_currency_code:u,price:p,age:m,free:A}=d;Vt(e)&&h(t)&&h(o)&&h(r)&&i(n)&&h(s)&&h(l)&&h(c)&&h(u)&&i(p)&&Vt(m)&&"boolean"===typeof A&&(a.app={review_count:e,store_name:t,name:o,download_count:r,rating:n,store_app_id:s,store_content_id:l,price_currency_symbol:c,price_currency_code:u,price:p,age:m,free:A})}if(o(l)){const e=he(l);if(e.length){const t={};for(const[i,o]of e){const{url:e,width:r,height:n}=o;h(e)&&Vt(r)&&Vt(n)&&(t[i]={url:e,width:r,height:n})}c(t).length&&(a.icon=t)}}if(kl(u)&&(a.images=sp(u)),o(n.multicards)&&"TRUE"===qd.getFlagValueAndActivateTestId("VAS_USE_MULTICARD_IMAGES_FOR_MOTION")&&(a.multicardImages=(e=>{if(!o(e))return;const t=c(e).sort();return Nc(t,(t=>{const i=e[t].image;return Nc(i,(e=>({smartCenters:Nc(e.SmartCenters,(e=>({x:e.X,y:e.Y,w:e.W,h:e.H}))),url:e.Url,width:e.Width,height:e.Height})))}))})(n.multicards)),o(p)&&h(p.price)&&h(p.currency)&&(a.priceInfo={currency:p.currency,oldPrice:h(p.old)?Number.parseFloat(p.old):void 0,price:Number.parseFloat(p.price)}),n.multicards&&o(n.multicards_click_link)&&o(n.multicards_button_text)&&o(n.multicards_type)){const e=n.multicards,t=n.multicards_click_link,i=n.multicards_button_text[1],o="1"===n.multicards_type[1]?1:0,r=Nc(c(e),(t=>Lt({},e[t],{key:t}))).sort(((e,t)=>e.order-t.order)),s=Nc(r,(e=>{const{href:i,currency:o,price_old:r,price:n,text:a,image:s,key:l}=e,d=t[l],c=void 0!==o&&void 0!==n?{price:n,currency:o,oldPrice:r}:void 0,u=s.sort(((e,t)=>t.Width*t.Height-e.Width*e.Height))[0].Url;return{clickThruUrl:d,priceInfo:c,text:a,link:i,imageUrl:u}}));a.ecomShop={buttonText:i,products:s,type:o}}return a},dp=a((e=>{Bc.log({name:"AdCreativeVideoBannerVastLegalText",sensors:{source:e}})})),cp=function(e){let t=0,i=e?Nc(e,(e=>e[0])):[],o=e?Nc(e,(e=>e[1])):[];const r=e=>(t=i.indexOf(e))>-1,n={get size(){return i.length},has:r,clear:()=>{i=[],o=[]},get:e=>o[i.indexOf(e)],keys:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((()=>i.slice())),values:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((()=>o.slice())),entries:()=>Nc(i,((e,t)=>[e,o[t]])),delete:e=>r(e)&&i.splice(t,1)&&Boolean(o.splice(t,1)),forEach(e,t){Ol(o,((o,r)=>e.call(t,o,i[r],n)))},set:(e,a)=>(r(e)?o[t]=a:o[i.push(e)-1]=a,n)};return n},up=(Boolean(window.Map)&&"function"===typeof window.Map.prototype.keys&&window.Map,class{constructor(){this.map=new cp}add(e){return this.map.set(e,e),this}clear(){this.map.clear()}delete(e){return this.map.delete(e)}has(e){return this.map.has(e)}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}get size(){return this.map.size}}),hp=(l(window.Set)&&window.Set,(e,t)=>{for(let i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0}),pp=["choice","multichoice","scale","emotion","rating"],mp={l:680,m:680,s:580,xs:480},Ap={l:29,m:20,s:15,xs:10},vp={l:24,m:18,s:9,xs:6},_p={l:16,m:12,s:8,xs:5},gp={l:40,m:30,s:20,xs:10},fp={l:280,m:240,s:200,xs:160},yp={ys:(Sp=e(2010),"string"===typeof Sp?JSON.parse(Sp):Sp)};var Sp;const Tp=e=>{const t=[];if(!o(e))return t.push(new Error("parsed but not an object")),{errors:t,params:void 0};let i,r;if(0===e.show||1===e.show)i=1===e.show;else{if("boolean"!==typeof e.show)return t.push(new Error('"show" is not a boolean nor 0,1 number')),{errors:t,params:void 0};i=e.show}if("domain"in e&&e.domain&&"string"!==typeof e.domain)return t.push(new Error('"domain" is defined but not a string')),{errors:t,params:void 0};h(e.domain)&&(r=e.domain);const n=!r||r.length<=30?r:r.slice(0,30)+"...";let a;if("socialAdvertising"in e)if(0===e.socialAdvertising||1===e.socialAdvertising)a=1===e.socialAdvertising;else{if("boolean"!==typeof e.socialAdvertising)return t.push(new Error('"socialAdvertising" is defined but not a boolean or 1,0 number')),{errors:t,params:void 0};a=e.socialAdvertising}return{errors:void 0,params:{show:i,domain:n,socialAdvertising:a}}},Ep=e=>{let{show:t,token:i,advertiserInfo:o}=e;const r=[];return 0!==t&&1!==t&&r.push({reason:"show is not 0 or 1"}),"string"!==typeof o&&r.push({reason:"advertiserInfo is not a string"}),"string"!==typeof i&&r.push({reason:"token is not a string"}),r.length>0?{errors:r}:{params:{show:Boolean(t),token:i,advertiserInfo:o}}},bp=(e,t,i)=>{i&&"string"===typeof t&&(e.trackingEvents[t]=[...e.trackingEvents[t]||[],i])};let Cp;const Pp=function(e,t){let{isYandexVastUrl:i}=void 0===t?{}:t;const r=e.querySelector("VideoClicks"),n=e.querySelectorAll("MediaFile"),l=e.querySelector("Linear"),d=e.querySelector("TrackingEvents"),c=d?d.querySelectorAll("Tracking"):[],u=z(e.querySelectorAll("Impression")),p=e.querySelectorAll("Error"),m=e.querySelector("Extensions"),A=e.querySelector("Description"),_=e.querySelectorAll("Icons Icon"),g=e.querySelector("AdParameters"),f=e.querySelector("AdSystem"),y=e.querySelector("AdTitle"),S=e.querySelector("Creative"),T=h(e.id)?e.id:void 0,E=wh(xh,{preserveConstructors:!1});E.adId=T,S&&(E.creativeId=h(S.id)?S.id:void 0),E.parseIndex=void 0===Cp?(Cp=0,Cp):++Cp,E.randomHexString=v(16);const b=e.querySelector("InLine"),C=e.querySelector("Wrapper"),P=Boolean(b);if(P===Boolean(C)){if(P)throw new Sc({code:i?"YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION":"INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",details:void 0});throw new Sc({code:i?"YANDEX_NO_INLINE_OR_WRAPPER_NODE":"NO_INLINE_OR_WRAPPER_NODE",details:void 0})}if(E.adVerifications=function(e){const t=[];let i=e.querySelector("AdVerifications");const o=e.querySelector("Extensions");if(!i&&o&&(i=o.querySelector('[type="AdVerifications"]>AdVerifications')),!i)return t;const r=i.querySelectorAll("Verification"),n=[];if(Boolean(r))for(const a of Array.from(r)){const e=a.getAttribute("vendor"),i=st(a.querySelector("JavaScriptResource")),o={},r=a.querySelectorAll("TrackingEvents>Tracking");if(Boolean(r))for(const t of Array.from(r)){const e=at(t,"event"),i=st(t);h(e)&&h(i)&&(o[e]=i)}const l=st(a.querySelector("VerificationParameters"));h(e)&&h(i)&&s(l)?t.push({vendorKey:e,javaScriptResource:i,trackingEvents:o,verificationParameters:l}):n.push({vendorKey:e,javaScriptResource:i,trackingEvents:o,verificationParameters:l})}return n.length>0&&Bc.error({error:new Sc({code:"OMID_OBJECT_FROM_VERIFICATION_NODE_IN_VAST_IS_INVALID",details:{invalidAdVerifications:JSON.stringify(n)}})}),t}(e),E.sequence=function(e){const t=e.getAttribute("sequence");if(null===t)return-1;const i=parseInt(t,10);return Ct(i)?i:(Bc.error({error:new Sc({code:"INCORRECT_VAST_AD_SEQUENCE_ATTRIBUTE",details:{sequenceAttr:t}})}),-1)}(e),r){const e=st(r.querySelector("ClickThrough"));e&&(E.clickUrlData.vastClickUrl=e);const t=r.querySelectorAll("ClickTracking");for(let i=0;i<t.length;i++)bp(E,"clickThrough",st(t[i]))}if(P&&g){const e=st(g);E.adParameters=e;const t=ft(e);if(o(t)){E.adParametersObject=t;const e=function(e){if(!o(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!o(t))return;const{data_params:i}=t;if(!o(i))return;const{misc:r}=i;if(!o(r))return;const{click_url:n}=r;if(!o(n))return;const{abuse:a}=n;return h(a)?a:void 0}(t);e&&(E.abuseUrl=e),E.serializablePlaybackParameters=gt(t.playbackParameters).config;const i=function(e){if(!o(e))return;const{background:t}=e;return o(t)&&h(t.color)?t.color:void 0}(t);void 0!==i&&(E.backgroundColor=i);const r=function(e){const{PACKSHOT_START_NOTICE_URL:t}=e;if(h(t))return t}(t);r&&bp(E,"packshotStart",r);const{bidreqid:n,campaignid:a,pageId:l,impId:d,vmapRequestId:c}=function(e){if(!o(e))return{};const{AUCTION_DC_PARAMS:t}=e;if(!o(t))return{};const{data_params:i}=t;if(!o(i))return{};const{misc:r}=i;if(!o(r))return{};const{bidreqid:n,campaignid:a,pageId:s,impId:l,vmap_request_id:d}=r;return{bidreqid:h(n)?n:void 0,campaignid:h(a)?a:void 0,pageId:h(s)?s:void 0,impId:h(l)?l:void 0,vmapRequestId:h(d)?d:void 0}}(t);E.bidreqid=n,E.campaignid=a,E.pageId=l,E.impId=d,E.vmapRequestId=c,E.firstFrameImages=et(function(e){var t,i,r,n,a;if(!o(e))return;if(null!=(t=e.firstFrame)&&t.images)return null==(a=e.firstFrame)?void 0:a.images;const s=Ot(e),l=null!=(i=null==s||null==(r=s.assets)?void 0:r.images)?i:null==s||null==(n=s.unmoderated)?void 0:n.images;return kl(l)?Nc(l,(e=>{let[t,i,o]=e;return{width:Number(i),height:Number(o),url:t}})):void 0}(t)),E.productType=ct(t),Object.assign(E.creativeParameters,(e=>{const t=Dt(e),{title:i,body:o,hasTitle:r,hasBody:n}=kt(e),a=It(e);let s,l,d,c,u;if(a){u=a.domain;const{green_url_text_prefix:t,green_url_text_suffix:i,age:o}=a;d=Nt({domain:u,greenUrlTextPrefix:t,greenUrlTextSuffix:i});const r=Rt(e);s=null==r?void 0:r.punyDomain,l=null==r?void 0:r.showTitleAndBody,h(o)&&(c=o)}return{buttonLabel:t,title:r?i:void 0,body:n?o:void 0,domain:u||void 0,punyDomain:s||void 0,showTitleAndBody:l,greenUrl:d,ageRestriction:c,targetUrl:Te(e)}})(t)),E.ecomShop=function(e){if(!o(e))return;const t=lp(e);return null==t?void 0:t.ecomShop}(t);const u=lp(t);u&&Object.assign(E.assets,u),Object.assign(E.clickUrlData,{tgaOfferClickUrl:xt(t),serializablePlaybackParametersClickUrl:E.serializablePlaybackParameters.clickThroughUrl}),function(e){const{tgaOfferClickUrl:t,vastClickUrl:i,serializablePlaybackParametersClickUrl:o}=e,r=Wd([t,i,o],h);0===r.length&&Bc.log({name:"VastAdHasNoClickUrls",data:{clickUrlData:e}}),new up(r).size>1&&Bc.log({name:"VastAdHasDifferentClickUrls",data:{clickUrlData:e}})}(E.clickUrlData),E.bannerFlags=function(e){const t=It(e);if(!o(t))return;const{banner_flags:i}=t;if(!h(i))return;const r=i.split(",");return{medicine:D(r,"medicine"),dietarysuppl:D(r,"dietarysuppl"),businessUnit:D(r,"business_unit")}}(t),E.legalText=function(e){const{LEGAL_TEXT:t,HAS_LEGAL:i}=e;if(i&&h(t))return dp("legalField"),t.trim();const r=It(e);if(!o(r))return;const{warning:n,dynamic_disclaimer:a}=r;return h(n)&&"1"===a?(dp("dynamicDisclaimer"),n):void 0}(t),E.surveyParameters=(e=>{if(!o(e))return;const{pythia:t}=e;if(!o(t))return;const{basePath:i,slug:r,extra:n,"survey-config":a}=t;if(!s(n))return;const l=function(e){if(!o(e))return!1;const{pythia:t}=e;if(!o(t))return!1;const{extra:i}=t;return!!s(i)&&void 0!==I(i).bl_adg}(e),d=new URL(i+"/"+r+"/?"+n),c={host:d.host,pathname:d.pathname,search:d.search};let u=!1;return o(a)&&o(a.surveyContains)&&(u=function(e){const{questionTypes:t,answerImage:i,widget:o}=e;return!o&&!i&&!(!t||0===t.length)&&!!hp(t,(e=>D(pp,e)))&&hp(t,(e=>"choice"===e||"multichoice"===e?"TRUE"===qd.getFlagValueAndActivateTestId("VAS_ENABLE_SURVEY_NEW_DESIGN"):"TRUE"===qd.getFlagValueAndActivateTestId("VAS_ENABLE_SCALE_LIKE_SURVEY_NEW_DESIGN")))}(a.surveyContains)),{surveyConfig:a,location:c,isBrandLiftSurveyCreative:l,isNewDesignSupported:u,surveyMinSize:Ft(a,u)}})(t)}}if(C){const t=st(e.querySelector("VASTAdTagURI"));if(!t)throw new Sc({code:i?"YANDEX_NO_VAST_AD_TAG_URI":"NO_VAST_AD_TAG_URI",details:void 0});E.vastAdTagUri=t}if(void 0!==n)for(let o=0;o<n.length;o++){const e=dt(n[o]);e&&E.mediaFiles.push(e)}for(let o=0;o<c.length;o++){const e=at(c[o],"event"),t=st(c[o]);if("progress"===e){const e=at(c[o],"offset","");if(h(e)){const o=bt(e);void 0===o?Bc.error({error:new Sc({code:i?"YANDEX_VAST_INCORRECT_PROGRESS_OFFSET":"VAST_INCORRECT_PROGRESS_OFFSET",details:{url:t,offsetString:e}})}):E.progressTrackings.push({urls:[t],offset:o})}else Bc.error({error:new Sc({code:i?"YANDEX_VAST_EMPTY_PROGRESS_OFFSET":"VAST_EMPTY_PROGRESS_OFFSET",details:{url:t,offsetString:e}})})}else bp(E,e,t)}Ol(u,(e=>{bp(E,"impression",st(e))}));for(let o=0;o<p.length;o++)bp(E,"error",st(p[o]));for(let o=0;o<_.length;o++)E.icons.push(rp(_[o]));if(m){const e=m.querySelectorAll('Extension[type="skipAd"]');for(let i=0;i<e.length;i++)Bc.log({name:"UsingSkipAdExtensionInVast"}),bp(E,"skip",st(e[i]));const t=m.querySelector('Extension[type="skipTime"]');if(lt(t)){const e=Et(st(t));Bc.log({name:"UsingSkipTimeExtensionInVast",data:{skipTime:e}}),E.skipTime=Et(st(t)),E.skipTime>180&&(E.skipTime=0)}const r=m.querySelector('Extension[type="controls"]');if(r){const e=(e=>{const t=Pt({},op),i=e.querySelector('control[id="countdown"]');i&&(t.showCountDown="0"!==at(i,"layout"));const o=e.querySelector('control[id="soundbtn"]');o&&(t.showSoundButton="0"!==at(o,"layout"));const r=e.querySelector('control[id="adlabel"]');return r&&(t.showLabel="0"!==at(r,"layout")),t})(r);Bc.log({name:"UsingControlsExtensionInVast",probability:pc,data:{imhoParams:e}}),E.imhoParams=e}const n=m.querySelector('Extension[type="AdTitle"]');if(n){const{errors:e,params:t}=(e=>{const t=st(e),i=[];let o;try{o=JSON.parse(t)}catch(G_){i.push(Tc(G_))}if(!o)return{errors:i,params:void 0};const r=Tp(o);return r.errors?{errors:r.errors,params:void 0}:{errors:void 0,params:r.params}})(n);null!=e&&e.length?Bc.error({error:new Sc({code:i?"YANDEX_VAST_INCORRECT_AD_TITLE_EXTENSION_XML":"VAST_INCORRECT_AD_TITLE_EXTENSION_XML",details:{errors:e}})}):(Bc.log({name:"UsingAdTitleExtensionInXMLVast",probability:pc}),E.adTitleParameters=t)}const s=m.querySelector('Extension[type="yandex_ad_info"]');if(s){Bc.log({name:"UsingYandexAdInfoExtensionInVast",probability:pc});const{errors:e,params:t}=(e=>{var t;const i=st(e),r=[];let n;try{n=JSON.parse(i)}catch(G_){r.push(Tc(G_))}if(!n)return{errors:r,params:void 0};if(!o(n))return r.push(new Error("[parseYandexAdInfoParamsFromXML] parsed but not an object.")),{errors:r,params:void 0};const a=null==(t=n.click_url)?void 0:t.action_button;return h(a)?{errors:void 0,params:{clickUrl:a,punyDomain:h(n.punyDomain)?n.punyDomain:void 0,targetUrl:h(n.targetUrl)?n.targetUrl:void 0}}:(r.push(new Error("[parseYandexAdInfoParamsFromXML] clickUrl is not string.")),{errors:r,params:void 0})})(s);null!=e&&e.length?Bc.error({error:new Sc({code:i?"YANDEX_VAST_INCORRECT_YANDEX_AD_INFO_EXTENSION_XML":"VAST_INCORRECT_YANDEX_AD_INFO_EXTENSION_XML",details:{errors:e}})}):E.yandexAdInfoExtensionParams=t}const l=a((()=>{Bc.log({name:"UsingCustomTrackingExtensionInVast",probability:pc})})),d=m.querySelector('Extension[type="CustomTracking"]'),c=d?d.querySelectorAll("Tracking"):[];for(let i=0;i<c.length;i++){l();const e=at(c[i],"event");bp(E,e,st(c[i]))}const u=m.querySelector('Extension[type="AdTune"]');if(u){const{params:e,errors:t}=(e=>{const t=[],i=(e=>{try{return{json:JSON.parse(e)}}catch(Ww){return{error:{reason:"failed to parse json",details:Tc(Ww).message}}}})(st(e));if(i.error)return t.push(i.error),{errors:t};if(!o(i.json)||kl(i.json))return t.push({reason:"adtune text content is not an object"}),{errors:t};const r=Ep(i.json);return r.errors&&t.concat(r.errors),t.length>0?{errors:t}:{params:r.params}})(u);t&&Bc.error({error:new Sc({code:i?"YANDEX_VAST_INCORRECT_ADFOX_ADTUNE_EXTENSION_XML":"VAST_INCORRECT_ADFOX_ADTUNE_EXTENSION_XML",details:{errors:Nc(t,(e=>JSON.stringify(e)))}})}),e&&(Bc.log({name:"UsingAdFoxAdTuneExtensionInXMLVast",probability:pc}),E.adTune=e)}}if(lt(A)&&(E.description=st(A)),lt(f)){E.adSystem=st(f);const e=at(f,"dspLabel");h(e)&&(E.dspLabel=e)}if(lt(y)&&(E.adTitle=st(y)),l){const e=at(l,"skipoffset","").trim();if(""!==e){const t=Et(e);isNaN(t)?Tt(new Sc({code:i?"YANDEX_INCORRECT_SKIPOFFSET_FORMAT":"INCORRECT_SKIPOFFSET_FORMAT",details:{nodeValue:e}}),E.trackingEvents.error):E.skipOffset=t}const t=l.querySelector("Duration");t&&(E.duration=Et(st(t)))}return E},wp=async e=>{var t;let{url:i,loadParameters:o,isWrapper:r=!1}=e;if(!i)return Promise.reject(new Sc({code:"VAST_URL_IS_NOT_DEFINED",details:void 0}));const{vastTimeout:n}=o;Bc.log({name:r?"WrapperVastLoadStart":"VastLoadStart",data:{url:i,loadParameters:o,timeout:n}});const a=Date.now(),s=await Op({url:i,loadParameters:o,isWrapper:r}),l=s.ads[0],d=Te(null==l?void 0:l.adParametersObject),c=Boolean(d),u=we(l),h=fe(p=i)?"AD_FOX":ye(p)?"YANDEX":"EXTERNAL";var p;const m=null!=(t=o.adPlacementOptions.adBreakType)?t:o.adBreakType;return Bc.log({name:r?"WrapperVastLoadSuccess":"VastLoadSuccess",data:{url:i,timeout:o.vastTimeout},values:{adsCount:s.ads.length,timeSpent:Date.now()-a},sensors:{adBreakType:m,firstAdPodFormatType:u,vastSource:h,hasTargetUrl:c}}),s},Op=async e=>{let{url:t,loadParameters:i,isWrapper:o=!1}=e;const{vastTimeout:r}=i,n=ye(t),a="VASFrame"===i.requestMethod?Wu:Gu,s=ye(t),l="boolean"===typeof jd.hardcodedParams.adsdkwithcredentials?jd.hardcodedParams.adsdkwithcredentials:s;try{const{responseText:e,responseStatus:o}=await Ye({url:t,data:null,timeout:r,doRequest:a,withCredentials:l});if(function(e,t,i,o){if(200===i)return;if(204===i&&0===t.length)return void Bc.log({name:"NoContentVastResponseWithEmptyText",data:{url:e,isYandexUrl:o},probability:pc});let r;switch(t){case"\x3c!-- Bad partner/domain --\x3e":r="BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST";break;case"\x3c!-- PageImp data not found --\x3e":r="BAD_IMP_ID_FOR_VAST_REQUEST";break;default:r=o?"YANDEX_UNEXPECTED_VAST_RESPONSE_TEXT":"UNEXPECTED_VAST_RESPONSE_TEXT"}if(r)throw new Sc({code:r,details:{url:e,responseText:t,responseStatus:i}})}(t,e,o,n),204===o)throw new Sc({code:"NO_AD_SECTION",details:{reason:"status-204"}});return Ip({xmlString:e,loadParameters:i,vastUrl:t})}catch(Ww){const a="AD_FOX"===i.vastSourceType;let s,l;s=ne(Ww)?Ww.code:a?"ADFOX_VAST_LOAD_ERROR":n?"YANDEX_VAST_LOAD_ERROR":"VAST_LOAD_ERROR",l=o?n?"YANDEX_WRAPPER_VAST_LOAD_TIMEOUT":"WRAPPER_VAST_LOAD_TIMEOUT":n?"YANDEX_VAST_LOAD_TIMEOUT":"VAST_LOAD_TIMEOUT";const d=Ku({thrownError:Ww,errorCode:s,errorDetails:void 0,timeoutCode:l,timeoutDetails:{vastTimeout:r,url:t}});return Promise.reject(d)}},Ip=async e=>{var t,r,n,a,l,d;let{loadParameters:u,vastUrl:m,xmlString:A}=e;const v=ze(A),_="YANDEX"===u.vastSourceType;if(!v){const e=(()=>{switch(u.vastSourceType){case"YANDEX":return"YANDEX_INVALID_VAST_XML";case"AD_FOX":return"ADFOX_INVALID_VAST_XML";default:return"INVALID_VAST_XML"}})();throw new Sc({code:e,details:{xmlString:A,vastUrl:m}})}const g=v.querySelector("VAST");if(!g)throw new Sc({code:"NO_AD_SECTION",details:{reason:"no-vast-tag"}});const f=g.getAttribute("version");if(!function(e){if(!Boolean(e))return!0;if(!s(e))return!1;const t=Number(e.split(".")[0]);return!!i(t)&&t<=4}(f))throw new Sc({code:_?"YANDEX_INCOMPATIBLE_VAST_VERSION":"INCOMPATIBLE_VAST_VERSION",details:{xmlString:A,version:f}});const y="true"===g.getAttribute("ya-uniformat"),S="true"===g.getAttribute("ya-has-banner-storage-ad"),T=D(["Yabs Ad Server","Yabs Ad CPC Server"],null!=(t=null==(r=g.querySelector("AdSystem"))?void 0:r.textContent)?t:""),E=z(g.querySelectorAll("VAST Ad"));let b;if(0===E.length)b=function(e){let{isUniformat:t,xmlVastNode:i,xmlString:r}=e;const n=wh(Lh,{preserveConstructors:!1}),a=i.querySelector('Extension[type="aim"]');if(!a)return n;const s=a.textContent;if(!s)return n;const l=p((()=>JSON.parse(s)),(()=>{throw new Sc({code:"NO_AIM_SCREEN_JSON_IS_INVALID",details:{aimConfig:s}})}));if(!o(l))throw new Sc({code:"NO_AIM_SCREEN_JSON_IS_NOT_AN_OBJECT",details:{aimConfig:l}});Bc.log({name:"NoAimScreenDataParsed",data:{aimNodeConfig:s},probability:1});const{isActive:d,filterReasons:c}=l;if("boolean"!==typeof d)throw new Sc({code:"NO_AIM_SCREEN_INVALID_IS_ACTIVE_PARAMETER",details:{aimConfig:s}});if(!d)return n;if(!kl(c))throw new Sc({code:"NO_AIM_SCREEN_FILTER_REASONS_IS_NOT_ARRAY",details:{filterReasons:c}});const u=[];for(const o of c){if(!nt(o))throw new Sc({code:"NO_AIM_SCREEN_FILTER_REASON_INVALID",details:{filterReasons:c}});u.push(o)}const h={controlsSettings:{visibility:!1,controlsVisibility:{}},trackingEvents:{},lang:"ru",contentAfterAd:Vh},m={playbackParameters:h,mediaFiles:[Mh],adParameters:{filterReasons:u}};return{isUniformat:t,ads:[rt({},wh(xh,{preserveConstructors:!1}),{duration:15,serializablePlaybackParameters:h,mediaFiles:[Nh],adParameters:JSON.stringify(m),adParametersObject:m})],children:[],xmlString:r,url:void 0}}({isUniformat:y,xmlVastNode:g,xmlString:A});else{const e=[],t=Nc(E,(t=>{const i=Pp(t,{isYandexVastUrl:_}),{vastAdTagUri:o}=i;if(!o)return[i];if(u.remainingLoadWrapperVastCount<=1)return Bc.error({error:new Sc({code:_?"YANDEX_WRAPPER_VAST_MAX_COUNT_LIMIT":"WRAPPER_VAST_MAX_COUNT_LIMIT",details:void 0})}),[];const{adPlacementOptions:r}=u;return wp({url:Xe({url:o,options:r,win:window}),loadParameters:Ht({},u,{remainingLoadWrapperVastCount:u.remainingLoadWrapperVastCount-1}),isWrapper:!0}).then((t=>(e.push(t),Nc(t.ads,(e=>{var t,o;return t=e,(o=i).mediaFiles.length&&(t.mediaFiles=[...t.mediaFiles,...o.mediaFiles]),Ol(c(o.trackingEvents),(e=>{t.trackingEvents[e]=[...t.trackingEvents[e]||[],...o.trackingEvents[e]||[]]})),o.clickUrlData.vastClickUrl&&(t.clickUrlData.vastClickUrl=o.clickUrlData.vastClickUrl),null===t.skipTime&&(t.skipTime=o.skipTime),null===t.skipOffset&&(t.skipOffset=o.skipOffset),t.progressTrackings.push(...o.progressTrackings),isNaN(t.duration)&&(t.duration=o.duration),-1===t.sequence&&(t.sequence=o.sequence),t.adSystem||(t.adSystem=o.adSystem),h(o.dspLabel)&&(t.dspLabel=o.dspLabel),e}))))).catch((e=>(ne(e)?Bc.error({error:e}):Bc.error({error:new Sc({code:_?"YANDEX_WRAPPER_VAST_LOAD_ERROR":"WRAPPER_VAST_LOAD_ERROR",details:{error:e,vastAdTagUri:o,parsingParameters:u}})}),[])))}));b={ads:Ke(await Promise.all(t)),xmlString:A,children:e,url:m,isUniformat:y}}const C=b.ads[0],P=!!Boolean(C)&&function(e){var t,i,o;const r=Gc(null==(t=e.adParametersObject)||null==(i=t.AUCTION_DC_PARAMS)?void 0:i.data_params),n=null==r||null==(o=r.assets)?void 0:o.images;return void 0!==n&&kl(n)&&n.length>0}(C),w=(null==C?void 0:C.firstFrameImages.length)>0,O=void 0!==(null==C?void 0:C.legalText),I=void 0!==(null==C?void 0:C.bannerFlags),k=!0===(null==C||null==(n=C.bannerFlags)?void 0:n.businessUnit),N=!0===(null==C||null==(a=C.bannerFlags)?void 0:a.medicine),R=!0===(null==C||null==(l=C.bannerFlags)?void 0:l.dietarysuppl),V=!0===(null==C||null==(d=C.adParametersObject)?void 0:d.isStock),L=function(e){var t;const i=null==(t=e.ads[0])?void 0:t.productType;return void 0===i?"unknown":qe(i)}(b);let x;return x=!0===L?"cpm":!1===L?"other":"unknown",Bc.log({name:"CreateVastFromXMLString",data:{vastXmlString:A},sensors:{uniformat:b.isUniformat,hasBannerStorageAd:S,isYabsAd:T,firstAdPodHasImages:P,firstAdPodHasFirstFrameImage:w,firstAdPodCreativeType:x,firstAdPodHasLegalText:O,firstAdPodHasBannerFlags:I,firstAdPodHasBuBannerFlag:k,firstAdPodHasMedicineBannerFlag:N,firstAdPodHasDietarysupplBannerFlag:R,firstAdPodIsStock:V}}),b},kp={bids:[],creatives:{},creativeUrls:{}};class Np extends xc{constructor(e){super(),this.onFetchBidsStart=new Gd,this.postMessageRequestId=Yd+"_"+v(16),this.params=e,this.addDestroyHandler((()=>{this.onFetchBidsStart.removeAll()})),this.requestPromise=new Promise((e=>{this.addDestroyHandler(e)})),this.requestBids()}requestBids(){Bc.log({name:"HBRequestStart",data:this.getDataForLogs()}),this.subscribeHBMessages(),this.sendBidsRequest().then((async e=>{let{timeout:t}=e;Bc.log({name:"HBFetchBidsStart",data:Gt({},this.getDataForLogs(),{timeout:t})});const{clear:i,promise:o}=Yc(t,window);throw this.addDestroyHandler(i),await o,new Sc({code:"HB_FETCH_BIDS_TIMEOUT",details:Gt({},this.getDataForLogs(),{timeout:t})})})).catch((e=>{Bc.errorToStats(e),this.destroy(kp)}))}subscribeHBMessages(){this.addDestroyHandler(Ie({element:this.params.win,eventName:"message",listener:e=>{const{data:t,source:i}=e;if(!o(t)||!o(i))return;const{id:r,methodName:n}=t;if(r===this.postMessageRequestId)switch(n){case"FetchBidsStart":this.handleFetchBidsStartEventData(t.data);break;case"FetchBidsComplete":this.handleFetchBidsCompleteEventData(t.data);break;case"FetchBids":break;default:Bc.error({error:new Sc({code:"HB_MESSAGE_UNKNOWN_METHOD",details:Gt({},this.getDataForLogs(),{methodName:n})})})}}}))}handleFetchBidsStartEventData(e){if(!o(e))return void Bc.error({error:new Sc({code:"HB_MESSAGE_NON_OBJECT_DATA",details:this.getDataForLogs()})});const{timeout:t}=e;i(t)?this.onFetchBidsStart.dispatch({timeout:t}):Bc.error({error:new Sc({code:"HB_MESSAGE_INVALID_START_TIMEOUT",details:Gt({},this.getDataForLogs(),{timeout:t})})})}handleFetchBidsCompleteEventData(e){try{const{bids:t,creatives:i,creativeUrls:r,warnings:n}=function(e,t){const i=[];if(!Array.isArray(e))throw new Sc({code:"HB_NON_ARRAY_BIDS_DATA",details:Wt({},t,{fetchedBids:e})});e.length>1&&i.push(new Sc({code:"HB_EXTRA_BIDS_DATA",details:Wt({},t,{fetchedBids:e})}));const[r]=e;if(!o(r))throw new Sc({code:"HB_NON_OBJECT_BIDS_DATA",details:Wt({},t,{fetchedBids:e})});const{bids:n,creatives:a,creativeUrls:l}=r;if(!Array.isArray(n)||!hp(n,o))throw new Sc({code:"HB_INVALID_BIDS_OBJECTS",details:Wt({},t,{fetchedBids:e})});if(!o(a)||!hp(Yt(a),s))throw new Sc({code:"HB_BIDS_INVALID_CREATIVES",details:Wt({},t,{fetchedBids:e})});if(!o(l)||!hp(Yt(l),s))throw new Sc({code:"HB_BIDS_INVALID_CREATIVE_URLS",details:Wt({},t,{fetchedBids:e})});return{bids:n,creatives:a,creativeUrls:l,warnings:i}}(e,this.getDataForLogs()),a={bids:t,creatives:i,creativeUrls:r};_e(n),Bc.log({name:"HBFetchBidsComplete",data:Gt({},this.getDataForLogs(),{fetchedBidsObject:a})}),this.destroy(a)}catch(Ww){Bc.errorToStats(Ww)}}sendBidsRequest(){const{win:e,adBreakType:t,adFoxParameters:i}=this.params,o=H(e),r={id:this.postMessageRequestId,methodName:"FetchBids",data:[{containerId:i.containerId,adBreakType:t}]};for(const s of o)jt(Gt({win:s},r));const{promise:n,clear:a}=Yc(100,window);return this.addDestroyHandler(a),new Promise(((t,i)=>{n.then((()=>{const{promise:t,teardown:i}=function(e){let t;const i=Math.random(),o=new Promise((o=>{t=Ie({element:e,eventName:"message",listener:e=>{let{data:r}=e;r===i&&(t(),o())}}),e.postMessage(i,"*")}));return{teardown:t,promise:o}}(e);return this.addDestroyHandler(i),t})).then((()=>{i(new Sc({code:"HB_HANDSHAKE_TIMEOUT",details:this.getDataForLogs()}))})).catch(i);const o=zt((e=>{a(),t(e)}),(e=>{Bc.error({error:new Sc({code:"HB_START_MULTIPLE_TIMES",details:Gt({},this.getDataForLogs(),{data:e})})})}));this.addDestroyHandler(this.onFetchBidsStart.add(o))}))}getDataForLogs(){const{adBreakType:e,adFoxParameters:t}=this.params;return{adBreakType:e,adFoxParameters:t,postMessageRequestId:this.postMessageRequestId}}}const Dp=function(e){return void 0===e&&(e=window),e.devicePixelRatio||e.screen.deviceXDPI&&e.screen.deviceXDPI/e.screen.logicalXDPI||1},Rp=function(e){return void 0===e&&(e=window),"BackCompat"===e.document.compatMode};var Vp,Lp;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(Vp||(Vp={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(Lp||(Lp={}));const xp=e=>Math.max(0,Math.round(e));class Bp{constructor(){this.config=function(){const e={width:window.innerWidth,height:window.innerHeight},t=Rp(),i={win_width:xp(e.width),win_height:xp(e.height),pixel_ratio:Dp(),bandwidth:Xt()};return t&&(i.quirks=t),i}()}set(e,t){this.config[e]=t}get(e){return this.config[e]}toString(){return JSON.stringify(this.config)}}const Mp=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],Up="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";ti();const Fp=()=>0,Hp=(e,t)=>{const i=e.toString();return"0000".substr(0,t-i.length)+i},zp=e=>{const t=e.getFullYear(),i=Hp(e.getMonth()+1,2),o=Hp(e.getDate(),2),r=Hp(e.getHours(),2),n=Hp(e.getMinutes(),2),a=Hp(e.getSeconds(),2),s=Hp(e.getMilliseconds(),3),l=(e=>{const t=-e.getTimezoneOffset();return(t>=0?"+":"-")+Hp(Math.floor(Math.abs(t)/60),2)+":"+Hp(Math.abs(t)%60,2)})(e);return t+"-"+i+"-"+o+"T"+r+":"+n+":"+a+"."+s+l},jp=()=>function(e,t){let i=1+4294967295*Wl();return i=Math.floor(i),i}();let Yp=0;const Wp=[/avito/],Gp=["slide","visibleAfterInit","stick","stickTo","stickyColorScheme","replayMode","preload"],Xp=["ya","ndex.ru/ads/adf","ox"].join("");class Kp extends xc{constructor(e){super(),this.params=e;const{promise:t,clear:i}=Yc(3e3,e.win);this.loadingTimeoutPromise=t,this.addDestroyHandler(i),this.loadVastPromise=this.processAdFoxVastLoading().catch((e=>{throw Bc.error({error:e}),this.destroy(),e}))}async processAdFoxVastLoading(){var e;const{adConfig:t,adPlacementOptions:i}=this.params;let{adFoxParameters:o}=t;const{bids:r,containerId:n}=o;if(!r&&n){const e=new Np({adBreakType:this.params.adBreakType,adFoxParameters:pi({},o,{containerId:n}),win:window});this.addDestroyHandler((()=>{e.destroy(kp)}));const i=await Promise.race([e.requestPromise,this.loadingTimeoutPromise.then((()=>{throw new Sc({code:"HB_VAST_LOAD_TIMEOUT",details:{adConfig:t,timeout:3e3}})}))]);o=pi({},o,i)}const a={},s=await Promise.race([hi({adFoxParameters:o,adPlacementOptions:i,secureMode:t.secureMode,__requestInfoForLogs:a}),this.loadingTimeoutPromise.then((()=>{throw new Sc({code:"ADFOX_AD_DATA_LOADING_TIMEOUT",details:{adConfig:t,adFoxParameters:o}})}))]),{vastBase64:l}=s;if(l){const e=await this.processBase64Vast(l).catch((e=>{throw new Sc({code:"ADFOX_VAST_BASE64_LOAD_ERROR",details:{adConfig:t,vastBase64:l,error:e,adFoxUrl:a.adFoxUrl,responseText:a.responseText,responseHeaders:a.responseHeaders}})}));return Bc.log({name:"AdFoxVastLoadedUsingHB",data:{adConfig:t}}),this.destroy(),e}const d=await this.processLoadingHBCreativeUsingCampaignId(o,s),c=Wd(null!=(e=o.bids)?e:[],(e=>""+(e.campaign_id||"")===s.campaignId));return Ol(c,(e=>{let{win_notice:t}=e;t&&Ol(d.ads,(e=>{e.trackingEvents.creativeView||(e.trackingEvents.creativeView=[]),e.trackingEvents.creativeView.push(t)}))})),Bc.log({name:"AdFoxVastLoaded",data:{adConfig:t}}),this.destroy(),d}processLoadingHBCreativeUsingCampaignId(e,t){let{campaignId:i}=t;const{adConfig:o}=this.params,{creatives:r={},creativeUrls:n={}}=e,{wrapperMaxCount:a}=o,s=r[i],l=n[i];if(!s&&!l)throw new Sc({code:"HB_CREATIVE_IS_NOT_FOUND",details:{adConfig:o,adFoxParameters:e,campaignId:i}});return s?this.processBase64Vast(s).catch((e=>{throw new Sc({code:"HB_VAST_BASE64_LOAD_ERROR",details:{adConfig:o,vastBase64:s,error:e}})})):wp({url:l,loadParameters:Se({adConfig:o,adBreakType:this.params.adBreakType,remainingLoadWrapperVastCount:a,isAdFox:!0,adPlacementOptions:Sl})}).catch((e=>{throw new Sc({code:"HB_VAST_URL_LOAD_ERROR",details:{adConfig:o,vastUrl:l,error:e}})}))}processBase64Vast(e){let t;try{t=ge(e)}catch(Ww){const t=Tc(Ww);throw new Sc({code:"ADFOX_VAST_BASE64_PARSING_ERROR",details:{error:t}})}return Ip({xmlString:t,loadParameters:Se({adConfig:this.params.adConfig,adBreakType:this.params.adBreakType,remainingLoadWrapperVastCount:this.params.adConfig.wrapperMaxCount,isAdFox:!0,adPlacementOptions:Sl}),vastUrl:void 0})}}const qp=function e(t){return ql(t,((t,i)=>t.concat(kl(i)?e(i):i)),[])},Qp=e=>{const t=e.match(/(.*?)[?#]/);return null===t?e:t[1]},Jp=e=>{const{protocol:t}=w(e);return"blob:"===t?e:ye(e)?ue(window)?e:N(e,{[qu]:Yd}):e},Zp=e=>mi({},e,{url:Jp(e.url)}),$p="ad-creative-animation/javascript",em={MotionTailor:"motion_ad_creative",Survey:"survey"},tm=fi({},{InPage:"inpage",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"},em),im=Z(em,(e=>e+".js")),om=(gi(im),Z(im,(e=>"https://"+Fd+"/"+Jc+"/"+e))),rm=gi(om),nm=yi({},Oh,{url:om.MotionTailor,type:$p}),am=Si({},Oh,{url:om.Survey,type:$p}),sm=["tickerData","interactiveElements","mediaFiles","adTitle","adTune"],lm=["AUCTION_DC_PARAMS","HAS_BUTTON","HAS_AGE","HAS_LEGAL","LEGAL_TEXT"],dm=["https://"+Fd+"/pcode/media/vpaid-pythia-survey-embed.js"],cm=e=>{const{mediaFiles:t}=e;return Array.isArray(t)&&Hc(t,(e=>D(su,e.url)))},um="about:blank",hm=e=>{let{additionalParams:t,videoContentId:i,videoContentName:o,videoPublisherId:r,videoPublisherName:n,videoGenreId:a,videoGenreName:s,musicArtistId:l,musicGenreId:d,musicGenreName:c}=e;const{ICOOKIE:u,TEST_IDS:h,AB_FLAGS:p}=jd;return Fi({},Ui(t),{"video-content-id":i,"video-content-name":o,"video-publisher-id":r,"video-publisher-name":n,"video-genre-id":Mi(a),"video-genre-name":Mi(s),"meta-request-index":void 0,"meta-impid-request-index":void 0,music_artist_id:l,"music-genre":d,"music-genre-name":c,"ad-session-id":vh(),[hd]:jd.hardcodedParams["aim-banner-id"],[pd]:jd.hardcodedParams["aim-design-id"],[md]:jd.hardcodedParams["aim-design-name"],[Ad]:jd.hardcodedParams["aim-subdesign-id"],"pcode-icookie":u,"pcode-test-ids":h,"pcode-flags":JSON.stringify(p),"pcode-version":void 0,"widget-version":void 0,uniformat:"true"})},pm=e=>{let{adConfig:t,win:i,repeatNumber:o,sessionId:r}=e;const{targetRef:n,width:a,height:s,tagsList:l,extParam:d,distrId:c,metaRequestIndex:u,metaImpIdRequestIndex:h}=t,p=i.document.referrer,m=y(i);let A;return n?(A=n,Bc.log({name:"UsingTargetRefApiParameter",data:{adConfig:t}})):m===um?(A=p,Bc.log({name:"UsingTargetRefAboutBlankFallback",data:{adConfig:t}})):A=m,A=Bi(A),Hi({},hm(t),{"meta-request-index":void 0===u?void 0:String(u),"meta-impid-request-index":void 0===h?void 0:String(h),"repeat-number":Ct(o)?String(o):void 0,"target-ref":A,"page-ref":p,"video-width":a,"video-height":s,"tags-list":Mi(l),"ext-param":d,"video-session-id":r,"distr-id":c,"enable-page-options":"TRUE"===qd.getFlagValueAndActivateTestId("VAS_REMOVE_ENABLE_PAGE_OPTIONS_PARAM_FROM_LINK")?void 0:"65536",grab:zi()})},mm="Yabs Ad Server",Am=[mm,"AWAPS","Yandex Ad Server","Yandex Advertising Partner"],vm=["AdFox.Ru","ADFOX"],_m=document.createElement("video"),gm="function"===typeof _m.load?function(e,t){void 0===t&&(t=_m);try{return Boolean(t.canPlayType(e).replace(/no/,""))}catch(G_){const o=l(t.canPlayType),r=l(String.prototype.replace);return Bc.error({error:new Sc(G_,{code:"FAILED_TO_CHECK_VIDEO_CAN_PLAY_TYPE",details:{type:e,isCanPlayTypeNative:o,isStringReplaceNative:r}})}),!1}}:()=>!1,fm=["application/vnd.apple.mpegurl","application/x-mpegurl"];var ym,Sm;const Tm=null!=(ym=null!=(Sm=window.URL)?Sm:window.webkitURL)?ym:{},Em=L(Tm.createObjectURL)&&L(Tm.revokeObjectURL)?Tm:void 0,bm=xd({propertyName:"YANDEX_VIDEO_PRELOADER_GLOBAL_CALLBACK_PROPERTY_NAME"});class Cm{constructor(e,t){this.mediaAd=e,this.adMediaFile=t}preload(){const{firstFrameImages:e}=this.mediaAd.vastAd,t=Ji(e,this.adMediaFile);t&&Zi(t.url);const i=Zp(this.adMediaFile),{type:o}=i;return(e=>!!h(e)&&!!gm(e)&&(e=>Boolean(Em)&&!$i(e))(e))(o)?(bm.call({callbackArguments:[{mediaFile:i,videoPreloader:this}]}),this.preloadToBlob(i).then((e=>({firstFrameImage:t,mediaFile:null!=e?e:i})))):Promise.reject(new Error(o+" cannot be preloaded"))}cancel(){void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0)}destroy(){this.cancel(),s(this.blobUrl)&&(null==Em||Em.revokeObjectURL(this.blobUrl))}async preloadToBlob(e){const{response:t}=await(i={method:"GET",url:e.url,responseType:"blob",onBeforeSend:e=>this.xhr=e},new Promise(((e,t)=>{re(Ki({},i,{onSuccess:e,onError:t}))})));var i;return this.blobUrl=null==Em?void 0:Em.createObjectURL(t),eo({},e,{url:this.blobUrl})}}const Pm=e=>!(!(e=>{const t=e.document;return"documentMode"in t&&"undefined"!==typeof t.documentMode})(e)&&!(e=>{const t=e.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0})(e)),wm=(e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&lc(e))(window),Om=wm?"ES2017":"ES5",Im="utf-8",km={onBeforeLoad:e=>{((e,t)=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t})(e,ro({},Oe(jd,qd)))}},Nm=e=>{(e=>{e.crossOrigin="anonymous"})(e),null==km.onBeforeLoad||km.onBeforeLoad(e)},Dm="YS Text, -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif",Rm=1e3;class Vm extends xc{constructor(){super(),this.isStarted=!1,this.spent=0,this.callbacks=[],this.timeoutId=0,this.recalculateTimeAndDispatchCallbacks=()=>{if(!this.isStarted)return;const e=Date.now();if(this.spent+=e-this.lastStartTime,this.lastStartTime=e,this.dispatchCallbacksByTime(),this.callbacks.length<=0)return;const{time:t}=this.callbacks[0];window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.recalculateTimeAndDispatchCallbacks,t-this.spent)},this.addDestroyHandler((()=>{this.stop()}))}start(){this.isStarted||this.isDestroyed||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())}stop(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)}getTime(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent}addCallback(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())}waitForTime(e){return new Promise((t=>{this.addCallback(e,t)}))}addCallbackToArray(e,t){const i={time:e,callback:t};for(let o=0;o<this.callbacks.length;o++){const{time:t}=this.callbacks[o];if(t>=e)return void this.callbacks.splice(o,0,i)}this.callbacks.push(i)}dispatchCallbacksByTime(){const[e,t]=Yi(this.callbacks,(e=>{let{time:t}=e;return t<=this.spent}));this.callbacks=t,Ol(e,(e=>{let{callback:t}=e;t()}))}}const Lm=so({},yu,{display:"flex",flexDirection:"column",justifyContent:"center",fontFamily:Dm,padding:"14px",backgroundColor:"#f4f6fb",fontSize:"14px",color:"#a3acbf",boxSizing:"border-box"}),xm={fontWeight:"600",fontSize:"16px",color:"#3a3d40",textAlign:"center"},Bm={listStyle:"none",margin:"0px",padding:"0px",alignSelf:"flex-start",width:"100%"},Mm=lo({},yu,{display:"flex",justifyContent:"center",alignItems:"center",fontFamily:Dm,backgroundColor:"#fff",fontSize:"14px",color:"#000",backgroundImage:'url("/image-stub?width=100&height=100&size=50&color=9fa8a3")',backgroundRepeat:"repeat",backgroundPosition:"0 0"}),Um="https://"+Fd+"/"+Qc+"/1_0/test-ad-creative.js",Fm=(e,t)=>e+"_"+t;var Hm=e(9233);class zm extends xc{constructor(e){let{win:t,onReport:i}=e;super();const o=t;if(void 0===o.ReportingObserver)return;const r=new o.ReportingObserver((e=>{i({reportSourceEvent:"callback",reports:e,records:r.takeRecords()})}),{buffered:!0});r.observe();const n=r.takeRecords();n.length&&i({reportSourceEvent:"buffered",reports:[],records:n}),this.addDestroyHandler(Ie({element:t,eventName:"beforeunload",listener:()=>{const e=r.takeRecords();e.length>0&&i({reportSourceEvent:"beforeunload",reports:[],records:e})}})),this.addDestroyHandler((()=>{const e=r.takeRecords();e.length>0&&i({reportSourceEvent:"destroy",reports:[],records:e}),r.disconnect()}))}}const jm=w(cc).hostname,Ym=250;let Wm=0;const Gm=[],Xm=(e,t)=>{const i=e.contentDocument.body;return po((()=>{var e;(null==(e=i.ownerDocument)||!e.defaultView)&&t()}))};class Km extends xc{static create(e){const{parentElement:t,attributes:i,scope:o}=e,r=mo(t,i);if(!r)throw uo({scope:o,errorType:"NOT_CREATED",error:new Error,details:void 0});return new Km(vo({},e,{iframe:r}))}static createHidden(e){const{parentElement:t,attributes:i,scope:o}=e,r=Ao(t,i);if(!r)throw uo({scope:o,errorType:"NOT_CREATED",error:new Error,details:void 0});return new Km(vo({},e,{iframe:r}))}constructor(e){super();const{scope:t,iframe:i}=e;this.iframe=i,this.window=this.iframe.contentWindow,this.addDestroyHandler((()=>{ke(i)})),this.addDestroyHandler(Xm(this.iframe,(()=>{this.destroy(uo({scope:t,errorType:"WAS_UNLOADED",error:new Error,details:void 0}))}))),this.addDestroyHandler(ho(this.window,((i,o,r)=>{const n="PRELOADING_IFRAME"===e.scope?void 0:e.provideLogDetails?e.provideLogDetails():void 0;Bc.error({error:uo({scope:t,errorType:o,error:i,details:vo({},n,{error:i,data:r})})})})))}}xd({propertyName:"AD_CREATIVE_PRELOADER_GLOBAL_CALLBACK_NAME"});class qm extends xc{constructor(e){super(),this.animationMediaFile=e,this.addDestroyHandler((()=>{this.cancel()}))}preload(){const e=this.createHiddenIframeForPreloading().contentWindow,{promise:t,teardown:i}=co({animationMediaFile:this.animationMediaFile,win:e});return this.loadAdCreativeMediaFileTeardown=i,t.then((e=>({initAdCreative:e})))}cancel(){void 0!==this.loadAdCreativeMediaFileTeardown&&(this.loadAdCreativeMediaFileTeardown(),this.loadAdCreativeMediaFileTeardown=void 0),void 0!==this.friendlyIFrame&&(this.friendlyIFrame.destroy(void 0),this.friendlyIFrame=void 0)}createHiddenIframeForPreloading(){const e=Km.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME"});return this.friendlyIFrame=e,e.iframe}}const Qm=e=>{let{src:t,win:i}=e;const{promise:o,teardown:r}=ao({src:t,win:i,onBeforeLoad:W});return{promise:o.then((()=>i.getVPAIDAd)),teardown:r}},Jm=["preloadTimeout"];class Zm extends xc{constructor(e,t,i){super(),this.parsedPreloadParams=e,this.jsMediaFile=t,this.vastAd=i,this.addDestroyHandler((()=>{this.cancel()}))}async preload(){var e;const t=function(e,t){if(null==e)return{};var i,o,r={},n=Object.keys(e);for(o=0;o<n.length;o++)i=n[o],t.indexOf(i)>=0||(r[i]=e[i]);return r}(this.parsedPreloadParams,Jm),i=this.jsMediaFile,o=this.createHiddenIframeForPreloading().contentWindow,{promise:r,teardown:n}=Qm({src:i.url,win:o});this.loadVPAIDCreativeModuleTeardown=n;try{await r}catch(Ww){throw new Sc(Ww,{code:"CANNOT_PRELOAD_VPAID_CREATIVE_MODULE"})}return"function"!==typeof(null==(e=o.Ya)?void 0:e.preloadVPAIDAd)?{vpaidWindow:o}:o.Ya.preloadVPAIDAd(_o({},t,{creativeData:{AdParameters:this.vastAd.adParameters}})).readyPromise.then((e=>({creativeData:e,vpaidWindow:o}))).catch((e=>({vpaidWindow:o,vpaidPreloadError:e})))}cancel(){void 0!==this.loadVPAIDCreativeModuleTeardown&&(this.loadVPAIDCreativeModuleTeardown(),this.loadVPAIDCreativeModuleTeardown=void 0),void 0!==this.preloadingIframe&&(this.preloadingIframe.destroy(void 0),this.preloadingIframe=void 0)}createHiddenIframeForPreloading(){const e=Km.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME"});return this.preloadingIframe=e,e.iframe}}class $m extends xc{constructor(e){super(),this.abortController=new AbortController,this.url=e,this.addDestroyHandler((()=>{this.cancel()}))}async preload(){return await function(e){let{url:t,abortController:i}=e;return new Promise(((e,o)=>{const r=new Image;if(r.crossOrigin=ue(window)?"use-credentials":"anonymous",r.src=t,r.complete)return void e(r);i&&i.signal.addEventListener("abort",(()=>{r.src="",o()}));const n=()=>{r.removeEventListener("load",a),r.removeEventListener("error",s)},a=()=>{n(),e(r)},s=e=>{n(),o(e)};r.addEventListener("load",a,{signal:null==i?void 0:i.signal}),r.addEventListener("error",s,{signal:null==i?void 0:i.signal})}))}({url:this.url,abortController:this.abortController}),{}}cancel(){this.abortController.abort()}}const eA="TRUE"===qd.getFlagValueAndActivateTestId("DISABLE_144P_QUALITY"),tA=(fo({},jd.AB_FLAGS),fo({},jd.AB_FLAGS)),iA=e=>tA[e],oA="TRUE"===iA("DISABLE_VP9_CODECS"),rA="TRUE"===iA("ENABLE_H265_CODECS")||void 0,nA="video/webm",aA=e=>{let{type:t,codec:i}=e;return i?t+'; codecs="'+i+'"':t},sA={},lA=e=>{sA[e]||(sA[e]=!0,Bc.log({name:"WrongRequestMediaFileCodec",sensors:{codec:e}}))},dA=a((()=>{Bc.log({name:"MediaFileStringSize"})})),cA=(e=>{const t=Eo(window);return!!t&&Boolean(xe((()=>t.isTypeSupported('video/webm; codecs="vorbis,vp8"'))))})(),uA=Eo(),hA=!id&&gm("video/webm"),pA=cA&&hA,mA=uA&&l(uA),AA=void 0!==window.AbortController&&void 0!==window.fetch&&l(AbortController)&&l(fetch),vA=mA&&AA,_A=qd.getNumberFlagValueAndActivateTestId("VAS_BITRATE_CAP_VALUE"),gA=i(_A)?_A:1e4,fA=a((e=>{Bc.log({name:"InvalidMediaFileBitrate",data:{mediaFile:e}})})),yA=a((e=>{Bc.log({name:"InvalidMediaFileCodec",data:{mediaFile:e}})})),SA=a((e=>{Bc.log({name:"InvalidMediaFileHasAudio",data:{mediaFile:e}})})),TA=a((e=>{Bc.log({name:"InvalidMediaFileWidthHeight",data:{mediaFile:e}})})),EA=a((e=>{Bc.log({name:"InvalidMediaFileVmafAvg",data:{mediaFile:e}})})),bA=a((e=>{Bc.log({name:"InvalidMediaFileTypeEmpty",data:{mediaFile:e}})})),CA=qd.getNumberFlagValueAndActivateTestId("VAS_BITRATE_CAPPING_SOLUTION_MULTIPLIER"),PA=i(CA)?CA:10,wA="TRUE"===qd.getFlagValueAndActivateTestId("DISABLE_FILTER_FOR_CHROME_110_ON_WINDOWS"),OA=e=>{const i=Number(iA(e));return t(i)?i:void 0},IA=OA("MEDIA_FILE_BITRATE_PRIORITY_FACTOR"),kA=Ct(IA)?Co(IA,0,1):1e-6,NA=qd.getFlagValueAndActivateTestId("PERFECT_VPR"),DA=Number(NA),RA=i(DA)?DA:1.3,VA=OA("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_HLS"),LA=Ct(VA)?VA:void 0,xA=OA("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_MP4"),BA=Ct(xA)?xA:void 0,MA=OA("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_UNKNOWN_TYPE"),UA=Ct(MA)?MA:void 0,FA=OA("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_UNSET_TYPE"),HA=Ct(FA)?FA:void 0,zA=OA("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_WEBM"),jA=Ct(zA)?zA:void 0,YA={bitratePriorityFactor:kA,mediaFileTypePriorities:{webm:null!=jA?jA:1,mp4:null!=BA?BA:2,unknown:null!=UA?UA:3,unset:null!=HA?HA:4,hls:null!=LA?LA:1e4},canPlayType:gm,perfectVpr:RA},WA=(e,t,i,o,r,n)=>{const a=e?o:t,s=e?i:r;return{width:a,height:s,top:(n.height-s)/2,left:(n.width-a)/2}},GA=e=>{const{image:t,boundingRectangle:{width:i,height:o},scaleForHorizontal:r=1,scaleForVertical:n=1,pixelRatio:a,stretch:s}=e,l=t.width,d=t.height,c=l/d,u=c>i/o,h=c>1?r:n,p=h*(i<l||s?i:l),m=h*(o<d||s?o:d),A=l*(m/d),v=d*(p/l);return{width:u?p:A,height:u?v:m,url:t.url,size:t.size,imageWidth:t.width,imageHeight:t.height,box:WA(u,p,m,A,v,{width:i,height:o}),coeff:l*d/(i*o*a),isHorizontal:c>1,smartCenters:t.smartCenters}},XA=function(e){var t;void 0===e&&(e={});const i=Array.isArray(e.images)?e.images:[e.images],o=Math.min(2,e.pixelRatio||window.devicePixelRatio||1),r=[];for(const n of i)if(n.width&&n.height&&n.url){const t=No({},e,{pixelRatio:o,image:n});r.push(GA(t))}r.sort(((e,t)=>e.coeff-t.coeff));for(const n of r)if(n.coeff>1)return n;return null!=(t=r[r.length-1])?t:{}},KA=e=>{var t;return null==(t=function(e){let{size:t,images:i}=e;const{width:o,height:r}=t,n=Nc(i,(e=>{if(kl(e)){const[t,i,o,r]=e;return{url:t,width:parseInt(i,10),height:parseInt(o,10),smartCenters:r?r["smart-centers"]:[]}}return e}));return XA({boundingRectangle:{width:o,height:r},images:n,stretch:!0})}(e))?void 0:t.url};class qA extends xc{constructor(e){super(),this.isCancelled=!1,this._isPreloaded=!1,this.preloaders=[];const{params:t,contentType:i,options:o,mediaAd:r,stats:n}=e;this.parsedParams=function(e){const{videoSlot:t,viewMode:i="normal",preloadJS:o=!0,preloadVideo:r=!0}=e,{width:n=t.clientWidth,height:a=t.clientHeight}=e,s=mt(e.desiredBitrate);let{preloadTimeout:l}=e;return("number"!==typeof l||l>Qh)&&(l=Qh),{preloadTimeout:l,width:n,height:a,desiredBitrate:s,viewMode:i,videoSlot:t,preloadJS:o,preloadVideo:r}}(t),this.contentType=i,this.getMediaFiles=o.getMediaFiles,this.getJSMediaFile=o.getJSMediaFile,this.getVastAd=o.getVastAd,this.mediaAd=r,this.stats=n}get isPreloaded(){return this._isPreloaded}get promise(){return this._promise?this._promise:Promise.resolve()}get vpaidWindow(){return this._vpaidWindow}get preloadedVideoFile(){return this._preloadedVideoFile}get preloadedAdCreativeInitFunction(){return this._preloadedAdCreativeInitFunction}get preloadedVpaidAdParameters(){return this._preloadedVpaidAdParameters}get preloadedFirstFramePicture(){return this._preloadedFirstFramePicture}cancelPreloading(e){this.isCancelled||(this.isCancelled=!0,this.isPreloaded||(this._promise&&this.stats.log({name:"PreloadCancelled",data:{reason:e}}),this._promise=void 0,this._vpaidWindow=void 0,this._preloadedVpaidAdParameters=void 0,this._preloadedFirstFramePicture=void 0,this._preloadedAdCreativeInitFunction=void 0,Ol(this.preloaders,(e=>e.cancel()))))}destroy(e){super.destroy(e),this.isCancelled||this.cancelPreloading("Destroy"),Ol(this.preloaders,(e=>e.destroy())),this.preloaders.length=0}async preload(){const e=Yc(this.parsedParams.preloadTimeout,window),t=e.promise.then((()=>this.cancelPreloading("Timeout")));this._promise=this._preload().then((()=>{e.clear()})),await Promise.race([this._promise,t]),this._isPreloaded=!0}async _preload(){try{const{preloadJS:t,preloadVideo:i}=this.parsedParams,o=this.getVastAd();if(Ri(o)){var e;const{parsed:{videoMediaFiles:r,animationMediaFile:n,adParameters:a}}=Xi(null!=(e=o.adParametersObject)?e:o.adParameters),s=[];if(i&&r.length>0){const e=this._preloadVideoFile(r,this.parsedParams);s.push(e)}if(t&&n){const e=this._preloadAdCreative(n);s.push(e)}const l=a?function(e){var t;const i=JSON.parse(e),o=void 0===(r=Do(i))?[]:Nc(r,(e=>{var t;const[i,o,r,n]=e;return{url:i,width:parseInt(o,10),height:parseInt(r,10),smartCenters:null!=(t=null==n?void 0:n["smart-centers"])?t:[]}}));var r;const n=null==(t=lp(i))?void 0:t.multicardImages;return null!=n&&n.length?n.slice(0,2):null!=o&&o.length?[o]:[]}(a):void 0;if(l&&"TRUE"===qd.getFlagValueAndActivateTestId("VAS_PRELOADING_IMAGES")){const e=this._preloadImageFiles(l,this.parsedParams);s.push(e)}return void(await Promise.all(s))}if(i&&"video"===this.contentType)return await this._preloadVideoFile(this.getMediaFiles(),this.parsedParams);if(t&&"js"===this.contentType)return await this._preloadVpaidCreative(this.parsedParams)}catch(Ww){if(this.isCancelled)return;const t=ne(Ww)?Ww:new Sc(Ww,{code:"CANNOT_PRELOAD"});this.stats.error({error:t}),ji(Ww),this.destroy("Error")}}async _preloadAdCreative(e){const t=new qm(e);this.preloaders.push(t);try{const e=await t.preload();this._preloadedAdCreativeInitFunction=e.initAdCreative}catch(Ww){if(ne(Ww))throw Ww;throw new Sc(Ww,{code:"CANNOT_PRELOAD_AD_CREATIVE"})}}async _preloadVpaidCreative(e){var t,i;const o=this.getJSMediaFile();if(!o)return;const r=new Zm(e,o,this.getVastAd());let n;this.preloaders.push(r);try{n=await r.preload()}catch(Ww){const t=ne(Ww)?Ww:new Sc(Ww,{code:"CANNOT_PRELOAD_VPAID_CREATIVE"});return this.stats.error({error:t}),void ji(Ww)}void 0!==(null==(t=n)?void 0:t.vpaidPreloadError)&&this.stats.error({error:new Sc(n.vpaidPreloadError,{code:"CANNOT_PRELOAD_VPAID_CREATIVE"})}),this._vpaidWindow=n.vpaidWindow,this._preloadedVpaidAdParameters=null==(i=n.creativeData)?void 0:i.AdParameters}async _preloadVideoFile(e,t){const{adBreak:i}=this.mediaAd,o=this.mediaAd.getAdPodId(),{width:r,height:n,desiredBitrate:a}=t,{prioritisedMediaFile:s}=ko(e,Ro({container:{width:r,height:n},desiredBitrate:a,isVideoADB:ue(window)},YA),{adBreak:i,adPodId:o,initiator:"PreloadingController"});if(!s)return;const l=new Cm(this.mediaAd,s);let d;this.preloaders.push(l),this.preloaders.push(l);try{const e=await l.preload();d=e.mediaFile,this._preloadedFirstFramePicture=e.firstFrameImage}catch(Ww){if(ne(Ww))throw Ww;throw new Sc(Ww,{code:"CANNOT_PRELOAD_VIDEO_FILE"})}this._preloadedVideoFile=d}async _preloadImageFiles(e,t){const{width:i,height:o}=t,r=[];Ol(e,(e=>{const t=KA({size:{width:i,height:o},images:e});if(!t)return;const n=new $m(t);this.preloaders.push(n),r.push(n.preload())}));try{await Promise.all(r)}catch(Ww){if(ne(Ww))throw Ww;throw new Sc(Ww,{code:"CANNOT_PRELOAD_IMAGE_FILE"})}}}const QA={width:void 0,height:void 0};class JA{constructor(){this.x=NaN,this.y=NaN,this.width=NaN,this.height=NaN}static fromVastIcon(e){const t=new JA;return t.src=e.src,t.type=e.program,t.x=e.xPosition,t.y=e.yPosition,t.width=e.width,t.height=e.height,t}}class ZA{get contentType(){return this.getIsConvertedFromVideoVast()?"video":this.getJSMediaFile()?"js":"video"}constructor(e,t,i,o){this.duration=0,this.getMediaFiles=()=>vi(this.vastAd.mediaFiles,this.adConfig.secureMode),this.getAdContentDimensions=()=>function(e){let{vastAd:t,secureMode:i}=e;const{mediaFiles:o,adParameters:r,adParametersObject:n}=t;if(Ri(t)){const{parsed:{videoMediaFiles:e}}=Xi(null!=n?n:r);return 0===e.length?QA:Vo(e)}const a=Lo(o,i);return Vo(a?[a]:vi(o,i))}({vastAd:this.vastAd,secureMode:this.adConfig.secureMode}),this.getJSMediaFile=()=>Lo(this.vastAd.mediaFiles,this.adConfig.secureMode),this.getIsConvertedFromVideoVast=()=>{const{vastAd:{originallyConvertedFromVast:e}}=this;return void 0!==e&&_i({secureMode:this.adConfig.secureMode,vastAd:e})},this.getPreloadedAdCreativeInitFunction=()=>{var e;return null==(e=this.preloadingController)?void 0:e.preloadedAdCreativeInitFunction},this.adBreak=e,this.vastAd=t,this.adConfig=i,this.stats=o,this.icons=Nc(this.vastAd.icons,(e=>JA.fromVastIcon(e))),isNaN(this.vastAd.duration)||(this.duration=this.vastAd.duration)}getAdPodId(){return(this.vastAd.adId||"")+";"+(this.vastAd.creativeId||"")+";"+this.vastAd.parseIndex+";"+this.vastAd.randomHexString+";"+(this.vastAd.bidreqid||"")+";"+(this.vastAd.campaignid||"")+";"+(this.vastAd.pageId||"")+";"+(this.vastAd.impId||"")+";"+(this.vastAd.vmapRequestId||"")}trackError(e){Tt(e,this.vastAd.trackingEvents.error)}hasMediaFiles(){var e;return(null==(e=this.getMediaFiles())?void 0:e.length)>0}cancelPreloading(e){if(this.preloadingController){if("Destroy"===e)return this.preloadingController.destroy("AdStoreDestroy"),void(this.preloadingController=void 0);this.preloadingController.isPreloaded||(this.preloadingController.cancelPreloading(e),this.preloadingController.destroy("CancelPreloading"),this.preloadingController=void 0)}}async preload(e){this.preloadingController||(this.preloadingController=new qA({params:e,contentType:this.contentType,options:{getMediaFiles:this.getMediaFiles,getJSMediaFile:this.getJSMediaFile,getVastAd:()=>this.vastAd},mediaAd:this,stats:this.stats}),await this.preloadingController.preload()),void 0!==this.preloadingController&&null!==this.preloadingController&&await this.preloadingController.promise}getIfIsRequiredHtmlControls(){return this.vastAd.adSystem===mm}getIsIndependentOnVideoElement(){return!!function(e){let{adParametersObject:t}=e;const i=null==t?void 0:t.mediaFiles,r=Array.isArray(i)?i[0]:void 0;return o(r)&&r.url===nm.url}(this.vastAd)||(this.getJSMediaFile(),!1)}getIsYandexCreative(){return e=this.vastAd,D(Am,e.adSystem);var e}getIsAdFoxDirectSell(){return xo(this.vastAd)}getPreloadVpaidWindow(){var e;return null==(e=this.preloadingController)?void 0:e.vpaidWindow}getPreloadedVideoFile(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedVideoFile}getPreloadedFirstFramePicture(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedFirstFramePicture}getPreloadedVpaidAdParameters(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedVpaidAdParameters}getDuration(){return this.duration}actualizeDuration(e){this.duration!==e&&(kc("MediaAd: actualize duration previous=["+this.duration+"] next=["+e+"]"),this.duration=e)}isCreativeWithOwnControls(){const e=this.getJSMediaFile();return!!e&&!this.vastAd.imhoParams&&!Ri(this.vastAd)&&!ye(e.url)}}const $A=()=>Dd.__VAS_TEST_UTILS_CONTEXT__,ev={impId:0,sessionId:""},tv={adTagURI:"",adFoxParameters:void 0,inlineVast:void 0},iv=jo({adType:"inpage",replayMode:null,stick:!1},tv,ev),ov={bufferEmptyLimit:5,bufferFullTimeout:5e3,videoTimeout:5e3,vpaidTimeout:5e3},rv=Yo({adType:"midroll",broadcastReplace:!1},tv,{repeatAfter:0,maxRepeatCount:0,repeatNumber:0,timeOffset:10},ev,ov),nv=Wo({adType:"postroll"},tv,ev,ov),av=Go({adType:"preroll"},tv,ev,ov),sv={inpage:iv,preroll:av,midroll:rv,postroll:nv,postPauseroll:nv,inroll:nv},lv=c(sv),dv=e=>{try{const t=function(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}(e);return"display"in t}catch(G_){return!1}},cv=function(e,t){void 0===t&&(t=!1);const i=(t,i,o)=>e[t][i][o],o=(t,i,o)=>e[t]&&e[t][i]&&e[t][i][o],r=e=>{let{keyset:t,key:r,lang:n=Kh,onError:a,throwErr:s=!0}=e;if(o(n,t,r))return i(n,t,r);if(o(Kh,t,r))return i(Kh,t,r);{const e=new qh("Tanker locale for lang="+n+", keyset="+t+", key="+r+" not found");return s&&Be(e),"function"===typeof a&&a(e),""}};return t?sd(r,(e=>{let{keyset:t,key:i,lang:o}=e;return t+"_"+i+"_"+o})):r}(e(3716)),uv=function(e,t){return void 0===t&&(t=Kh),cv({keyset:"adsdk",key:e,lang:t})},hv="TRUE"===iA("DISABLE_SUBTITLES")||void 0,pv="DISABLE"===iA("UNMUTE_TEXT_VARIANT")?"DISABLE":void 0,mv=1,Av=0,vv=2,_v=0,gv={notInterestedAd:{reason:3,action:2},alreadyPurchasedAd:{reason:14,action:2},seenTooOftenAd:{reason:22,action:2},overlapContentAd:{reason:9,action:1},anotherReasonAd:{reason:23,action:0}},fv={unpleasantContentAd:{reason:24,action:2},politicalAd:{reason:31,action:4},scammersAd:{reason:26,action:2},illegalGoodsOrServiceAd:{reason:27,action:2},anotherReasonAd:{reason:23,action:0}},yv={politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}},Sv=$o({},{hide:{reason:21,action:4},complaint:{reason:5,action:4},about:{reason:19,action:0},advertiserInfo:{reason:20,action:0}},gv,fv,yv),Tv={abuseUrl:"",legalText:void 0},Ev="https://"+Ud+"/secure-ads",bv="https://"+Ud+"/ads/advertiser_info",Cv={isAvailable:!1},Pv=!1,wv={handshakeVersion:"2.0",getAdDuration:-2,getAdRemainingTime:-2,getAdVolume:0,getAdIcons:!1,getAdExpanded:!1,getAdHeight:0,getAdWidth:0,getAdLinear:!0,getAdSkippableState:Pv},Ov=er({},{startAd:void 0,stopAd:void 0,skipAd:void 0,resizeAd:void 0,pauseAd:void 0,resumeAd:void 0,expandAd:void 0,collapseAd:void 0,subscribe:void 0,unsubscribe:void 0,setAdVolume:void 0},{initAd:void 0}),Iv=er({},wv,Ov),kv={adLinear:0,adWidth:0,adHeight:0,adExpanded:0,adSkippableState:0,adRemainingTime:0,adDuration:0,adVolume:0,adIcons:0},Nv={adLinear:"getAdLinear",adWidth:"getAdWidth",adHeight:"getAdHeight",adExpanded:"getAdExpanded",adSkippableState:"getAdSkippableState",adRemainingTime:"getAdRemainingTime",adDuration:"getAdDuration",adVolume:"getAdVolume",adIcons:"getAdIcons"},Dv={adVolume:"setAdVolume"},Rv=null!==_m.onwaiting||id?(e,t)=>{let i=0,o=!1;return po((()=>{var r;const n=e.currentTime,a=e.duration,{currentTime:s}=e,l=1===(null==(r=e.buffered)?void 0:r.length)&&s>e.buffered.end(0);if(l&&!o)return o=!0,void t(o);if(!l||!o){if(!e.paused){const e=i+.004;o?n>e&&(t(!1),o=!1):n<e&&n!==a&&(t(!0),o=!0)}i=n}}))}:(e,t)=>{let i=!1;const o=Ie({element:e,eventName:"pause",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}}),r=Ie({element:e,eventName:"waiting",listener:()=>{i||(i=!0,t(!0))},options:{passive:!0}}),n=Ie({element:e,eventName:"playing",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}}),a=Ie({element:e,eventName:"canplay",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}});return()=>{o(),r(),n(),a()}};class Vv extends xc{constructor(){super(),this.isPlaying=new lu(!1),this.isBuffering=new lu(!1),this.bufferingTimeCount=new Vm,this.addDestroyHandler((()=>{this.bufferingTimeCount.destroy()}))}start(e){this.isPlaying.dispatch(!0),this.addDestroyHandler(Rv(e,(e=>{this.isBuffering.dispatch(e)}))),this.addDestroyHandler(tr([this.isPlaying,this.isBuffering],((e,t)=>e&&t),(e=>{e?this.bufferingTimeCount.start():this.bufferingTimeCount.stop()})))}pause(){this.isPlaying.dispatch(!1)}resume(){this.isPlaying.dispatch(!0)}getBufferingTime(){return this.bufferingTimeCount.getTime()/Rm}}const Lv={AdStarted:"creativeView",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdPaused:"pause",AdPlaying:"resume"},xv={adloox:"AdCreativeInitMeasurer_adloox",adriver:"AdCreativeInitMeasurer_adriver",moat:"AdCreativeInitMeasurer_moat",weborama:"AdCreativeInitMeasurer_weborama",adserving:"AdCreativeInitMeasurer_adserving"},Bv=["impression"],Mv={adloox:{impression:"TrackingEventWithMeasurer_impression_adloox"},yandexTestMeasurer:{impression:"TrackingEventWithMeasurer_impression_yandexTestMeasurer"},weborama:{impression:"TrackingEventWithMeasurer_impression_weborama"},moat:{impression:"TrackingEventWithMeasurer_impression_moat"},adriver:{impression:"TrackingEventWithMeasurer_impression_adriver"},adserving:{impression:"TrackingEventWithMeasurer_impression_adserving"}},Uv=c({AdLoaded:0,AdStarted:0,AdStopped:0,AdSkipped:0,AdSkippableStateChange:0,AdSizeChange:0,AdLinearChange:0,AdDurationChange:0,AdExpandedChange:0,AdRemainingTimeChange:0,AdPodDurationChange:0,AdVolumeChange:0,AdImpression:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0,AdVideoComplete:0,AdClickThru:0,AdInteraction:0,AdUserAcceptInvitation:0,AdUserMinimize:0,AdUserClose:0,AdPaused:0,AdPlaying:0,AdLog:0,AdError:0}),Fv=Boolean(bc),Hv=e=>Math.round(e);class zv{setTimeout(e,t){const i=window.setTimeout(e,t);return()=>window.clearTimeout(i)}now(){return Date.now()}}class jv{constructor(e){this.stopped=!0,this.lastNow=0,this.lastKnockTime=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.count=0,this.distributionFunction=e,this.clock=new zv}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout((()=>{this.knock(this.lastNow+this.lastTimeout)}),this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}reset(){this.setDefaultParams()}setDefaultParams(){this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.lastKnockTime=0,this.count=0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout((()=>{this.knock(e+t)}),t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}const Yv={height:0,width:0},Wv=[{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],Gv=1,Xv=2,Kv=3,qv=4,Qv=e=>{const i=e.currentTime,o=function(e){const i=[];if(!Boolean(e))return i;if(!Boolean(e.buffered))return i;if(!t(e.buffered.length)||!L(e.buffered.start)||!L(e.buffered.end))return i;for(let t=0;t<e.buffered.length;t++)i.push({start:e.buffered.start(t),end:e.buffered.end(t)});return function(e){if(e.length<=1)return e;const t=Nc(e,(e=>{let{start:t,end:i}=e;return{start:t,end:i}})).sort(((e,t)=>e.start-t.start)),i=[t[0]];for(let o=1;o<t.length;o++){const e=t[o],r=i[i.length-1];r.end<e.start?i.push(e):r.end<e.end&&(r.end=e.end)}return i}(i)}(e),r=(n=i,Cd(o,(e=>{let{start:t,end:i}=e;return t<=n&&n<=i})));var n;return r?r.end-i:0},Jv=function(e){return void 0===e&&(e=window),/Mobi|Android/i.test(e.navigator.userAgent)}(),Zv={PAGEURL:encodeURIComponent(ee(document).location),Y_DEVICE_TYPE:Jv?"mobile":"desktop",Y_AD_SESSION_ID:Ah()},$v=.5;class e_{constructor(){var e=this;this.events={},this.subscribe=(e,t,i)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");let o=this.events[t];void 0===o&&(o=this.events[t]=[]),o.push({callback:e,context:i})},this.unsubscribe=(e,t)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");const i=this.events[t];i&&(this.events[t]=Wd(i,(t=>{let{callback:i}=t;return e!==i})))},this.dispatch=function(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];if("string"!==typeof t)throw new Error("Event name MUST be a string");const n=e.events[t];n&&Ol(n,(e=>{let{callback:i,context:r}=e;try{i.apply(r,o)}catch(G_){Bc.error({error:new Sc(G_,{code:"VPAID_EVENT_BUS_CALLBACK_ERROR",details:{vpaidEventName:t,params:o}})})}}))}}}const t_="TRUE"===qd.getFlagValueAndActivateTestId("VAS_ADLOOX_INIT_RU")?"https://pixel.adlooxtracking.ru/ads/ic.php":"https://pixel.adlooxtracking.com/ads/ic.php",i_={id1:"",id2:"",id5:"",id7:"",id9:""},o_="https://"+Hd+"/verify_adloox?platformid=3&platform=206&plat=206",r_=nc.split("/"),n_=r_[r_.length-1],{initMoatTracking:a_}=e(7176),s_={AdStopped:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoComplete:0,AdPaused:0,AdPlaying:0,AdVolumeChange:0},l_="yandexhostedvideo786420153684",d_={adriver:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:o,yastaticVersion:r}=e;const n=i.ownerDocument.defaultView,a=(e=>"https://"+Fd+"/pcode-static/measurers/"+e+"/video/adriver.js")(r);await oo({win:n,src:a}).promise,new n.AdriverViewabilityYandexVPAID(pr({},o,{ya_custom:"ADSID="+Yd}),i,t),kc("adriver measurer loaded")},moat:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:o,onMeasurerError:r,yastaticVersion:n,verifyLogAdditionalData:a=""}=e;const s=a_(i,Ar({},o,{zMoatADID:a,slicer1:n_,partnerCode:l_}),t.getAdDuration(),l_,n);Ol(c(s_),(e=>{t.subscribe((()=>{try{s.dispatchEvent({type:e,adVolume:t.getAdVolume()})}catch(Ww){r(new Sc({code:"MOAT_DISPATCH_EVENT_ERROR",details:{error:Ww,eventName:e}}))}}),e)}))},adloox:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:o,onMeasurerError:r,yastaticVersion:n,verifyLogAdditionalData:a=""}=e;var s;const l=hr({},o,{targetelt:((s=i).id||(s.id=v(8)),s.id),urli:o_,urlv:o_,urle:o_},{id8:a}),d=ql(he(l),((e,t,i)=>{let[o,r]=t;return"string"!==typeof r?e:e+(0===i?"#":"&")+o+"="+encodeURIComponent(r)}),"");t.subscribe((()=>{const e=""+(e=>"https://"+Fd+"/pcode-static/measurers/"+e+"/video/adloox.js")(n)+d;var t;yt((t=hr({},i_,l),N(t_,(e=>{let{id1:t,id2:i,id5:o,id7:r,id9:n}=e;return{_:String(Math.random()),type:"pixel",plat:"206",tag_id:"1251",client:"yandex",id1:t,id2:i,id3:"",id4:"",id5:o,id7:r,id9:n,id11:"$ADLOOX_WEBSITE",id12:"video-pixel"}})(t)))),oo({win:i.ownerDocument.defaultView,src:e}).promise.catch((e=>{r(new Sc({code:"ADLOOX_SCRIPT_LOADING_ERROR",details:{error:e}}))}))}),"AdStarted")},weborama:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:o,yastaticVersion:r,verifyLogAdditionalData:n=""}=e;const a=i.ownerDocument.defaultView,s=(e=>"https://"+Fd+"/pcode-static/measurers/"+e+"/video/weborama.js")(r);await oo({win:a,src:s}).promise,new a.WBMeasurerV(i,t,JSON.stringify(vr({},o,{siteid:n}))),kc("weborama measurer loaded")},adserving:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:o,yastaticVersion:r,verifyLogAdditionalData:n}=e;const a=i.ownerDocument.defaultView,s=(e=>"https://"+Fd+"/pcode-static/measurers/"+e+"/video/adserving.js")(r);await oo({win:a,src:s}).promise,a.initAdServingVerification({slot:i,vpaidAd:t,ids:mr({},o,{session:n}),host:Hd+"/verify_adserving"}),kc("adserving measurer loaded")},yandexTestMeasurer:async e=>{let{vpaidCreative:t,stats:i}=e;kc("start YandexTestMeasurer initialization"),Ol(Uv,(e=>{const o=a((()=>{var t;i.log({name:(t=e,"YandexTestMeasurerVpaidEvent_"+t)})}));t.subscribe((function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];kc("YandexTestMeasurer received VPAID event=["+e+"], args=["+ei(i)+"]"),o()}),e)})),kc("complete YandexTestMeasurer initialization")}},c_={moat:{actual:"71",unstable:"71"},adloox:{actual:"35",unstable:"35"},weborama:{actual:"88",unstable:"88"},adriver:{actual:"28",unstable:"28"},adserving:{actual:"100",unstable:"100"},yandexTestMeasurer:{actual:"1",unstable:"2"}},u_=c(d_),h_="omid",p_={1:[],2:[],3:[],5:[]},m_="2147483647",A_=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i"),v_=(e,t,i,o)=>{S(t)?(o=Boolean(i),f(t,((t,i)=>{Pr(e,i,t,o)}))):Pr(e,t,i,o)},__=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),g_=e=>{const t=e.createElement("div");return wr(t,{all:"initial",minWidth:"initial",minHeight:"initial",maxWidth:"initial",maxHeight:"initial",transform:"initial",padding:"initial",margin:"initial",border:"initial",outline:"initial"},!0),wr(t,{pointerEvents:"none",width:"4px",height:"4px",position:"absolute",top:"50%",left:"50%",marginTop:"-1px",marginLeft:"-1px",zIndex:m_},!0),jd.isDebugEnabled&&(t.dataset.isVisible="undefined"),t},f_=e=>{let{element:t,win:i}=e;const o=new lu(!0),r=t.ownerDocument,n=g_(r);t.appendChild(n);const a=new i.IntersectionObserver((e=>{const t=e[e.length-1],{isVisible:i=!0}=t;o.dispatch(i),jd.isDebugEnabled&&(n.dataset.isVisible=String(i))}),{trackVisibility:!0,delay:100});return a.observe(n),{teardown:()=>{a.disconnect(),o.removeAll(),ke(n)},visualVisibilitySignal:o,markerElement:n}},y_=e=>!!gh&&"IntersectionObserverEntry"in e&&"isVisible"in e.IntersectionObserverEntry.prototype,S_=["use_unstable_script"];class T_ extends xc{constructor(e,t,i){var r;super(),r=this,this.userInteractionDispatchers={AdClickThru:e=>{let{url:t,clickSource:i,playerHandles:o}=e;this.trackEvent("clickThrough",this.getTrackingUrlsByTrackingEventName("clickThrough"),{dailySensors:{clickSource:i}}),this.trackEncounters("click"),this.trackTrueView("click"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdClickThru",t,void 0,o)},AdSkipped:()=>{this.onSkipped.dispatch(void 0)},AdStopped:()=>{this.onStopped.dispatch(void 0)},AdVideoComplete:()=>{this.onVideoComplete.dispatch(void 0)},AdUserClose:()=>{this.onUserClose.dispatch(void 0)},AdTimeToSkipChange:W},this.playingStateValueSignal=new lu(!1),this.shouldPlayTimeCounter=new Vm,this.vpaidEventBus=new e_,this.vpaidCreativeProxyForMeasurersEventBus=new e_,this.isVisibilityConfirmed=!1,this.initializedMeasurers=void 0,this.initMeasurableParameters=a((e=>{const t=e[4];if(!o(t))throw new Sc({code:"VPAID_MEASURER_INVALID_CREATIVE_DATA",details:void 0});const{AdParameters:i}=t,r=e[5];if(!o(r)||!o(r.slot))throw new Sc({code:"VPAID_MEASURER_INVALID_ENVIRONMENT_VARS",details:void 0});const{videoSlot:n}=r;this.bufferingTimeManager.start(n);const{parameters:a,errors:s}=function(e){if(!e)return{parameters:void 0,errors:[new Sc({code:"AD_PARAMETERS_ABSENT_IN_MEASURER",details:{adParametersString:e}})],events:[]};let t={};try{t=JSON.parse(e)}catch(Ww){return{parameters:void 0,errors:[new Sc({code:"INVALID_AD_PARAMETERS_JSON_IN_MEASURER",details:{adParametersString:e}})],events:[]}}const{viewability:i,encounters:o,dwell:r,start:n,trackingEvents:a,viewedComplete:s}=t,{measurers:l,errors:d,events:u}=function(e){const t=[],i=[],{rootField:o,bannerParametersField:r,unmoderatedBannerParametersField:n}=fr(e,"measurers");Boolean(n)&&t.push(new Sc({code:"AUCTION_DC_PARAMS_UNMODERATED_MEASURERS_ARE_USED",details:{rawAdParameters:e}}));const{measurers:a,errors:s,events:l}=yr(n),{measurers:d,errors:u,events:h}=yr(r),{measurers:p,errors:m,events:A}=yr(o);return t.push(...s,...u,...m),i.push(...l,...h,...A),ql([a,d,p],((e,t)=>{const i=c(t).length>0;return e+Number(i)}),0)>1&&t.push(new Sc({code:"USING_MULTIPLE_MEASURERS_OBJECTS",details:{rawAdParameters:e}})),{measurers:Sr({},a,d,p),errors:t,events:i}}(t);return{parameters:{measurers:l,viewability:Tr(i),dwell:Tr(r),trackingEvents:pt(ht(a),{encounters:_r(o),viewedComplete:_r(s),start:_r(n)}),skipAdSdkDetect:Er(t)},errors:d,events:u}}(i);if(Ol(s,this.callbacks.onExecutionError),!a)throw new Sc({code:"VPAID_MEASURER_AD_PARAMETERS_ERROR",details:{adParameters:i}});this.vpaidInitParameters={videoSlot:n,adParameters:a},this.initMeasurers()})),this.initMeasurers=a((()=>{const{vpaidInitParameters:e,vpaidCreativeProxyForMeasurers:t,parameters:i}=this;if(!e)return this.callbacks.onExecutionError(new Sc({code:"ATTEMPT_TO_INIT_MEASURERS_WITHOUT_PARAMETERS",details:{measurableVpaidExists:Boolean(t),vpaidInitParametersExist:Boolean(e)}})),Promise.resolve();const{adParameters:{measurers:r}}=e,n=Or({},r,{yandexTestMeasurer:{}});this.initializedMeasurers=n;const{slotsParameters:a}=i,{visibilitySlotParameters:s}=a,{element:l}=s;return Promise.all(Nc(c(n),(async e=>{const i=n[e],r=function(e,t){if(null==e)return{};var i,o,r={},n=Object.keys(e);for(o=0;o<n.length;o++)i=n[o],t.indexOf(i)>=0||(r[i]=e[i]);return r}(i,S_),a=d_[e],s=((e,t)=>{const i=c_[e],r=t;return o(r)&&"use_unstable_script"in r&&Boolean(r.use_unstable_script)?i.unstable:i.actual})(e,i);try{await a({vpaidCreative:t,slot:l,measurerParameters:r,onMeasurerError:e=>{this.callbacks.onExecutionError(e)},yastaticVersion:s,verifyLogAdditionalData:this.parameters.verifyLogAdditionalData,stats:this.parameters.stats}),"yandexTestMeasurer"!==e&&this.callbacks.onInitMeasurer({measurerName:e,measurableVpaidCreative:t,slot:l,measurerParameters:r})}catch(Ww){this.callbacks.onExecutionError(new Sc({code:"MEASURER_INIT_ERROR",details:{measurerName:e,measurerParameters:r,error:new Sc(Ww)}}))}})))})),this.trackRenderUndetermined=a((()=>{this.trackEvent("renderUndetermined",this.getTrackingUrlsByTrackingEventName("renderUndetermined"),{})})),this.trackEncounters=a((e=>{this.isVisibilityConfirmed=!0,this.trackEvent("encounters",this.getTrackingUrlsByTrackingEventName("encounters"),{dailySensors:{reason:e}}),this.trackImpression()})),this.trackImpression=a((()=>{this.vpaidEventBus.dispatch("AdImpression"),this.trackEvent("impression",this.getTrackingUrlsByTrackingEventName("impression"),{}),this.trackImpressionWithVisibility()})),this.trackTrueView=a((e=>{this.trackEvent("trueView",this.getTrackingUrlsByTrackingEventName("trueView"),{dailySensors:{reason:e}})})),this.startMeasurement=a((()=>{const{vpaidInitParameters:e,parameters:{slotsParameters:{visibilitySlotParameters:{element:t}}}}=this;if(!e)return void this.destroy({error:new Sc({code:"VPAID_MEASURER_NO_PARAMS_ON_START",details:void 0})});const{adParameters:i}=e,{viewability:o,dwell:r}=i,n=t.ownerDocument.defaultView;let a;if(y_(n)&&"TRUE"===qd.getFlagValueAndActivateTestId("VAS_ENABLE_INTERSECTION_OBSERVER_TRACK_VISIBILITY_IMPRESSIONS")){const e=f_({element:t,win:n});this.addDestroyHandler((()=>{e.teardown()})),a=e.visualVisibilitySignal}else a=new lu(!0);const{valueSignal:s,teardown:l}=Cr([this.parameters.slotsParameters.visibilitySlotParameters.size],(e=>ir(e,Fv)));this.addDestroyHandler(l);const d=new jv((e=>{let{count:t}=e;return 1===t&&(d.destroy(),this.trackTrueView("progress")),3e4})),c=new Set,u="DISABLE_AT_ALL"===qd.getFlagValueAndActivateTestId("VAS_DISABLE_VIEWABILITY_AND_DWELL_TRACKING_MODE")?void 0:new jv((e=>{let{count:t}=e;const i=(r=t)>3?{eventName:"viewability5",intervalId:5}:1===r?{eventName:"viewability1",intervalId:1}:2===r?{eventName:"viewability2",intervalId:2}:3===r?{eventName:"viewability3",intervalId:3}:void 0;var r;return void 0!==i&&("SEND_ONLY_UNIQUE"!==qd.getFlagValueAndActivateTestId("VAS_DISABLE_VIEWABILITY_AND_DWELL_TRACKING_MODE")||!c.has(i.eventName))&&(c.add(i.eventName),this.trackEvent(i.eventName,o[i.intervalId],{})),br(t)})),h=new Set,p="DISABLE_AT_ALL"===qd.getFlagValueAndActivateTestId("VAS_DISABLE_VIEWABILITY_AND_DWELL_TRACKING_MODE")?void 0:new jv((e=>{let{count:t}=e;const i=(o=t)>3?{eventName:"dwell5",intervalId:5}:1===o?{eventName:"dwell1",intervalId:1}:2===o?{eventName:"dwell2",intervalId:2}:3===o?{eventName:"dwell3",intervalId:3}:void 0;var o;return void 0!==i&&("SEND_ONLY_UNIQUE"!==qd.getFlagValueAndActivateTestId("VAS_DISABLE_VIEWABILITY_AND_DWELL_TRACKING_MODE")||!h.has(i.eventName))&&(h.add(i.eventName),this.trackEvent(i.eventName,r[i.intervalId],{})),br(t)})),m=new jv((e=>{let{count:t}=e;return 2===t&&(this.trackEncounters("viewability"),m.destroy()),br(t)})),A=new jv((e=>{let{count:t}=e;return 2===t&&(this.trackEvent("visualImpression",[],{}),A.destroy()),br(t)}));this.addDestroyHandler((()=>{d.destroy(),null==u||u.destroy(),null==p||p.destroy(),m.destroy(),A.destroy()})),this.addDestroyHandler(this.playingStateValueSignal.add((e=>{d.setEnabled(e)}))),this.addDestroyHandler(tr([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,s],((e,t,i)=>e&&t&&i),(e=>{e&&m.reset(),null==u||u.setEnabled(e),m.setEnabled(e)}))),y_(n)&&"TRUE"===qd.getFlagValueAndActivateTestId("VAS_ENABLE_INTERSECTION_OBSERVER_TRACK_VISIBILITY_IMPRESSIONS")&&this.addDestroyHandler(tr([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,s,a],((e,t,i,o)=>e&&t&&i&&o),(e=>{e&&A.reset(),A.setEnabled(e)}))),this.addDestroyHandler(tr([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.parameters.slotsParameters.slotParameters.isHovered,s],((e,t,i,o)=>e&&t&&i&&o),(e=>{null==p||p.setEnabled(e)})))})),this.methodInterceptors={subscribe:this.vpaidEventBus.subscribe,unsubscribe:this.vpaidEventBus.unsubscribe},this.onSkipped=new Gd,this.onStopped=new Gd,this.onVideoComplete=new Gd,this.onUserClose=new Gd,this.eventInterceptors={AdLoaded:()=>{this.initMeasurers().then((()=>{this.vpaidEventBus.dispatch("AdLoaded")})).catch(Be)},AdVideoStart:()=>{this.vpaidEventBus.dispatch("AdVideoStart"),"video"===this.parameters.intrinsicAdCreativeType&&this.trackImpression()},AdSkipped:()=>{var e;this.callbacks.onExecutionError(new Sc({code:"VPAID_MEASURER_RECEIVED_AD_SKIPPED_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onSkipped.dispatch(void 0),this.vpaidEventBus.dispatch("AdSkipped")},AdUserClose:()=>{var e;this.callbacks.onExecutionError(new Sc({code:"VPAID_MEASURER_RECEIVED_AD_USER_CLOSE_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onUserClose.dispatch(void 0),this.vpaidEventBus.dispatch("AdUserClose")},AdStopped:()=>{var e;this.callbacks.onExecutionError(new Sc({code:"VPAID_MEASURER_RECEIVED_AD_STOPPED_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onStopped.dispatch(void 0),this.vpaidEventBus.dispatch("AdStopped")},AdVideoComplete:()=>{var e;this.callbacks.onExecutionError(new Sc({code:"VPAID_MEASURER_RECEIVED_AD_VIDEO_COMPLETE_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onVideoComplete.dispatch(void 0),this.vpaidEventBus.dispatch("AdVideoComplete")}},this.vpaidWillSetProperty=(e,t)=>{this.vpaidCreative[e]=t},this.vpaidWillCallMethod=(e,t)=>{if(this.updatePlayTimeCounter(e),"initAd"===e)try{this.initMeasurableParameters(t)}catch(Ww){return this.vpaidEventBus.dispatch("AdError",Ww),void this.destroy({error:Ww})}switch(e){case"startAd":this.startMeasurement();break;case"stopAd":this.destroy({reason:e})}const i=this.methodInterceptors[e];return i?i(...t):this.vpaidCreative[e].apply(this.vpaidCreative,t)},this.trackImpressionWithVisibility=()=>{const e=fh()?"impressionUndetermined":"impressionDetermined";this.trackEvent(e,this.getTrackingUrlsByTrackingEventName(e),{})},this.updatePlayTimeCounter=e=>{switch(e){case"startAd":case"resumeAd":return this.shouldPlayTimeCounter.start();case"pauseAd":return this.shouldPlayTimeCounter.stop();default:return}},this.trackEvent=function(e,t,i){if(void 0===t&&(t=[]),kc("Track VPAIDMeasurer event=["+e+"]"),!r.vpaidInitParameters)return void r.callbacks.onExecutionError(new Sc({code:"VPAID_MEASURER_CANNOT_TRACK_EVENT_BEFORE_START",details:{eventName:e}}));const{slotsParameters:o}=r.parameters,{visibilitySlotParameters:n,slotParameters:{size:a}}=o,{visibilityRatio:s}=n,l=(d=a.getValue(),{width:Hv(d.width),height:Hv(d.height)});var d;const u={eventName:e,trackingEventDetails:i,trackingUrls:t,options:lr({win:window,slotSize:l,slotVisibilityRatio:s.getValue(),videoNode:r.vpaidInitParameters.videoSlot,bufferingTime:r.bufferingTimeManager.getBufferingTime()}),pixelsSource:"adParameters"};cr(u),r.callbacks.onTrackEvent(u),function(e,t){if(!t)return;if(!function(e){return D(Bv,e)}(e))return;const i=c(t);for(const o of i){const t=Mv[o][e];Bc.log({name:t,data:void 0})}}(e,r.initializedMeasurers)},this.vpaidCreative=e,this.parameters=t,this.callbacks=i;const{visibilityRatio:n}=t.slotsParameters.visibilitySlotParameters;this.vpaidCreativeProxyForMeasurers=this.createVpaidCreativeProxyForMeasurers(e),this.addDestroyHandler(this.onSkipped.add((()=>{this.trackEvent("skip",this.getTrackingUrlsByTrackingEventName("skip"),{}),this.destroy({reason:"AdSkipped"}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdSkipped")}))),this.addDestroyHandler(this.onUserClose.add((()=>{this.trackEvent("close",this.getTrackingUrlsByTrackingEventName("close"),{}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdUserClose")}))),this.onStopped.addOne((()=>{this.destroy({reason:"AdStopped"}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdStopped")})),this.addDestroyHandler(this.onVideoComplete.add((()=>{this.trackEvent("complete",this.getTrackingUrlsByTrackingEventName("complete"),{}),this.isVisibilityConfirmed&&this.trackEvent("viewedComplete",this.getTrackingUrlsByTrackingEventName("viewedComplete"),{}),this.trackTrueView("complete"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdVideoComplete")}))),this.playingStateValueSignal.add(i.onPlayingStateChange);const{valueSignal:s,teardown:l}=Cr([n],(e=>e>=$v));this.addDestroyHandler(l),this.slotVisibilityStateValueSignal=s,this.bufferingTimeManager=new Vv,this.addDestroyHandler((()=>this.bufferingTimeManager.destroy())),this.addDestroyHandler((e=>{i.onStop(e),this.playingStateValueSignal.dispatch(!1),this.playingStateValueSignal.removeAll()})),this.addDestroyHandler((()=>{this.shouldPlayTimeCounter.destroy()})),this.subscribeVPAIDEvents()}createVpaidCreativeProxyForMeasurers(e){var t=this;const i=Z(Ov,((e,t)=>()=>{kc("Measurer called VPAID action method=["+t+"]"),this.parameters.stats.log({name:"Measurer_VPAIDActionMethodCalled",data:{methodName:t},probability:1})})),o=Z(wv,((t,i)=>function(){const t=e[i];for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return t.apply(e,r)}));return Ol(Uv,(e=>{this.vpaidEventBus.subscribe((function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t.vpaidCreativeProxyForMeasurersEventBus.dispatch(e,...o)}),e)})),ur(Or({},i,o,{subscribe:(e,t,i)=>this.vpaidCreativeProxyForMeasurersEventBus.subscribe(e,t,i),unsubscribe:(e,t)=>this.vpaidCreativeProxyForMeasurersEventBus.unsubscribe(e,t)}))}subscribeVPAIDEvents(){var e=this;Ol(Uv,(t=>{this.vpaidCreative.subscribe((function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];e.vpaidDidDispatchEvent(t,o)}),t)}))}vpaidDidDispatchEvent(e,t){const i=Lv[e];if(i&&this.trackEvent(i,this.getTrackingUrlsByTrackingEventName(i),{}),"AdVideoStart"===e&&this.onAdVideoStart(),"AdError"===e){const e=this.getTrackingUrlsByTrackingEventName("error"),i={error:new Sc({code:"VPAID_MEASURER_AD_ERROR",details:{args:t}}),trackingUrls:e};kc("Track VPAIDMeasurer event=[error]"),St(i),this.callbacks.onAdError(i)}var o,r,n;if("AdStarted"===e&&(this.lastVolume=this.vpaidCreative.getAdVolume()),"AdImpression"===e&&this.callbacks.onExecutionError(new Sc({code:"VPAID_MEASURER_RECEIVED_AD_IMPRESSION_EVENT",details:{adParameters:null==(o=this.vpaidInitParameters)?void 0:o.adParameters}})),"AdUserAcceptInvitation"===e&&this.callbacks.onExecutionError(new Sc({code:"VPAID_MEASURER_RECEIVED_AD_USER_ACCEPT_INVITATION_EVENT",details:{adParameters:null==(r=this.vpaidInitParameters)?void 0:r.adParameters}})),"AdUserMinimize"===e&&this.callbacks.onExecutionError(new Sc({code:"VPAID_MEASURER_RECEIVED_AD_USER_MINIMIZE_EVENT",details:{adParameters:null==(n=this.vpaidInitParameters)?void 0:n.adParameters}})),"AdVolumeChange"===e&&"number"===typeof this.lastVolume){const e=this.vpaidCreative.getAdVolume();0===e&&this.lastVolume>0&&this.trackEvent("mute",this.getTrackingUrlsByTrackingEventName("mute"),{}),e>0&&0===this.lastVolume&&this.trackEvent("unmute",this.getTrackingUrlsByTrackingEventName("unmute"),{}),this.lastVolume=e}switch(e){case"AdStarted":case"AdPlaying":this.playingStateValueSignal.dispatch(!0),this.bufferingTimeManager.resume();break;case"AdPaused":this.playingStateValueSignal.dispatch(!1),this.bufferingTimeManager.pause();break;case"AdError":this.destroy({reason:e})}const a=this.eventInterceptors[e];void 0===a?this.vpaidEventBus.dispatch(e,...t):a(...t)}getTrackingUrlsByTrackingEventName(e){if(!this.vpaidInitParameters)return[];const{adParameters:{trackingEvents:t}}=this.vpaidInitParameters,i=t[e];return kl(i)?i:[]}onAdVideoStart(){this.trackEvent("start",this.getTrackingUrlsByTrackingEventName("start"),{values:{timeToStart:this.shouldPlayTimeCounter.getTime()}}),fh()&&this.trackRenderUndetermined()}}const E_=["clickThrough","close","impression","mute","skip","unmute"],b_={},C_=()=>0,P_=()=>!1,w_=()=>!1,O_=()=>"2.0";class I_{constructor(e){this.dispatch=a((e=>{this.value=e,this._isDispatched=!0,Y(this.callbacks,e),this.callbacks.length=0})),this.callbacks=[],this._isDispatched=!1,L(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),W):(this.callbacks.push(e),()=>{this.callbacks=Wd(this.callbacks,(t=>t!==e))})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise((e=>{this.subscribe(e)}))}}class k_ extends xc{constructor(e){super(),this.params=e,this.promise=this.loadAdCreative().catch((e=>{throw this.destroy(),e}))}async loadAdCreative(){const{adParametersString:e,surveyAdCreativeInitParameters:t,slot:i,externalLiveCycle:r,initAdCreative:n,stats:a}=this.params;if(!L(n))throw new Sc({code:"AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION",details:this.getAdCreativeErrorDetails()});let s;try{s=n({adParametersString:e,surveyAdCreativeInitParameters:t,slot:i,externalLiveCycle:r,stats:a})}catch(G_){if(ne(G_))throw G_;throw new Sc(G_,{code:"AD_CREATIVE_ANIMATION_INIT_CALL_ERROR",details:this.getAdCreativeErrorDetails()})}if(!o(s))throw new Sc({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_OBJECT",details:this.getAdCreativeErrorDetails()});const{promise:l,teardown:d}=s;if(!wu(l))throw new Sc({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT",details:this.getAdCreativeErrorDetails()});if(!L(d))throw new Sc({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_FUNCTION_TEARDOWN",details:this.getAdCreativeErrorDetails()});const c=()=>{d()};let u;this.addDestroyHandler(c);try{u=await l}catch(G_){if(c(),ne(G_))throw G_;throw new Sc(G_,{code:"AD_CREATIVE_ANIMATION_INIT_ERROR",details:this.getAdCreativeErrorDetails()})}return u}getAdCreativeErrorDetails(){const{adParametersString:e}=this.params;return{adParametersString:e}}}const N_={startAd:()=>new Promise(W),stopAd:W};class D_ extends xc{constructor(e){super(),this.vpaidEventBus=new e_,this.handshakeVersion=O_,this.subscribe=this.vpaidEventBus.subscribe,this.unsubscribe=this.vpaidEventBus.unsubscribe,this.resizeAd=W,this.expandAd=W,this.collapseAd=W,this.getAdIcons=w_,this.getAdExpanded=P_,this.setAdVolume=W,this.getAdVolume=C_,this.initAd=a((()=>{this.vpaidEventBus.dispatch("AdLoaded")})),this.videoStartedLatch=new I_,this.adCreativeLatch=new I_,this.completeLatch=new I_,this.isPackshotStarted=new I_,this.remainingTime=new lu(-2),this.shouldPlay=new lu(!1),this.isPlaying=new lu(!1),this.shouldPlayTimeCounter=new Vm,this.lifeCycleLatches=Z({AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0},((e,t)=>new I_(this.ignoreAfterDestroy((()=>{this.vpaidEventBus.dispatch(t)}),"AdCreativeWrapper.LatchVpaidEventBusDispatch")))),this.stopAnimation=W,this.completeOrDestroyLatch=new I_,this.packshotCurrentTime=0,this.destroyReasonSniffers={complete:()=>{this.params.adCreativeUserInteractionCallbacks.AdVideoComplete()},skip:()=>{this.params.adCreativeUserInteractionCallbacks.AdSkipped()},close:()=>{this.params.adCreativeUserInteractionCallbacks.AdUserClose()},stopAd:W},this.pauseAd=()=>{this.shouldPlay.dispatch(!1)},this.resumeAd=()=>{this.shouldPlay.dispatch(!0)},this.getAdHeight=()=>{var e;return null!=(e=this.params.videoNodeController.videoNode.videoHeight)?e:0},this.getAdWidth=()=>{var e;return null!=(e=this.params.videoNodeController.videoNode.videoWidth)?e:0},this.getAdLinear=()=>!1,this.getAdDuration=()=>this.getVideoDuration()||-1,this.getAdRemainingTime=()=>{const{videoParameters:e,videoNodeController:t}=this.params;if(e){const e=this.getVideoDuration(),{currentTime:o}=t.getCurrentPosition();if(i(e)&&Ct(o)){if(this.isPackshotStarted.getValue()){const e=this.getPackshotBgVideoDuration();return Math.max(e-this.packshotCurrentTime,0)}return Math.max(e-o,0)}}return-1},this.getAdSkippableState=()=>!0,this.dispatchAdStartedOrPlaying=zt((()=>{this.vpaidEventBus.dispatch("AdStarted"),this.vpaidEventBus.dispatch("AdVideoStart")}),(()=>{this.vpaidEventBus.dispatch("AdPlaying")})),this.params=e,this.addDestroyHandler((()=>{this.completeOrDestroyLatch.dispatch(void 0)})),this.completeLatch.subscribe((()=>{this.completeOrDestroyLatch.dispatch(void 0)}));const{videoParameters:t,firstFrameParameters:o,videoNodeController:r,slot:n,slotSize:s,packshotParameters:l,adCreativeUserInteractionCallbacks:d,slotsParameters:c,stats:u}=e;if(o){const{posterImage:e,isPreloaded:i,backgroundSize:n}=o,{videoNode:a}=r,s=Dr(a,e,n),l=Date.now();(t?this.videoStartedLatch:this.adCreativeLatch).subscribe((()=>{i&&u.log({name:"TimeBetweenFirstFrameImageAndVideoStart",values:{time:Date.now()-l}}),s()})),this.addDestroyHandler(s)}if(this.vpaidEventBus.subscribe((e=>{u.errorToStats(e)}),"AdError"),this.addDestroyHandler(a(d.AdStopped)),this.addDestroyHandler((()=>{this.shouldPlayTimeCounter.destroy()})),this.shouldPlay.add((e=>{e?this.shouldPlayTimeCounter.start():this.shouldPlayTimeCounter.stop()})),this.remainingTime.add((()=>{this.vpaidEventBus.dispatch("AdRemainingTimeChange")})),this.addDestroyHandler((()=>{this.remainingTime.removeAll()})),t){this.getAdVolume=()=>r.getVolume(),this.setAdVolume=e=>{0===e?r.setMuted(!0):r.setVolume(e)};const e=()=>{const e="play"===r.playingState.getValue();this.isPlaying.dispatch(e)};this.completeOrDestroyLatch.subscribe(r.playingState.add(e)),e()}else this.shouldPlay.add(this.isPlaying),this.isPlaying.dispatch(this.shouldPlay.getValue());if(r.pause(),t){this.attachToVideoNode(t,r),this.addDestroyHandler(this.adCreativeLatch.subscribe((()=>{this.shouldPlay.getValue()&&r.play();const e=this.shouldPlay.add((e=>{e?r.play():r.pause()}));this.isPackshotStarted.subscribe(e),this.completeOrDestroyLatch.subscribe(e)})));const{videoSlotClickUrl:e,animationParameters:i,videoNodeController:{videoNode:o}}=this.params;h(e)&&this.completeOrDestroyLatch.subscribe(this.shouldPlay.addOne((()=>{const t=t=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:e,playerHandles:!0,clickSource:t})};this.completeOrDestroyLatch.subscribe(r.onClick.add((()=>{Lr({control:"AdCreativeWrapperVideoElement",purpose:"clickThru"}),t("AdCreativeWrapperVideoElement")}))),Rr(o)&&!Fv&&this.completeOrDestroyLatch.subscribe(qo(o,{cursor:"pointer"})),void 0===i&&(this.completeOrDestroyLatch.subscribe(Ie({element:n,eventName:"click",listener:()=>{t("AdCreativeWrapperSlotElement")},ignoreBubbling:!0})),Fv||this.completeOrDestroyLatch.subscribe(qo(n,{cursor:"pointer"})))})))}if(this.params.videoParameters&&this.videoStartedLatch.subscribe(this.dispatchAdStartedOrPlaying),this.adCreativeLatch.subscribe((e=>{const{getAdDuration:i,getAdRemainingTime:o,resizeAd:r}=e;this.startAdCreative(e),this.isPlaying.getValue()||this.pauseAdCreative(e),this.isPlaying.add((t=>{t?this.resumeAdCreative(e):this.pauseAdCreative(e)})),t||(L(i)&&(this.getAdDuration=()=>i.call(e)),L(o)&&(this.getAdRemainingTime=()=>o.call(e),this.addDestroyHandler(po((()=>{this.remainingTime.dispatch(this.getAdRemainingTime())}))))),this.stopAnimation=a((()=>{e.stopAd()})),this.addDestroyHandler(this.stopAnimation),this.completeOrDestroyLatch.subscribe(s.add((t=>{L(r)&&r.call(e,t)})))})),l){const e=n.ownerDocument.defaultView;if(e){const e="packshot"===l.type?l.packshotImageUrl:void 0;e&&this.lifeCycleLatches.AdVideoThirdQuartile.subscribe((()=>{Zi(e)})),this.completeLatch.subscribe(this.ignoreAfterDestroy((()=>{if(c.visibilitySlotParameters.visibilityRatio.getValue()>=$v||"honeypot"===l.type)return this.destroyReasonSniffers.complete(),void this.isPackshotStarted.dispatch(l);this.stopAdAndDestroyWrapper("complete")}),"AdCreativeWrapper.completeLatchSubscribeForNotPlayPackshot"))}else u.error({error:new Sc({code:"AD_CREATIVE_PACKSHOT_WINDOW_NULL",details:{win:String(e)}})})}else this.completeLatch.subscribe(this.ignoreAfterDestroy((()=>{this.params.destroyAfterComplete?this.stopAdAndDestroyWrapper("complete"):this.destroyReasonSniffers.complete()}),"AdCreativeWrapper.completeLatchSubscribeForNoPackshot"));this.isPackshotStarted.subscribe((e=>{this.stopAnimation();const t="packshot"===e.type?e.renderLayoutComponent(e):e.renderLayoutComponent();this.shouldPlay.add((e=>{t.setPlaying(e)})),t.progress.add((t=>{"packshot"===e.type&&(this.packshotCurrentTime=Math.min(e.packshotDuration,e.packshotDuration*t))})),t.addDestroyHandler((t=>{let{reason:i,details:o}=t;"complete"!==i?("firstRenderError"!==i&&"runtimeError"!==i||(u.error({error:new Sc({code:"firstRenderError"===i?"AD_CREATIVE_PACKSHOT_FIRST_RENDER_ERROR":"AD_CREATIVE_PACKSHOT_RUNTIME_ERROR",details:{type:e.type,error:o}})}),this.vpaidEventBus.dispatch("AdError",o)),this.destroy()):this.destroy()})),this.addDestroyHandler((()=>{t.destroy({reason:"stopAd",details:void 0})}))})),this.loadAndRenderAnimation().catch(this.ignoreAfterDestroy((e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}),"AdCreativeWrapper.vpaidEventBusDispatchAdError"))}startAd(){var e;const t=Boolean(this.params.videoParameters),i=null==(e=this.params.videoParameters)?void 0:e.getStartStrategy();t&&"startPlaying"!==i?(kc("AdCreativeWrapper: CANNOT start playing"),this.shouldPlay.dispatch(!1),this.params.stats.log({name:"AdCreativeWrapperCannotAutoplayOnStart",data:{hasVideoParameters:t,startStrategy:i}})):(kc("AdCreativeWrapper: start playing"),this.shouldPlay.dispatch(!0)),this.addDestroyHandler(this.shouldPlay.add((e=>{t&&!this.isPackshotStarted.getDispatched()||(e?this.dispatchAdStartedOrPlaying():this.vpaidEventBus.dispatch("AdPaused"))}))),this.addDestroyHandler((()=>{this.shouldPlay.dispatch(!1),this.shouldPlay.removeAll()}))}stopAd(){this.destroy()}skipAd(){this.stopAdAndDestroyWrapper("skip")}stopAdAndDestroyWrapper(e){this.destroyReasonSniffers[e](),this.destroy()}getVideoDuration(){const{videoParameters:e,videoNodeController:t}=this.params;if(e){const{duration:e}=t.getCurrentPosition(),o=i(e)?e:void 0;if(o)return o+this.getPackshotBgVideoDuration()}}async loadAndRenderAnimation(){const{animationParameters:e,adCreativeWindow:t,slot:i,videoParameters:o,stats:r}=this.params;if(!e)return void this.adCreativeLatch.dispatch(N_);const{animationMediaFile:n,getPreloadedAdCreativeInitFunction:a,adCreativeParameters:s,surveyAdCreativeParameters:l}=e;let d=a();try{if(L(d));else{const{promise:e,teardown:i}=co({animationMediaFile:n,win:t});this.completeOrDestroyLatch.subscribe(i),d=await e}}catch(Ww){if(ne(Ww))throw Ww;throw new Sc(Ww,{code:"CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE",details:{adParametersString:s}})}if(this.isDestroyed)return;const c=new k_({slot:i,adParametersString:s,surveyAdCreativeInitParameters:l,externalLiveCycle:Boolean(o),initAdCreative:d,stats:r});this.addDestroyHandler((()=>{c.destroy()}));const u=await c.promise;this.isDestroyed||this.adCreativeLatch.dispatch(u)}attachToVideoNode(e,t){const{videoContentSize:o,videoMediaFile:r,videoMediaFiles:n,videoTimeout:s,bufferEmptyLimit:l,bufferFullTimeout:d,durationFallback:c,onVideoBufferingStateChange:u}=e,{videoNode:h}=t;t.onVolumeChange.add((()=>this.vpaidEventBus.dispatch("AdVolumeChange")));const p=Date.now();this.addDestroyHandler(t.onCanPlay.addOne((()=>{this.params.stats.log({name:"MediaFileLoadingTime",values:{loadingTime:Date.now()-p}})}))),t.setSrc(r),this.addDestroyHandler(t.onVolumeChange.add((()=>{this.vpaidEventBus.dispatch("AdVolumeChange")}))),this.addDestroyHandler(this.videoStartedLatch.subscribe((()=>{const e=t.onPlayAfterPause.add((()=>{this.videoStartedLatch.getDispatched()&&this.dispatchAdStartedOrPlaying()})),i=t.playingState.add((e=>{"pause"===e&&this.vpaidEventBus.dispatch("AdPaused")}));this.completeOrDestroyLatch.subscribe(e),this.completeOrDestroyLatch.subscribe(i),this.isPackshotStarted.subscribe(e),this.isPackshotStarted.subscribe(i)})));const m=()=>{const e=this.adCreativeLatch.getValue();if(!e||!L(e.adjustAdPosition))return;const t=this.getAdDuration(),o=this.getAdRemainingTime();i(t)&&Ct(o)&&e.adjustAdPosition({adDuration:t,adRemainingTime:o})};this.completeOrDestroyLatch.subscribe(function(e){function t(){let{duration:e}=o.getCurrentPosition();return i(e)||(e=r()),e}let{videoNodeController:o,durationFallback:r,callbacks:{AdStarted:n,AdVideoFirstQuartile:s,AdVideoMidpoint:l,AdVideoThirdQuartile:d,AdVideoBeforeComplete:c,AdVideoComplete:u}}=e;const h=a(s),p=a(l),m=a(d),A=a(c);let v=0;const _=()=>{const e=t();if(!i(e))return;const{currentTime:r}=o.getCurrentPosition(),n=(r-v)/e;n>=.25&&h(),n>=.5&&p(),n>=.75&&m()},g=a((()=>{_(),u()})),f=[Vr(o.videoNode,(()=>{v=o.getCurrentPosition().currentTime,n()})),o.currentPosition.add((e=>{let{currentTime:i}=e;const o=function(e){let{currentTime:t,duration:i}=e;return!(t>=i)&&t+.5>=i}({currentTime:i,duration:t()});o&&A()})),o.currentPosition.add(_),o.onEnd.add(g)];return()=>Y(f)}({durationFallback:c,videoNodeController:t,callbacks:xr({},Z(this.lifeCycleLatches,(e=>()=>{e.dispatch(void 0)})),{AdStarted:()=>{this.videoStartedLatch.dispatch(void 0),m()},AdVideoComplete:()=>{this.completeLatch.dispatch(void 0)}})}));const A=new Error;this.shouldPlayTimeCounter.addCallback(s,(()=>{if(this.videoStartedLatch.getDispatched())return;const e=new Sc(A,{code:"video"===this.params.intrinsicAdCreativeType?"VIDEO_TIMEOUT":"AD_CREATIVE_VIDEO_TIMEOUT",details:{timeout:s,mediaFile:r,networkState:h.networkState,readyState:h.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")})),this.completeOrDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{t.isBuffering.getValue()&&u(!0),this.addDestroyHandler(t.isBuffering.add((e=>{u(e)})))}))),this.completeOrDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{this.completeOrDestroyLatch.subscribe(function(e){let{videoNodeController:t,bufferEmptyLimit:o,callback:r}=e;if(!i(o))return W;let n=0;const a=t.onBufferingAfterPlay.add((()=>{n++,kc("bufferEmptyCount=["+n+"] limit=["+o+"]"),n<=o||(a(),r())}));return a}({videoNodeController:t,bufferEmptyLimit:l,callback:()=>{const e=new Sc({code:"video"===this.params.intrinsicAdCreativeType?"BUFFER_EMPTY_LIMIT":"AD_CREATIVE_BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:l,mediaFile:r,networkState:h.networkState,readyState:h.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),this.completeOrDestroyLatch.subscribe(function(e){let{videoNodeController:t,bufferFullTimeout:i,callback:o}=e,r=W;const n=t.isBuffering.add((async e=>{if(r(),!e)return;const{promise:a,clear:s}=Yc(i,t.win);r=s,await a,r(),n(),o()}));return()=>{r(),n()}}({videoNodeController:t,bufferFullTimeout:d,callback:()=>{const e=new Sc({code:"video"===this.params.intrinsicAdCreativeType?"BUFFER_FULL_TIMEOUT":"AD_CREATIVE_BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:d,mediaFile:r,networkState:h.networkState,readyState:h.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}}))}))),this.completeOrDestroyLatch.subscribe(t.onError.add((e=>{e=new Sc(e,{details:xr({},e.details,{selectedMediaFile:r,mediaFiles:n})}),this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}))),this.addDestroyHandler(t.currentPosition.add((()=>{m(),this.remainingTime.dispatch(this.getAdRemainingTime())}))),this.completeOrDestroyLatch.subscribe(o.add((e=>{const t=this.adCreativeLatch.getValue();t&&L(t.resizeVideoContent)&&t.resizeVideoContent(e)})))}startAdCreative(e){const{videoParameters:t,slotSize:i,shouldHideSkipButton:r,playerEnvironment:n}=this.params,a=i.getValue(),s=Z(this.lifeCycleLatches,(e=>t?W:()=>e.dispatch(void 0))),l=e.startAd({callbacks:xr({AdClickThru:this.ignoreAfterDestroy((e=>{let{url:t,playerHandles:i,clickSource:o}=e;const r=h(t)?t:this.params.videoSlotClickUrl;this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:r,playerHandles:i,clickSource:o})}),"AdCreativeWrapper.startAdCallbackOnAdClickThru")},s,{AdVideoComplete:()=>{this.completeLatch.dispatch(void 0)}}),requestPause:()=>{this.pauseAd()},requestPlay:()=>{this.resumeAd()},requestTimeToSkipChange:e=>{this.params.adCreativeUserInteractionCallbacks.AdTimeToSkipChange(e)},dispatchAdStarted:this.dispatchAdStartedOrPlaying,size:a,videoContentSize:null==t?void 0:t.videoContentSize.getValue(),playerEnvironment:n,shouldHideSkipButton:r,destroyAfterComplete:this.params.destroyAfterComplete});if(!wu(l))throw new Sc({code:"AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT",details:void 0});l.then(this.ignoreAfterDestroy((e=>{if(t)return;let i="complete";if(o(e)){const t=e.reason;h(t)&&Boolean(this.destroyReasonSniffers[t])&&(i=t)}"complete"===i?this.completeLatch.dispatch(void 0):this.stopAdAndDestroyWrapper(i)}),"AdCreativeWrapper.awaitResolveOfStartAdPromise")).catch(this.ignoreAfterDestroy((e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}),"AdCreativeWrapper.awaitRejectOfStartAdPromise"))}pauseAdCreative(e){null==e.pauseAd||e.pauseAd()}resumeAdCreative(e){null==e.resumeAd||e.resumeAd()}getPackshotBgVideoDuration(){var e,t;return"packshot"!==(null==(e=this.params.packshotParameters)?void 0:e.type)?0:null!=(t=this.params.packshotParameters.packshotDuration)?t:0}}const R_=a((e=>{Bc.log({name:"IntersectionObserverMocked",data:{functionCode:p((()=>e.IntersectionObserver.toString()))},probability:1})})),V_=a((()=>{Bc.log({name:"DocumentHiddenMocked",probability:1})})),L_=a((e=>{Bc.log({name:"IframeIntersectionObserverMocked",data:{functionCode:p((()=>e.IntersectionObserver.toString()))},probability:1})})),x_=a((()=>{Bc.log({name:"IframeDocumentHiddenMocked",probability:1})})),B_=["mousemove","mousedown","mouseup","contextmenu","touchstart","touchmove","touchend"];class M_{constructor(e,t){this.time=0,this.startTime=0,this.id=0,this.started=!1,this.loop=()=>{this.clearTimeouts();const e=Date.now(),t=e-this.startTime;this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t}),this.started&&this.startDelay()},this.callback=t,this.animationFrameFunctions=Ur(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop)}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}}var U_,F_,H_,z_,j_,Y_,W_,G_={},X_=[],K_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;U_=X_.slice,F_={__e:function(e,t){for(var i,o,r;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e),r=i.__d),r)return i.__E=i}catch(t){e=t}throw e}},H_=0,Wr.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Fr({},this.state),"function"==typeof e&&(e=e(Fr({},i),this.props)),e&&Fr(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),Kr(this))},Wr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Kr(this))},Wr.prototype.render=Yr,z_=[],j_="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,qr.__r=0,W_=0;var q_,Q_,J_,Z_=0,$_=[],eg=F_.__b,tg=F_.__r,ig=F_.diffed,og=F_.__c,rg=F_.unmount;F_.__b=function(e){Q_=null,eg&&eg(e)},F_.__r=function(e){tg&&tg(e),q_=0;var t=(Q_=e.__c).__H;t&&(t.__h.forEach(Sn),t.__h.forEach(Tn),t.__h=[])},F_.diffed=function(e){ig&&ig(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==$_.push(t)&&J_===F_.requestAnimationFrame||((J_=F_.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(o),ng&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(i,100);ng&&(t=requestAnimationFrame(i))})(yn)),Q_=void 0},F_.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Sn),e.__h=e.__h.filter((function(e){return!e.__||Tn(e)}))}catch(Y_){t.some((function(e){e.__h&&(e.__h=[])})),t=[],F_.__e(Y_,e.__v)}})),og&&og(e,t)},F_.unmount=function(e){rg&&rg(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(Sn)}catch(e){F_.__e(e,t.__v)}};var ng="function"==typeof requestAnimationFrame;const ag=e=>ne(e)?e:new Sc(e,{code:"PREACT_ERROR",details:{error:e}}),sg=e=>{const[t]=pn(new lu({status:"initial"}));An((()=>{const i=t.getValue();return"initial"!==i.status?(e.onFirstRender(i),W):t.addOne((t=>{"initial"!==t.status&&e.onFirstRender(t)}))}),[t]),mn((()=>{"initial"===t.getValue().status&&t.dispatch({status:"success"})}),[t]);const[i]=function(i){var o=hn(q_++,10),r=pn();return o.__=function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];const n=kl(o)&&1===o.length&&wl(o[0])?o[0]:void 0,a=null!=n?n:new Error("Preact error boundary error"),s=ag(a);Bc.error({error:s});const{status:l}=t.getValue();"initial"===l?t.dispatch({status:"error",error:s}):e.onRuntimeError(s)},Q_.componentDidCatch||(Q_.componentDidCatch=function(e){o.__&&o.__(e),r[1](e)}),[r[0],function(){r[1](void 0)}]}();return i||"error"===t.getValue().status?null:zr(Yr,null,e.children)},lg=e=>zr(Yr,null,ql(e.components,((t,i)=>i(Cn({},e.componentsProps,{children:t}))),e.children)),dg=un(yl);dg.Provider.displayName="SlotSizeContext";const cg=e=>On(e),ug=()=>fn(dg),hg=un(document.body);hg.Provider.displayName="SlotContext",Number(new Date);class pg{constructor(){this.usingStylesByContainersMap=new WeakMap}addStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return this.usingStylesByContainersMap.set(e,new Map([[t,1]])),!0;const o=i.get(t);return o?(i.set(t,o+1),!1):(i.set(t,1),!0)}removeStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return!0;const o=i.get(t);return!o||(i.set(t,o-1),!(o>1)&&(i.delete(t),0===i.size&&this.usingStylesByContainersMap.delete(e),!0))}}class mg{constructor(){this.stylesUsingCounter=new pg,this.styleElementsMap=new WeakMap}useStyleModule(e,t){const i=t,o=[];for(let r=0;r<i.length;r++){const[t,n]=i[r];if(n){if(this.stylesUsingCounter.addStyleUsing(e,t)){const i=In(e,n),o=this.styleElementsMap.get(e);o?o.set(t,i):this.styleElementsMap.set(e,new Map([[t,i]]))}o.push(t)}}return o.length?a((()=>{Ol(o,(t=>{const i=this.stylesUsingCounter.removeStyleUsing(e,t),o=this.styleElementsMap.get(e);i&&o&&(ke(o.get(t)),o.delete(t),0===o.size&&this.styleElementsMap.delete(e))}))})):W}}const Ag=new mg,vg=un({buttonText:"",openClickThroughUrl:W});vg.Provider.displayName="HoneypotContext";var _g=e(1256),gg=e.n(_g);const fg=e=>{let{children:t,onClick:i}=e;return kn(gg()),zr("div",{className:_g.locals.HoneypotButton,onClick:i},zr("div",{className:_g.locals.HoneypotButton__content},t))};var yg=e(6383),Sg=e.n(yg);const Tg=e=>{let{width:t,height:i}=e;return kn(Sg()),zr("div",{className:yg.locals.HoneypotOverlay,style:{width:t+"px",height:i+"px"}})};var Eg=e(5046),bg=e.n(Eg);const Cg=()=>{kn(bg());const{width:e,height:t}=ug(),{buttonText:i,openClickThroughUrl:o}=fn(vg);return zr("div",{onClick:i?void 0:o,className:wn(Eg.locals.HoneypotScreen,{[Eg.locals.HoneypotScreen_clickable]:!i}),style:{width:e+"px",height:t+"px"}},zr("div",{className:Eg.locals.HoneypotScreen__honeypotOverlayWrapper},zr(Tg,{width:e,height:t})),i&&zr("div",{className:Eg.locals.HoneypotScreen__buttonWrapper},zr(fg,{onClick:o},i)))},Pg=un((e=>{Bc.log({name:"StatsDefaultContextLog",data:{initialLog:e}})}));Pg.Provider.displayName="StatsLogContext";const wg=[e=>zr(hg.Provider,{value:e.container,children:e.children}),e=>zr(dg.Provider,{value:cg(e.containerSize),children:e.children}),e=>zr(dg.Provider,{value:cg(e.containerSize),children:e.children}),e=>zr(Pg.Provider,{value:e.logStatsEvent,children:e.children}),e=>zr(vg.Provider,{value:Nn(e),children:e.children})];class Og extends xc{constructor(e){super(),this.honeypotProgress=new lu(0),this.shouldPlay=new lu(!0),this.progress=new lu(0),this.props=e;const{win:t,onClick:i,videoNodeController:o,parent:r}=this.props;this.addDestroyHandler((t=>{kc("Honeypot: destroy honeypot reason=["+t.reason+"]"),e.logStatsEvent({name:"HoneypotDestroyed",data:{reason:t},probability:1})}));const n=t.document.createElement("div");r.appendChild(n);const a=function(e){const{container:t,onRuntimeError:i,onFirstRenderError:o}=e;return cn(zr(sg,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&o(e.error)}},zr(lg,{components:wg,componentsProps:e},zr(Cg,null))),t),()=>{cn(null,t)}}(Dn({},this.props,{container:n,containerSize:e.parentSize,onClick:()=>{e.logStatsEvent({name:"HoneypotButtonClicked",probability:1}),i()},onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})}}));this.addDestroyHandler((()=>{a(),ke(n)})),e.logStatsEvent({name:"HoneypotRendered",probability:1});const s=new M_(t,(e=>{let{time:t}=e;const i=Math.atan(t/1e4)/(.5*Math.PI);this.honeypotProgress.dispatch(i)}));if(this.addDestroyHandler((()=>{s.stop()})),s.start(),void 0!==o){const t=o.getMuted();if(!t){let e;o.setMuted(!0),this.addDestroyHandler(o.onVolumeChange.add((()=>{e=void 0!==e}))),this.addDestroyHandler((()=>{e||(o.setMuted(t),o.videoNode.dispatchEvent(new Event("volumechange",{bubbles:!1,cancelable:!0,composed:!1})))}))}o.setLoop(!0),o.play(),this.addDestroyHandler((()=>o.setLoop(!1))),e.logStatsEvent({name:"HoneypotBackgroundLoopedVideo"})}this.shouldPlay.add((e=>{e?s.start():s.stop(),void 0!==o&&(e?o.play():o.pause())}))}setPlaying(e){this.shouldPlay.dispatch(e)}}const Ig="https://"+Fd+"/pcode-static/measurers/75/omweb-js",kg=Ig+"/Session-Client/omid-session-client-v1.js",Ng=Ig+"/Service/omweb-v1.js",Dg=Ig+"/Compliance-Script/omid-compliance-verification-script-v1.js",Rg=async e=>{const t=Ao(e.document.body,{sandbox:"allow-scripts allow-same-origin"});if(!t)throw new Sc({code:"OMSDK_ERROR",details:{reason:"Could not init IFrame for OM SDK script"}});const i=Vg(t,kg),o=Vg(t,Ng),r=Promise.all([i,o]),n=Promise.race([r.then((()=>t)),Yc(3e3,window).promise.then((()=>{throw new Error("OMID scripts loading timeout")}))]);return t.setAttribute("data-vas-omsdk",""),n},Vg=(e,t)=>{const{promise:i}=oo({src:t,win:e.contentWindow});return i},Lg=new Set;let xg,Bg;const Mg="0.0."+El;class Ug extends xc{get videoNode(){return this.adPodViewer.adDisplayController.videoNode}get videoNodeController(){return this.adPodViewer.adDisplayController.videoNodeController}constructor(e,t){super(),this.omsdkServiceScriptIframe=new I_,this.omidSessionClient=new I_,this.onSessionFinish=new Gd,this.onDestroy=new I_,this.addDestroyHandler((()=>this.onDestroy.dispatch(void 0))),this.adPodViewer=e,this.verificationScriptParametersList=t,(async e=>{void 0===xg&&(void 0===Bg&&(Bg=Rg(e)),xg=await Bg);const t=()=>{if(Lg.has(t)&&(Lg.delete(t),0===Lg.size)){const t=xg;e.setTimeout((()=>{ke(t)}),3e3),xg=void 0,Bg=void 0}};return Lg.add(t),{omsdkFriendlyIFrame:xg,release:t}})(window).then((e=>{let{omsdkFriendlyIFrame:i,release:o}=e;this.omsdkServiceScriptIframe.dispatch(i),this.addDestroyHandler(o),Bc.log({name:"OmidVerifiersHasBeenSuccessfullyLoaded",data:{parameters:JSON.stringify(t)},probability:1})})).catch((e=>(kc("[OMSDK]: Could not register OMSDK on page"),this.destroy({reason:"Could not register OMSDK on page: "+e.message,isError:!0})))),this.addDestroyHandler(this.omsdkServiceScriptIframe.subscribe((e=>{const t=Cc(e.contentWindow,"OmidSessionClient.default");t?(kc("OmidSessionClient initialized, "+t),this.omidSessionClient.dispatch(t)):this.destroy({reason:"OmidSessionClient was not initialized",isError:!0})}))),this.addDestroyHandler((e=>{let{reason:t,isError:i}=e;kc("[OMSDKController]: destroy "+t),i&&Bc.error({error:new Sc({code:"OMSDK_ERROR",details:{reason:t}})})}))}async initSession(e){let{impressionType:i="unspecified",startStrategy:o}=e;if(this.isDestroyed)return;const r=await Promise.race([this.omidSessionClient.wait(),this.onDestroy.wait()]);if(void 0!==r)try{var n;const{Partner:e,VerificationScriptResource:a,Context:s,AdSession:l,AdEvents:d,MediaEvents:c,VastProperties:u}=r,h=function(e){return void 0===e&&(e=window),String(e.location)}(window).split("?").shift(),p=new s(new e("Yandex",Mg),Nc(this.verificationScriptParametersList,(e=>{let{javaScriptResource:t,vendorKey:i,verificationParameters:o,accessMode:r}=e;return new a(t,i,o,r)})),h);p.setVideoElement(this.videoNode),jd.isDebugEnabled&&(p.underEvaluation=!0);const m=null==(n=this.omsdkServiceScriptIframe.getValue())?void 0:n.contentWindow;if(!m)throw new Error("OMSDK service script IFrame is unloaded");p.setServiceWindow(m);const A=new l(p);if(!A.isSupported())throw new Error("AdSession is not supported");A.setCreativeType("video"),A.setImpressionType(i);const v=new d(A),_=new c(A);A.start(),this.addDestroyHandler((e=>{let{reason:t}=e;"complete"===t&&_.complete(),"skip"===t&&_.skipped(),A.finish(),this.onSessionFinish.dispatch()}));const g=t(this.adPodViewer.adPodViewerPlaybackParams.skipDelay),f=new u(g,this.adPodViewer.adPodViewerPlaybackParams.skipDelay,"startPlaying"===o,function(e){switch(e.mediaAd.adBreak.adType){case"midroll":case"inroll":case"pauseroll":return"midroll";case"preroll":return"preroll";case"postroll":return"postroll";default:return"standalone"}}(this.adPodViewer));this.adPodViewer.addDestroyHandler((e=>{let{reason:t,details:i}=e;"error"===t&&void 0!==i&&A.error("generic",i.message)})),this.videoNodeController.onError.add((e=>A.error("video",e.message))),this.videoNodeController.onLoadedData.add((()=>{v.loaded(f)})),this.videoNodeController.isBuffering.add((e=>{e?_.bufferStart():_.bufferFinish()})),this.adPodViewer.isStarted.add((()=>{const{duration:e}=this.videoNodeController.getCurrentPosition(),t=this.videoNodeController.getVolume();_.start(e,t)})),this.adPodViewer.onImpression.add((()=>{v.impressionOccurred()})),this.adPodViewer.onFirstQuartile.add((()=>_.firstQuartile())),this.adPodViewer.onMidpoint.add((()=>_.midpoint())),this.adPodViewer.onThirdQuartile.add((()=>_.thirdQuartile())),this.adPodViewer.onClickThrough.add((()=>_.adUserInteraction("click"))),this.adPodViewer.onPause.add((()=>_.pause())),this.adPodViewer.onResume.add((()=>_.resume())),this.videoNodeController.onVolumeChange.add((()=>{_.volumeChange(this.adPodViewer.adDisplayController.getVolume())})),this.adPodViewer.adDisplayController.isFullscreen.add((e=>{_.playerStateChange(e?"fullscreen":"normal")}))}catch(G_){this.destroy({reason:"Session initialization failed: "+G_.message,isError:!0})}}}const Fg=[Hd,Fd],Hg=new Set;Ol([...Fg,"static.adsafeprotected.com","z.moatads.com"],(e=>{Hg.add(e)}));class zg{constructor(e){this.position=0,this.offset=0,this.onAnimationFrame=e=>{let{diff:t}=e;const i=t/this.duration,o=1500/this.duration;if(Math.abs(this.offset)>=o){const e=this.position+i+this.offset;return void this.setPosition(e)}const r=i*(1+this.offset/o);this.position=Co(this.position+r,0,1),this.position>=1&&this.onFinishOnce(),this.offset+=i-r,this.params.callback(this.position)},this.params=e,this.duration=e.duration,this.onFinishOnce=a(e.onFinish),this.animationFramesController=new M_(e.win,this.onAnimationFrame)}start(){this.animationFramesController.start()}stop(){this.animationFramesController.stop()}adjustPosition(e){this.offset=e-this.position}setDuration(e){this.duration=e}setPosition(e){e>=1&&this.onFinishOnce(),this.position!==e&&(this.position=Co(e,0,1),this.offset=0,this.params.callback(e))}}class jg extends xc{constructor(e){var t;super(),this.progress=new lu(0),this.shouldPlay=new lu(!0),this.props=e;const{duration:o,win:r}=e;this.isInfiniteDuration=!i(o),this.destroyAfterComplete=null==(t=e.destroyAfterComplete)||t,this.isInfiniteDuration?this.animationController=new M_(r,(e=>{let{time:t}=e;const i=Math.atan(t/1e4)/(.5*Math.PI);this.progress.dispatch(i)})):this.animationController=new zg({win:r,duration:o*Rm,callback:e=>{this.progress.dispatch(e)},onFinish:()=>{this.destroyAfterComplete&&this.destroy({reason:"complete",details:void 0})}})}setPlaying(e){this.shouldPlay.dispatch(e)}show(){const{win:e,imageUrl:t,videoNodeController:i,parent:o,logStatsEvent:r}=this.props,n=!t||"TRUE"===qd.getFlagValueAndActivateTestId("VAS_USE_VIDEO_AS_PACKSHOT_BACKGROUND_IN_FIRST_PRIORITY");if(t&&wr(o,Mn({},yu,{backgroundImage:"url("+t+")",backgroundPosition:"center",backgroundSize:"cover"})),this.addDestroyHandler((()=>{this.animationController.stop(),this.progress.removeAll(),this.shouldPlay.removeAll()})),this.progress.add((e=>{e>=1&&this.animationController.stop()})),this.animationController.start(),n&&void 0!==i){const e=i.getMuted();if(!e){let t;i.setMuted(!0),this.addDestroyHandler(i.onVolumeChange.add((()=>{t=void 0!==t}))),this.addDestroyHandler((()=>{t||(i.setMuted(e),i.videoNode.dispatchEvent(new Event("volumechange",{bubbles:!1,cancelable:!0,composed:!1})))}))}i.setLoop(!0),i.play(),this.addDestroyHandler((()=>i.setLoop(!1))),r({name:"PackshotBackgroundLoopedVideo",probability:hc})}this.shouldPlay.add((e=>{e?this.animationController.start():this.animationController.stop(),n&&void 0!==i&&(e?i.play():i.pause())}));const a=e.document.createElement("div");a.style.height="100%",o.appendChild(a);const s=this.renderPackshotContent(Mn({},this.props,{parent:a}));this.addDestroyHandler((()=>{s(),ke(a)}))}setProgress(e){this.animationController instanceof zg&&this.animationController.setPosition(e)}}var Yg=e(5432),Wg=e.n(Yg);const Gg=e=>{const{url:t,children:i,onClick:o,pointerEvents:r}=e;return kn(Wg()),zr("a",{onClick:e=>{e.preventDefault(),L(o)&&o()},className:Yg.locals.ClickThroughLink,"data-pointer-events":r,href:t,target:"_blank",rel:"nofollow noreferrer"},i)},Xg=e=>{const{isClickDisabled:t,children:i,clickThruUrl:o,onClickThru:r}=e;return t?zr(Yr,null,i):zr(Gg,{onClick:r,url:o},i)},Kg=un(Kh);Kg.Provider.displayName="I18NContext";const qg=e=>{let{lang:t}=e;return t},Qg=()=>{const e=fn(Kg);return t=>uv(t,e)},Jg=()=>fn(Kg),Zg=e=>{const{width:t="1em",height:i="1em",style:o={}}=e;return zr("svg",{width:t,height:i,style:Un({margin:"0 -0.1em",fontSize:"0.6em",width:"0.87em",height:"1em"},o),viewBox:"14 14 38 38"},zr("g",{"fill-rule":"nonzero",fill:"currentcolor"},zr("path",{d:"M16.002 31.832c-.003.051-.003.102 0 .133a1.51 1.51 0 0 0 .453 1.096 1.55 1.55 0 0 0 1.104.444h24.216l-9.081 8.833a1.51 1.51 0 0 0-.478 1.497 1.53 1.53 0 0 0 1.113 1.117 1.55 1.55 0 0 0 1.509-.432l11.779-11.45a1.51 1.51 0 0 0 0-2.171L34.841 19.452c-.441-.44-1.108-.573-1.687-.336a1.52 1.52 0 0 0-.951 1.423 1.51 1.51 0 0 0 .479 1.081l9.093 8.844H17.561a1.54 1.54 0 0 0-1.559 1.369z"})))};var $g=e(2563),ef=e.n($g);let tf;var of,rf,nf;!function(e){e[e.RED=0]="RED",e[e.GREEN=1]="GREEN",e[e.BLUE=2]="BLUE",e[e.ALPHA=3]="ALPHA"}(of||(of={})),function(e){e[e.HUE=0]="HUE",e[e.SATURATION=1]="SATURATION",e[e.LIGHTNESS=2]="LIGHTNESS"}(rf||(rf={})),function(e){e[e.HUE=0]="HUE",e[e.SATURATION=1]="SATURATION",e[e.VALUE=2]="VALUE"}(nf||(nf={}));const af=/^#?/,sf=/^#[0-9A-F]{8}$/,lf=/^#[0-9A-F]{6}$/,df=/^#([0-9A-F])([0-9A-F])([0-9A-F])$/,cf=/^#([0-9A-F])([0-9A-F])([0-9A-F])([0-9A-F])$/,uf="0123456789abcdef";class hf{constructor(e){this.rgba=[0,0,0,1],this.set(e)}static isColor(e){return e instanceof hf||Boolean(e&&void 0!==e.rgba)}set(e){if(!e)return this;s(e)?e=function(e){const t=function(e){return e=(e+"").toUpperCase().replace(af,"#"),sf.test(e)?e:lf.test(e)?e+"FF":df.test(e)?e.replace(df,"#$1$1$2$2$3$3FF"):cf.test(e)?e.replace(cf,"#$1$1$2$2$3$3$4$4"):null}(e);return t?[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16),parseInt(t.substr(7,2),16)/255]:null}(e):hf.isColor(e)&&(e=e.toRgbaArray());const t=e,i=function(e){if(!e||!nd(e))return!1;if(!Hn(e.length,3,4))return!1;for(let t=0;t<e.length;t++)if(!Yn(t,e[t]))return!1;return!0}(t);if(i)for(let o=0;o<t.length;o++)this.setChannel(o,t[o]);return this}setChannel(e,t){Yn(e,t)&&(e===of.ALPHA?this.rgba[e]=Number(t.toPrecision(2)):this.rgba[e]=t>>0)}setAlpha(e){return this.setChannel(of.ALPHA,e),this}toString(){return 1!==this.rgba[of.ALPHA]?this.toRgbaString():this.toHexString()}toHexString(){return"#"+this.toHexArray().join("")}toRgbString(){return"rgb("+this.toRgbArray().join(",")+")"}toRgbaString(){return"rgba("+this.rgba.join(",")+")"}toHexArray(){const{rgba:e}=this;return[jn(e[of.RED]),jn(e[of.GREEN]),jn(e[of.BLUE])]}toRgbArray(){const e=this.rgba;return[e[of.RED],e[of.GREEN],e[of.BLUE]]}toRgbaArray(){return[...this.rgba]}getLuminosity(){const e=this.rgba,t=[];for(let i=0;i<3;i++){const o=e[i]/255;t[i]=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]}getContrast(e){const t=this.getLuminosity(),i=new hf(e).getLuminosity();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)}getBrightness(){return zn(this.rgba)}isLight(e){return function(e,t){return void 0===t&&(t=127),zn(e)>t}(this.rgba,e)}toReadable(e){return new hf(this.isLight(e)?"#000":"#fff")}mix(e,t){void 0===t&&(t=.5),t=1-t;const i=new hf(e),o=this.rgba,r=i.toRgbaArray(),n=o[of.ALPHA],a=r[of.ALPHA],s=2*t-1,l=n-a,d=((s*l===-1?s:(s+l)/(1+s*l))+1)/2,c=1-d;return new hf([d*o[of.RED]+c*r[of.RED],d*o[of.GREEN]+c*r[of.GREEN],d*o[of.BLUE]+c*r[of.BLUE],n*t+a*(1-t)])}toGreyscale(){const e=this.rgba,t=.3*e[of.RED]+.59*e[of.GREEN]+.11*e[of.BLUE];return new hf([t,t,t,e[of.ALPHA]])}lighten(e){const t=this.getHSL();return t[2]+=100*e,this.clone().setHSL(t)}darken(e){const t=this.getHSL();return t[2]-=100*e,this.clone().setHSL(t)}saturate(e){const t=this.getHSL();return t[1]+=t[1]*e,this.clone().setHSL(t)}desaturate(e){const t=this.getHSL();return t[1]-=t[1]*e,this.clone().setHSL(t)}getHSL(){const[e,t,i]=this.rgba;return function(e,t,i){e/=255,t/=255,i/=255;const o=Math.max(e,t,i),r=Math.min(e,t,i),n=o-r;let a=0;o===r?a=0:e===o?a=(t-i)/n:t===o?a=2+(i-e)/n:i===o&&(a=4+(e-t)/n),a=Math.min(60*a,360),a<0&&(a+=360);const s=(r+o)/2;let l=0;return l=o===r?0:s<=.5?n/(o+r):n/(2-o-r),[a,100*l,100*s]}(e,t,i)}setHSL(e){const[t,i,o]=e;return this.set(function(e,t,i){let o,r;if(e/=360,i/=100,0===(t/=100))return o=255*i,[o,o,o];r=i<.5?i*(1+t):i+t-i*t;const n=2*i-r,a=[0,0,0];let s;for(let l=0;l<3;l++)s=e+1/3*-(l-1),s<0&&s++,s>1&&s--,o=6*s<1?n+6*(r-n)*s:2*s<1?r:3*s<2?n+(r-n)*(2/3-s)*6:n,a[l]=255*o;return a}(t,i,o))}getHSV(){const[e,t,i]=this.rgba;return function(e,t,i){const[o,r,n]=function(e,t,i){e/=255,t/=255,i/=255;const o=Math.max(e,t,i),r=Math.min(e,t,i),n=o-r;let a=0;const s=0===o?0:n/o,l=o;if(o!==r){switch(o){case e:a=(t-i)/n+(t<i?6:0);break;case t:a=(i-e)/n+2;break;case i:a=(e-t)/n+4}a/=6}return[a,s,l]}(e,t,i);return[Math.max(0,Math.min(360,Math.round(360*o))),Math.max(0,Math.min(100,Math.round(100*r))),Math.max(0,Math.min(100,Math.round(100*n)))]}(e,t,i)}setHSV(e){const[t,i,o]=e;return this.set(function(e,t,i){const o=Math.max(0,Math.min(e,360))/360,r=Math.max(0,Math.min(t,100))/100,n=Math.max(0,Math.min(i,100))/100,[a,s,l]=function(e,t,i){let o=0,r=0,n=0;const a=Math.floor(6*e),s=6*e-a,l=i*(1-t),d=i*(1-s*t),c=i*(1-(1-s)*t);switch(a%6){case 0:o=i,r=c,n=l;break;case 1:o=d,r=i,n=l;break;case 2:o=l,r=i,n=c;break;case 3:o=l,r=d,n=i;break;case 4:o=c,r=l,n=i;break;case 5:o=i,r=l,n=d}return[255*o,255*r,255*n]}(o,r,n);return[Math.max(0,Math.min(Math.round(a),255)),Math.max(0,Math.min(Math.round(s),255)),Math.max(0,Math.min(Math.round(l),255))]}(t,i,o))}clone(){return new hf(this.rgba)}getAverage(){return(this.rgba[of.RED]+this.rgba[of.GREEN]+this.rgba[of.BLUE])/3}invert(){const[e,t,i]=this.rgba;return new hf([255-e,255-t,255-i])}}const pf=e=>{let{size:t,children:i}=e;kn(ef());const o=Fn("VAS_BUTTON_COLOR"),r=o?{backgroundColor:o,color:new hf(o).toReadable().toString()}:{};return zr("div",{className:wn($g.locals.ActionButton,{[$g.locals.ActionButton__content_middle]:"middle"===t,[$g.locals.ActionButton__content_small]:"small"===t}),style:r},zr("div",{className:$g.locals.ActionButton__textWrapper},i),zr(Zg,{style:{width:"2em",height:"2em",padding:"0 0.2em",marginLeft:Boolean(i)?"0.3em":"0px",flexShrink:"0"}}))};var mf=e(6246),Af=e.n(mf);const vf=e=>{let{title:t,greenUrl:i}=e;return kn(Af()),zr("div",{className:mf.locals.InfoBlock},zr("div",{className:mf.locals.InfoBlock__title},t),i?zr("div",{className:mf.locals.InfoBlock__greenUrl},i):null)};var _f=e(9461),gf=e.n(_f);const ff=e=>{kn(gf());const t=Qg(),i=t("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),o=t("THEME_EMPTY_ACTION_BUTTON_LABEL"),{title:r,greenUrl:n,onClickThrough:a,buttonLabel:s=o,faviconSrc:l,targetUrl:d,useDefaultButtonLabel:c=!1}=e;return zr("div",{className:_f.locals.ActionPanel__clickableLayer},zr("div",{className:_f.locals.ActionPanel},zr("div",{className:_f.locals.ActionPanel__content},zr(Gg,{url:d,onClick:()=>{a({clickSource:"ActionPanel",playerHandles:!0,url:void 0})}},zr("div",{className:_f.locals.ActionPanel__mask},zr("div",{className:wn(_f.locals.ActionPanel__wrapper,!l&&_f.locals.ActionPanel__wrapper_wide)},zr(vf,{greenUrl:n,title:h(r)?r:i}),zr(pf,{size:"big"},c?o:s)))),l?zr("div",{className:_f.locals.ActionPanel__favicon},zr("img",{onClick:()=>{a({playerHandles:!0,url:void 0,clickSource:"ActionPanelFaviconImage"})},src:l,alt:"favicon"})):null)))},yf=un({themeEmptyParameters:void 0,clickThrough:W});yf.Provider.displayName="ThemeEmptyContext";const Sf=e=>{let{themeEmptyParameters:t,clickThrough:i}=e;return{themeEmptyParameters:On(t),clickThrough:i}},Tf=()=>fn(yf);var Ef=e(6413),bf=e.n(Ef);const Cf=un({clickThrough:W,clickUrl:void 0,videoSlotClickUrl:void 0});Cf.Provider.displayName="ClickUrlDataContext";const Pf=e=>{const t=On(e.currentVastAd),i=On(e.videoSlotClickUrl);return _n((()=>({clickThrough:e.clickThrough,clickUrl:null==t?void 0:t.clickUrlData.tgaOfferClickUrl,videoSlotClickUrl:i})),[t])},wf=()=>fn(Cf),Of=e=>{kn(bf());const t=Qg(),{themeEmptyParameters:i}=Tf(),o=ug(),{clickUrl:r,clickThrough:n}=wf(),{greenUrl:a,targetUrl:s}=i||{},l=gn((()=>{n({url:r,playerHandles:!0,clickSource:"SkinActionButton"})}),[n,r]),{showLabelOnButton:d,faviconSrc:c}=e,u=t("THEME_EMPTY_ACTION_BUTTON_LABEL"),h=t("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),p=null!=a?a:h,m=o.width>=260;return zr(Gg,{url:s,onClick:l},zr("div",{className:Ef.locals.ActionPanelSmall__clickableContainer},zr("div",{className:Ef.locals.ActionPanelSmall},c?zr("div",{className:Ef.locals.ActionPanelSmall__favIconContainer},zr("img",{className:Ef.locals.ActionPanelSmall__favIcon,src:c,alt:"favicon"})):void 0,m&&zr("span",{className:Ef.locals.ActionPanelSmall__label},p),zr("div",{style:{paddingRight:4}},zr(pf,{size:"small"},d?u:void 0)))))},If=un({});If.Provider.displayName="ControlsVisibilityContext";const kf=e=>On(e),Nf=()=>fn(If),Df=un(void 0);Df.Provider.displayName="FaviconSrcContext";const Rf=e=>{const t=On(e);return null==t?void 0:t.url},Vf=()=>fn(Df),Lf=-1,xf=un({timeToSkip:Lf,skipCallback:W});xf.Provider.displayName="SkipContext";const Bf=e=>{let{timeToSkipSignal:t,skipCallback:i}=e;return{timeToSkip:On(t),skipCallback:i}},Mf=()=>fn(xf);var Uf=e(7480),Ff=e.n(Uf);const Hf=e=>{let{children:t}=e;kn(Ff());const i=Fn("VAS_BUTTON_COLOR"),o=i?{backgroundColor:i,color:new hf(i).toReadable().toString()}:{};return zr("div",{className:Uf.locals.PackshotButton},zr("div",{className:Uf.locals.PackshotButton__content,style:o},t))};var zf=e(4368),jf=e.n(zf);const Yf=e=>{let{width:t,height:i}=e;return kn(jf()),zr("div",{className:zf.locals.PackshotOverlay,style:{width:t+"px",height:i+"px"}})};var Wf=e(3162),Gf=e.n(Wf);const Xf=e=>{kn(Gf());const t=Qg(),i=ug(),{timeToSkip:o}=Mf(),{skip:r}=Nf(),n=function(e){let t;const{width:i}=e;let o;return t=i<360?14:i>=1024?32:Math.max(16,Math.min(14+2*Math.floor((i-240)/80),30)),o=i<560?13:i<720?14:16,{title:{fontSize:t,lineHeight:t+4},body:{fontSize:t-2,lineHeight:t+4},textBlock:{fontSize:o},ctaButton:{fontSize:Gn(e)}}}(i),a=function(e){const{width:t}=e;return t<640?.1*t:t<960?.15*t:.2*t}(i),{descriptionText:s,openClickThroughUrl:l,disableOverlay:d=!1,disableTitle:c=!1,disableButton:u=!1,clickUrl:p,title:m,packshotNewDesignMode:A,showAnimationDuration:v}=e,_=Qg(),{themeEmptyParameters:g}=Tf(),f=void 0===g&&!0!==c&&!0!==u,y=void 0!==g&&!0!==u,S=wn(Wf.locals.PackshotScreen,{[Wf.locals.PackshotScreen_clickable]:f,[Wf.locals.PackshotScreen_withAnimation]:"number"===typeof v}),T=!0===c?void 0:null!=m?m:_("LEARN_MORE_ON_ADVERTISERS_WEBSITE"),{greenUrl:E,label:b,targetUrl:C}=null!=g?g:{},P=Vf(),w="OFF"!==A,O=!1!==r&&o>=0,I=i.width<=400&&w&&O&&i.width>i.height,k=i.width<=400,N=w?zr("div",{className:Wf.locals.PackshotScreen__content},zr(Xg,{isClickDisabled:f,clickThruUrl:p,onClickThru:()=>{l({clickSource:"PackshotTitle",playerHandles:!0,url:void 0})}},T&&zr("div",{style:{fontSize:n.title.fontSize+"px",lineHeight:n.title.lineHeight+"px",padding:"0 "+a+"px"}},zr("div",{className:Wf.locals.PackshotScreen__title},T))),y&&zr("div",{className:wn(Wf.locals.PackshotScreen__buttonWrapper_newDesign,{[Wf.locals.PackshotScreen__buttonWrapper_newDesign_float_left]:I}),style:{fontSize:n.ctaButton.fontSize+"px"}},k?zr(Of,{showLabelOnButton:!0,faviconSrc:P}):zr(ff,{useDefaultButtonLabel:I,title:void 0,greenUrl:E,buttonLabel:b,targetUrl:C,onClickThrough:f?W:l,faviconSrc:I?void 0:P}))):g&&zr("div",{className:Wf.locals.PackshotScreen__buttonWrapper},zr(Gg,{url:p,onClick:()=>{l({url:void 0,playerHandles:!0,clickSource:"PackshotButton"})}},zr(Hf,null,b||t("LEARN_MORE")))),{width:D,height:R}=i,V=zr("div",{className:S,style:{width:D+"px",height:R+"px","--cp-show-animation-duration":"number"===typeof v?v+"s":"unset"}},!d&&zr("div",{className:Wf.locals.PackshotScreen__packshotOverlayWrapper},zr(Yf,{width:D,height:R})),N,h(s)&&zr("div",{className:w?Wf.locals.PackshotScreen__textBlock_newDesgin:Wf.locals.PackshotScreen__textBlock,style:{fontSize:n.textBlock.fontSize+"px"}},s));return f?(e=>zr(Gg,{url:p,onClick:()=>{l({clickSource:"PackshotContainer",url:void 0,playerHandles:!0})}},e))(V):V};var Kf=e(7859),qf=e.n(Kf);const Qf=e=>{let{disableBackground:t,disableBlur:i}=e;return kn(qf()),zr("div",{className:Kf.locals.PackshotOverlay},!t&&zr("div",{className:wn(Kf.locals.PackshotOverlay__background,Kf.locals.PackshotOverlay__fullsize)}),!i&&zr("div",{className:wn(Kf.locals.PackshotOverlay__blur,Kf.locals.PackshotOverlay__fullsize)}))};var Jf=e(1884),Zf=e.n(Jf);const $f=450,ey=un("middle");ey.Provider.displayName="SkinSizeNameContext";const ty=()=>fn(ey),iy=un({socialAdvertising:!1});iy.Provider.displayName="SocialAdvertisingContext";const oy=e=>{let{adDisplayController:t}=e;return{socialAdvertising:On(t.socialAdvertising)}},ry=()=>fn(iy);var ny=e(5817),ay=e.n(ny);const sy=e=>{let{size:t,tooltipText:i,label:o,dspLabel:r,ageRestriction:n,domain:a,onClick:s,theme:l}=e;if(kn(ay()),!h(o)&&!h(n))return null;const d=h(o);return zr("div",{className:wn(ny.locals.AdLabel,{[ny.locals.AdLabel_fullSize]:"small"!==t,[ny.locals.AdLabel_clickable]:d,[ny.locals.AdLabel_light]:"light"===l,[ny.locals.AdLabel_dark]:"dark"===l}),title:h(i)?i:void 0,onClick:d?s:void 0,"data-testid":"adLabel"},o,r?zr(Yr,null,h(o)&&zr("span",{className:ny.locals.AdLabel__delimiter},"|"),zr("span",null,r)):null,n?zr(Yr,null,h(o)&&zr("span",{className:ny.locals.AdLabel__delimiter},"|"),zr("span",{className:ny.locals.AdLabel__ageLabel},n)):null,a?zr(Yr,null,h(o)&&zr("span",{className:ny.locals.AdLabel__delimiter},"|"),zr("span",{className:ny.locals.AdLabel__domain},a)):null)},ly=un({adSystemType:void 0,dspLabel:void 0,openAdSystemWebsite:W,isInBanner:!1});ly.Provider.displayName="AdSystemContext";const dy=e=>{let{adDisplayController:t}=e;const i=On(t.currentVastAd),o=On(t.adSystemType),r=t.openAdSystemWebsite,n="InBanner"===(null==i?void 0:i.adSystem);return{adSystemType:o,openAdSystemWebsite:r,dspLabel:null==i?void 0:i.dspLabel,isInBanner:n}},cy=()=>fn(ly),uy=un({creativeType:void 0});uy.Provider.displayName="CreativeTypeContext";const hy=e=>{let{adDisplayController:t}=e;return{creativeType:On(t.creativeType)}},py=()=>fn(uy),my=un(void 0);my.Provider.displayName="VideoSlotClickUrlContext";const Ay=()=>fn(my),vy=un({domain:void 0});vy.Provider.displayName="AdTitleContext";const _y=e=>{var t;let{adDisplayController:i}=e;return{domain:null==(t=On(i.adTitleParameters))?void 0:t.domain}},gy=()=>{const e=Qg(),{socialAdvertising:t}=ry(),{openAdSystemWebsite:i,dspLabel:o}=cy(),{clickThrough:r,clickUrl:n}=wf(),a=Ay(),{domain:s}=fn(vy),{creativeType:l}=py(),d="survey"===l;let c=e("AD_TITLE");return d?c=e("SURVEY_AD_LABEL"):t&&(c=e("SOCIAL_ADVERTISING_AD_LABEL")),{onClick:()=>t?i():r(d?{url:"https://surveys.yandex.ru/landing/?from=direct_adlabel&utm_source=direct_adlabel",playerHandles:!0,clickSource:"SurveyAdLabel"}:{url:null!=n?n:a,playerHandles:!0,clickSource:"SkinAdLabel"}),label:c,dspLabel:o,tooltipText:c,domain:s}};var fy=e(9843),yy=e.n(fy);const Sy=un({containerElement:void 0,setContainerElement:W});Sy.Provider.displayName="TooltipContainerContext";const Ty=e=>{let{containerElement:t,setContainerElement:i}=e;return{containerElement:On(t),setContainerElement:i}},Ey=()=>fn(Sy),by=un({tooltipContent:void 0,setTooltipContent:W});by.Provider.displayName="TooltipContentContext";const Cy=e=>{let{tooltipContent:t,setTooltipContent:i}=e;return{tooltipContent:On(t),setTooltipContent:i}},Py=()=>fn(by),wy=un(void 0),Oy=e=>{let{bannerFlags:t}=e;return On(t)},Iy=()=>fn(wy),ky=e=>{var t,i;let{isSmall:o}=e;kn(yy());const r=Qg(),n=Nf(),a=null!=(t=null==(i=Iy())?void 0:i.businessUnit)&&t,s=vn(null);return function(e){let{targetElementRef:t,content:i,arrowPosition:o}=e;const r=fn(hg).ownerDocument.defaultView,{containerElement:n}=Ey(),{setTooltipContent:a}=Py();An((()=>{const e=t.current;if(!e)return;const s=new I_,l=le(r),d=()=>{if(!n)return void Bc.error({error:new Sc({code:"NO_CONTAINER_ELEMENT_TO_DRAW_TOOLTIP",details:{content:i}})});const t=e.getBoundingClientRect(),r=n.getBoundingClientRect(),s={top:t.top-r.top,left:t.left-r.left,winWidth:r.width,winHeight:r.height,width:t.width,height:t.height};Bc.log({name:"ShowTooltip",sensors:{isTouch:l}});const d={content:i,targetElementCoordinates:s,onClickClose:l?()=>{a(void 0)}:void 0,arrowPosition:o};a(d)},c=()=>{a(void 0)};return s.subscribe(c),l?s.subscribe(Ie({element:e,eventName:"click",listener:d})):(s.subscribe(Ie({element:e,eventName:"mouseenter",listener:d})),s.subscribe(Ie({element:e,eventName:"mouseleave",listener:c}))),()=>{s.dispatch(void 0)}}),[t.current,i])}({targetElementRef:s,content:r("BU_LABEL_TOOLTIP_TEXT"),arrowPosition:"top"}),!1===n.businessUnitAdLabel?null:a?zr("div",{ref:s,className:wn(fy.locals.BusinessUnitAdLabel,{[fy.locals.BusinessUnitAdLabel_small]:o})},zr(Kn,null)):null};var Ny=e(7769),Dy=e.n(Ny);const Ry=un({playingState:"idle",isStarted:!1,isSlowStart:!1,play:W,pause:W});Ry.Provider.displayName="PlayingStateContext";const Vy=e=>{let{adDisplayController:t}=e;const[i,o]=pn(!1),r=On(t.playingState),n=On(t.adSlowStart);return mn((()=>{const e=t.onAdStart.addOne((()=>{o(!0)}));return()=>{e()}}),[]),{playingState:r,isStarted:i,isSlowStart:n,play:()=>{t.resume()},pause:()=>{t.pause()}}},Ly=()=>fn(Ry),xy=e=>{let{show:t}=e;kn(Dy());const i=Nf(),{playingState:o}=Ly(),r=ty(),{socialAdvertising:n}=ry(),{themeEmptyParameters:a}=Tf(),{ageRestriction:s}=a||{},l=!1!==i.ageLabel,d=!1!==i.socialAdLabel,{tooltipText:c,label:u,domain:h,onClick:p,dspLabel:m}=gy(),A=qd.getFlagValueAndActivateTestId("VAS_NEW_AD_LABEL_THEME"),v=!1!==i.adLabel&&"idle"!==o,_=(t||n&&d||v)&&zr(sy,{size:r,label:u,tooltipText:c,dspLabel:m,ageRestriction:l?s:void 0,domain:h,onClick:p,theme:"light"===A||"dark"===A?A:void 0});return zr("div",{class:Ny.locals.AdLabelsPanel},_,zr(ky,{isSmall:"small"===r}))},By=e=>{kn(Zf());const t=Qg()("REPEAT");return zr("div",{class:Jf.locals.VideoInComboPackshotScreen__PackshotHeader},zr("div",{className:Jf.locals.VideoInComboPackshotScreen__adlabelContainer},zr(xy,{show:!0})),e.onRepeatButtonClick&&zr("div",{class:Jf.locals.VideoInComboPackshotScreen__RepeatButton,onClick:e.onRepeatButtonClick},t,zr("div",{className:Jf.locals.VideoInComboPackshotScreen__RepeatIconContainer},zr(qn,null))))};var My=e(4659),Uy=e.n(My);const Fy=e=>{let{text:t,textLength:i,viewBox:o}=e;return kn(Uy()),zr("svg",{className:wn(My.locals.DisclaimerSvg),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",viewBox:o},zr("text",{className:My.locals.DisclaimerSvg_text,lengthAdjust:"spacing",textLength:i,y:"85%"},t))};var Hy=e(550),zy=e.n(Hy);const jy=((e,t,i,o)=>{const r=e=>.65*e-60,n=(5,330,e=>Math.max(5,Math.min(e,330)));return e=>{const t=r(e);return n(t)}})(),Yy=e=>{let{text:t,heightPortion:i}=e;const o=ug();kn(zy());const{textLength:r,viewBox:n,fontSize:a}=function(e,t){const{width:i,height:o}=e,r=o,n=Math.min(r,jy(i)),a=Math.max(i,t.length*n/1.2);return{fontSize:n,textLength:a,textPositionOffset:(r+n/2)/2,viewBox:"0 0 "+a+" "+r}}({width:o.width,height:o.height*i},t);return zr("div",{className:Hy.locals.Disclaimer,style:{height:o.height*i,fontSize:a}},zr(Fy,{text:t,textLength:r,viewBox:n}))},Wy=14,Gy=16,Xy=[{titleSize:32,bodySize:Gy},{titleSize:32,bodySize:Wy},{titleSize:30,bodySize:Gy},{titleSize:30,bodySize:Wy},{titleSize:28,bodySize:Gy},{titleSize:28,bodySize:Wy},{titleSize:22,bodySize:Gy},{titleSize:22,bodySize:Wy},{titleSize:19,bodySize:Gy},{titleSize:19,bodySize:Wy},{titleSize:32},{titleSize:30},{titleSize:28},{titleSize:22},{titleSize:19},{titleSize:Gy},{titleSize:Wy},{}],Ky=e=>{const{faviconSrc:t,domain:i,title:o,body:r,label:n,disclaimerInfo:a,paddingsStyle:s,clickUrl:l,openClickThroughUrl:d}=e;kn(Zf());const c=vn(null),u=vn(null),h=vn(null),[p,m]=pn(Xy[0]);mn((()=>{Qn(h,c,u).then(m)}),[o,r]);const A=wn(Jf.locals.VideoInComboPackshotScreen__PackshotMainContent,{[Jf.locals.VideoInComboPackshotScreen__PackshotMainContent_padding_big]:"big"===s,[Jf.locals.VideoInComboPackshotScreen__PackshotMainContent_padding_small]:"small"===s}),v=e=>()=>{d({clickSource:e,playerHandles:!0,url:void 0})},_=Fn("VAS_BUTTON_COLOR"),g=_?{backgroundColor:_,color:new hf(_).toReadable().toString()}:{};return zr("div",{className:Jf.locals.VideoInComboPackshotScreen__PackshotMain},zr("div",{className:A},t&&i&&zr("div",{class:Jf.locals.VideoInComboPackshotScreen__logoAndUrl},zr("img",{src:t,class:Jf.locals.VideoInComboPackshotScreen__favicon}),zr("div",{class:Jf.locals.VideoInComboPackshotScreen__url},i),zr(Xg,{clickThruUrl:l,onClickThru:v("VideoInComboPackshotLogoAndUrl"),isClickDisabled:!1},zr("div",{className:Jf.locals.VideoInComboPackshotScreen__fullsize}))),zr("div",{className:Jf.locals.VideoInComboPackshotScreen__titleBodyContainer,ref:h},o&&p.titleSize&&zr("div",{className:wn(Jf.locals.VideoInComboPackshotScreen__title,Jf.locals.VideoInComboPackshotScreen__calculatedFont),style:{"--fontsize":p.titleSize+"px"},ref:c},o,zr(Xg,{clickThruUrl:l,onClickThru:v("VideoInComboPackshotTitle"),isClickDisabled:!1},zr("div",{className:Jf.locals.VideoInComboPackshotScreen__fullsize}))),r&&p.bodySize&&zr("div",{className:wn(Jf.locals.VideoInComboPackshotScreen__body,Jf.locals.VideoInComboPackshotScreen__calculatedFont),style:{"--fontsize":p.bodySize+"px"},ref:u},r,zr(Xg,{clickThruUrl:l,onClickThru:v("VideoInComboPackshotBody"),isClickDisabled:!1},zr("div",{className:Jf.locals.VideoInComboPackshotScreen__fullsize})))),n&&zr("div",{className:Jf.locals.VideoInComboPackshotScreen__footer},zr("div",{className:Jf.locals.VideoInComboPackshotScreen__CTAbutton,style:g},n,zr(Xg,{clickThruUrl:l,onClickThru:v("VideoInComboPackshotButton"),isClickDisabled:!1},zr("div",{className:Jf.locals.VideoInComboPackshotScreen__fullsize}))))),a&&zr(Yy,{heightPortion:a.mandatoryHeightPortion,text:a.text}))},qy=Math.max(.1,.05),Qy=e=>{kn(Zf());const{openClickThroughUrl:t,disableOverlay:i=!1,disableTitle:o=!1,disableBody:r=!1,disableButton:n=!1,title:a,body:s,onHideCallback:l}=e,d=Qg(),c=Jg(),u=Vf(),{width:p}=ug(),{themeEmptyParameters:m}=Tf(),A=Jn(Iy(),c),v=wn(Jf.locals.VideoInComboPackshotScreen,Jf.locals.VideoInComboPackshotScreen__content,Jf.locals.VideoInComboPackshotScreen_withAnimation),_=p>=500?"big":"small",g=!0===o?void 0:null!=a?a:d("LEARN_MORE_ON_ADVERTISERS_WEBSITE"),f=!r&&h(s)?s:void 0,y=!0===n?void 0:(null==m?void 0:m.label)||d("THEME_EMPTY_ACTION_BUTTON_LABEL"),[S,T]=pn(!1),E=l?()=>{T(!0),l()}:void 0;return zr("div",{className:v,"data-hidden":S},!i&&zr("div",{className:Jf.locals.VideoInComboPackshotScreen__packshotOverlayWrapper,onClick:E},zr(Qf,null)),zr(By,{onRepeatButtonClick:E}),zr(Ky,{faviconSrc:u,domain:null==m?void 0:m.greenUrl,title:g,body:f,label:y,paddingsStyle:_,disclaimerInfo:A,clickUrl:null==m?void 0:m.clickUrl,openClickThroughUrl:t}))};class Jy extends jg{constructor(e){super(e),this.addDestroyHandler((t=>{kc("Packshot: destroy Packshot reason=["+t.reason+"]"),e.logStatsEvent({name:"PackshotDestroyed",data:{isInfiniteDuration:this.isInfiniteDuration,reason:t},probability:hc})}))}renderPackshotContent(e){const{title:t,body:i,descriptionText:o,openClickThroughUrl:r,disableOverlay:n,disableTitle:a,disableButton:s,clickUrl:l,packshotNewDesignMode:d,showAnimationDuration:c,isVideoInComboNewPackshot:u,onPackshotShowCallback:h,onPackshotHideCallback:p}=e,m=t=>{e.logStatsEvent({name:"PackshotButtonClicked",probability:1}),r(t)};return cn(zr(sg,{onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})},onFirstRender:e=>{"error"===e.status&&this.destroy({reason:"firstRenderError",details:e.error})}},zr(lg,{components:Zy,componentsProps:e},u?zr(Qy,{title:t,body:i,openClickThroughUrl:m,disableOverlay:n,disableTitle:a,disableButton:s,onHideCallback:p}):zr(Xf,{title:t,descriptionText:o,openClickThroughUrl:m,disableOverlay:n,disableTitle:a,disableButton:s,clickUrl:l,showAnimationDuration:c,packshotNewDesignMode:d}))),e.parent),null==h||h(),e.logStatsEvent({name:"PackshotRendered",data:{isInfiniteDuration:this.isInfiniteDuration},probability:hc}),()=>{null==p||p(),cn(null,e.parent)}}}const Zy=[e=>zr(hg.Provider,{value:e.parent,children:e.children}),e=>zr(dg.Provider,{value:cg(e.parentSize),children:e.children}),e=>zr(Pg.Provider,{value:e.logStatsEvent,children:e.children}),e=>zr(Kg.Provider,{value:qg(e),children:e.children}),e=>zr(yf.Provider,{value:{themeEmptyParameters:e.themeEmptyParameters,clickThrough:e.openClickThroughUrl},children:e.children}),e=>zr(Cf.Provider,{value:{clickThrough:e.openClickThroughUrl,clickUrl:e.clickUrl,videoSlotClickUrl:e.clickUrl},children:e.children}),e=>zr(xf.Provider,{value:Bf({timeToSkipSignal:e.timeToSkip,skipCallback:W}),children:e.children}),e=>zr(If.Provider,{value:kf(e.controlsVisibility),children:e.children}),e=>zr(Df.Provider,{value:Rf(e.favicon),children:e.children}),e=>zr(wy.Provider,{value:Oy({bannerFlags:e.bannerFlags}),children:e.children})],$y={duration:NaN,remainingTime:0};let eS;const tS=c({portion:"portion",seconds:"seconds"});class iS{constructor(e){this.trackingUrls={portion:[],seconds:[]},Ol(e,(e=>{let{urls:t,offset:{unit:i,value:o}}=e;this.trackingUrls[i].push({urls:[...t],offset:o})}))}getTrackingUrlsByPosition(e){let{duration:t,remainingTime:i}=e;if(!t||!Ct(i))return[];const o=t-i,r={portion:o/t,seconds:o},n=[];return Ol(tS,(e=>{const t=this.getTrackingUrlsByUnitAndOffset(e,r[e]);n.push(...t)})),n}getTrackingUrlsByUnitAndOffset(e,t){const[i,o]=Yi(this.trackingUrls[e],(e=>{let{offset:i}=e;return t>=i}));return this.trackingUrls[e]=o,Ke(Nc(i,(e=>{let{urls:t}=e;return t})))}}const oS="2.0",rS=c({getAdLinear:0,getAdHeight:0,getAdWidth:0,getAdExpanded:0,getAdRemainingTime:0,getAdDuration:0,getAdVolume:0,getAdSkippableState:0}),nS=["slot","videoSlot"];class aS extends xc{static getVpaidAd(e){return ur(new aS({outsideApi:e}))}handshakeVersion(){return oS}stopAd(){kc("[RemoteVPAID]: call remote stopAd()"),this.destroy({reason:"manual",details:"stopAd"}),sa(this.params.outsideApi.callVpaidMethod("stopAd",[]))}initAd(e,t,i,o,r,n){if(this.isDestroyed)return void Bc.error({error:new Sc({code:"VF_VPAID_INIT_CALLED_AFTER_DESTROY",details:{width:e,height:t,viewMode:i,desiredBitrate:o,creativeData:r,environmentVars:n}})});const a=function(e,t){if(null==e)return{};var i,o,r={},n=Object.keys(e);for(o=0;o<n.length;o++)i=n[o],t.indexOf(i)>=0||(r[i]=e[i]);return r}(n,nS);this.params.outsideApi.initCreative([{width:e,height:t,viewMode:i,desiredBitrate:o,creativeData:r,environmentVars:la({},a,{videoSlot:void 0,slot:void 0})}]).then(W).catch((e=>{this.destroy({reason:"fatal",details:e})}))}startAd(){this.callRemoteMethod("startAd",[])}skipAd(){this.callRemoteMethod("skipAd",[])}resizeAd(e,t,i){this.callRemoteMethod("resizeAd",[e,t,i])}pauseAd(){this.callRemoteMethod("pauseAd",[])}resumeAd(){this.callRemoteMethod("resumeAd",[])}expandAd(){this.callRemoteMethod("expandAd",[])}collapseAd(){this.callRemoteMethod("collapseAd",[])}setAdVolume(e){this.callRemoteMethod("setAdVolume",[e])}getAdDuration(){return this.getterValues.getAdDuration}getAdRemainingTime(){return this.getterValues.getAdRemainingTime}getAdVolume(){return this.getterValues.getAdVolume}getAdExpanded(){return this.getterValues.getAdExpanded}getAdHeight(){return this.getterValues.getAdHeight}getAdWidth(){return this.getterValues.getAdWidth}getAdLinear(){return this.getterValues.getAdLinear}getAdSkippableState(){return this.getterValues.getAdSkippableState}constructor(e){super(),this.unsubscribe=W,this.getAdIcons=w_,this.getterValues=Ue(Nc(rS,(e=>[e,wv[e]]))),this.subscribe=(e,t,i)=>{this.params.outsideApi.listenRemoteVpaidEvents(t,((t,o)=>{e.apply(i,o)}))},this.params=e;const{outsideApi:t}=e;this.addDestroyHandler(t.listenRemoteVpaidGetterValueChange(this.ignoreAfterDestroy(((e,t)=>{this.getterValues[e]=t}),"OutsideApiRemoteVpaid.listenRemoteVpaidGetterValueChangeOnDestroy"))),this.addDestroyHandler((e=>{"fatal"===e.reason&&Bc.error({error:new Sc({code:"VF_REMOTE_VPAID_FATAL_DESTROY",details:{error:e.details}})})}))}callRemoteMethod(e,t){this.isDestroyed?Bc.error({error:new Sc({code:"VF_VPAID_METHOD_CALLED_AFTER_DESTROY",details:{methodName:e,args:t}})}):this.params.outsideApi.callVpaidMethod(e,t).then(W).catch((e=>{this.destroy({reason:"fatal",details:e})}))}}const sS=["idle","load","init","start","play"],lS=e=>ye(e)||!Kt(e),dS=e=>{var t;const{adConfig:{secureMode:i}}=e,o=null!=(t=jd.hardcodedParams.adsdksecuremode)?t:i;if(!o)return!1;const r=e.getJSMediaFile();if(!r)return!1;switch(o){case"ForceSafe":return!0;case"Safe":return!lS(r.url);default:return!1}},cS=a((()=>{Bc.log({name:"AdCreativeVideoBannerVastUnmoderatedInsideText"})})),uS=a((()=>{Bc.log({name:"AdCreativeVideoBannerVastHasBooleanFields"})})),hS=e=>{const t=It(e);return Boolean(t)},pS=e=>{if(!o(e))return[];const{sitelinks:t,addInfo:i,telNum:r,workingTime:n,metro:a,region:s}=e;if(AS(t)){const e=Wd(t,(e=>h(e.title)&&h(e.url)));if(e.length)return Nc(e,(e=>({type:"sitelink",text:e.title,url:e.url})))}const l=null==i?void 0:i.callouts_list;if(mS(l)){const e=Wd(l,h);if(e.length)return Nc(e,(e=>({type:"callout",text:e})))}const d=Wd([r,n,a,s],h);return Nc(d,(e=>({type:"contact",text:e})))},mS=e=>Array.isArray(e)&&hp(e,s),AS=e=>Array.isArray(e)&&hp(e,o),vS=e=>h(e)?e:void 0,_S=e=>"boolean"===typeof e?e:void 0,gS=new Map([["1","ru"],["2","uk"],["3","en"],["4","be"],["5","kk"],["6","tr"],["ru","ru"],["uk","uk"],["en","en"],["by","be"],["kz","kk"],["tr","tr"]]),fS=e=>{var t;return null!=(t=gS.get(e))?t:"ru"},yS=e=>{var t;const{adParametersObject:i}=e;if(!o(i))return;return{parsedParameters:(e=>{if(!hS(e))return;const{AGE_BACKGROUND_COLOR:t,AGE_TEXT_COLOR:i,BODY_BACKGROUND_COLOR:r,BODY_TEXT_COLOR:n,BUTTON_BORDER_COLOR:a,BUTTON_COLOR:s,BUTTON_TEXT_COLOR:l,DISCLAIMER_BACKGROUND_COLOR:d,DISCLAIMER_TEXT_COLOR:c,DOMAIN_BACKGROUND_COLOR:u,DOMAIN_TEXT_COLOR:p,HAS_AGE:m,HAS_DISCLAIMER:A,HAS_LEGAL:v,LEGAL_BACKGROUND_COLOR:_,LEGAL_TEXT:g,LEGAL_TEXT_COLOR:f,TITLE_BACKGROUND_COLOR:y,TITLE_TEXT_COLOR:S,BUTTON_POSITION:T,BUTTON_LABELS:E}=e;("HAS_TITLE"in e||"HAS_LEGAL"in e||"HAS_DISCLAIMER"in e||"HAS_BODY"in e||"HAS_BUTTON"in e||"HAS_AGE"in e)&&uS();const b=It(e);if(!b)return;const{domain:C,green_url_text_prefix:P,green_url_text_suffix:w,age:O,lang:I,iconUrl:k}=b,N=Nt({domain:C,greenUrlTextPrefix:P,greenUrlTextSuffix:w}),D=Rt(e)||{},{punyDomain:R}=D,V=ct(e);D===b.unmoderated&&cS();const L=(e=>{if(void 0!==(null==e?void 0:e.secondTitle)&&h(null==e?void 0:e.secondTitle))return e.secondTitle})(D),{title:x,body:B,hasTitle:M,hasBody:U}=kt(e);return{title:x,body:B,titleExtension:vS(L),domain:vS(C),greenUrl:N,punyDomain:vS(R),iconUrl:k,domainBackgroundColor:vS(u),domainTextColor:vS(p),ageRestriction:vS(O),hasAgeRestriction:_S(m),extraLinks:pS(D),images:Do(e),clickThruUrl:xt(e),ageBackgroundColor:vS(t),ageTextColor:vS(i),bodyBackgroundColor:vS(r),bodyTextColor:vS(n),buttonBorderColor:vS(a),buttonColor:vS(s),buttonTextColor:vS(l),hasDisclaimer:_S(A),disclaimerBackgroundColor:vS(d),disclaimerTextColor:vS(c),hasBody:U,hasLegal:_S(v),hasTitle:M,legalBackgroundColor:vS(_),legalText:vS(g),legalTextColor:vS(f),titleBackgroundColor:vS(y),titleTextColor:vS(S),buttonPosition:vS(T),buttonLabels:(F=E,o(F)&&hp(Yt(F),(e=>"string"===typeof e))?F:void 0),assets:lp(e),targetUrl:Te(e),productType:V,lang:fS(I)};var F})(null!=(t=i.adParameters)?t:i),adParametersObject:i}};var SS,TS=e(7262),ES=e.n(TS);!function(e){e.TEST="TEST",e.MOEVIDEO="MOEVIDEO",e.VIDEONOW="VIDEONOW",e.ADLOOK="ADLOOK",e.BUZZOOLA="BUZZOOLA",e.PUNCHMEDIA="PUNCHMEDIA",e.BETWEENDIGITAL="BETWEENDIGITAL",e.ADHIGH="ADHIGH",e.ADRIVER="ADRIVER",e.MRADX="MRADX",e.RUTARGET="RUTARGET",e.DSSERVING="DSSERVING",e.SAPE="SAPE"}(SS||(SS={}));const bS=he({TEST:"test_vpaid",MOEVIDEO:"moevideo.biz",VIDEONOW:"videonow.ru",ADLOOK:"adlook.me",BUZZOOLA:"buzzoola.com",PUNCHMEDIA:"punchmedia.ru",BETWEENDIGITAL:"betweendigital.com",ADHIGH:"adhigh.net",ADRIVER:"adriver.ru",MRADX:"mradx.net",RUTARGET:"rutarget.ru",DSSERVING:"ds.serving-sys.ru",SAPE:"sape.ru"});var CS=e(4873),PS=e.n(CS);class wS extends xc{constructor(e){var t;super(),this.resizeObserverCallback=e=>{let[{contentRect:{width:t,height:i}}]=e;this.onResize.dispatch({width:t,height:i})},this.getElementWindow=e=>{var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||null};const i=du(e);this.onResize=new lu({width:i.width,height:i.height},((e,t)=>{let{width:i,height:o}=t;return e.width===i&&e.height===o})),this.addDestroyHandler((()=>{this.onResize.removeAll()}));const o=this.getElementWindow(e),r=null!=(t=null==o?void 0:o.ResizeObserver)?t:window.ResizeObserver;if("undefined"!==typeof r&&l(ResizeObserver))try{const t=new r(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler((()=>{t.disconnect()}))}catch(Ww){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return Aa({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const t=this.getElementWindow(e);if(!t)return;const i=()=>{const t=du(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(Ie({element:t,eventName:"resize",listener:i,options:{passive:!0}})),this.addDestroyHandler(po(i))}}var OS=e(675),IS=e.n(OS);const kS=(e,t,i)=>e>=t&&e<=i,NS=e=>{const t=e.charAt(0).toLowerCase().charCodeAt(0);switch(!0){case(e=>kS(e,1072,1103)||1025===e)(t):return"ru";case(e=>kS(e,97,122))(t):return"en";default:return}},DS=e=>{kn(IS());const{text:t,minWordLength:i}=e,o=_n((()=>{const e=t.split(" "),o=[];for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1,a=r.length>=i,s=a?NS(r):void 0;if(a&&s)o.push(zr("span",{className:OS.locals.HyphenedText__auto,lang:s},r)),n||o.push(" ");else{const e=o.length-1,t=r+(n?"":" ");e>=0?o[e]+=t:o.push(t)}}return o}),[t,i]);return zr("div",{className:wn(OS.locals.HyphenedText,e.className)},o)};let RS=!0;var VS=e(3857),LS=e.n(VS);const xS=e=>{kn(LS());const{product:t,isHorizontalFormat:i,onProductClick:o}=e,{priceInfo:r}=t,n=wn(VS.locals.EcomProductCard,{[VS.locals.EcomProductCard_horizontal]:i,[VS.locals.EcomProductCard_withPrice]:r}),a=Jg(),s=void 0===(null==r?void 0:r.oldPrice)?void 0:"\u2212"+Math.floor((r.oldPrice-r.price)/r.oldPrice*100)+"%";return zr("div",{className:n},zr("img",{className:VS.locals.EcomProductCard__Image,src:t.imageUrl}),zr("div",{className:VS.locals.EcomProductCard__Details},r&&zr("div",{className:VS.locals.EcomProductCard__pricesContainer},zr("span",{className:VS.locals.EcomProductCard__price},_a(r.price,r.currency,a,0)),r.oldPrice&&zr("span",{className:VS.locals.EcomProductCard__oldPrice},zr("span",{className:VS.locals.EcomProductCard__discount},s),zr("span",{className:VS.locals.EcomProductCard__oldPriceValue},_a(r.oldPrice,r.currency,a,0)))),zr(DS,{className:VS.locals.EcomProductCard__Text,text:t.text,minWordLength:10})),zr(Gg,{onClick:o,url:t.link}))};var BS,MS=e(9759),US=e.n(MS);const FS=null!=(BS=qd.getNumberFlagValueAndActivateTestId("VAS_ECOM_PRODUCTS_CAROUSEL_AUTO_SCROLL_DURATION"))?BS:3,HS=150,zS=3,jS=e=>{var t,i,o,r;kn(US());const{products:n,maxItemsPerView:a=zS,onProductClick:s}=e,l=vn(null),d=vn(null),c=va(d),{itemsPerView:u,carouselItemWidth:h,isHorizontalCardsFormat:p}=function(e,t,i){if(void 0===e)return{itemsPerView:1,carouselItemWidth:HS,isHorizontalCardsFormat:!1};const o=e.width<e.height;if(1===t&&!o)return{itemsPerView:1,carouselItemWidth:Math.floor(e.width),isHorizontalCardsFormat:!0};if(Math.min(5*e.height/7,e.width)<HS)return{itemsPerView:1,carouselItemWidth:Math.floor(e.width),isHorizontalCardsFormat:!0};const r=Math.max(Math.min(Math.floor(e.width/HS),t,i),1);return{itemsPerView:r,carouselItemWidth:Math.min(Math.floor(e.width/r),Math.floor(5*e.height/7)),isHorizontalCardsFormat:!1}}(c,a,n.length),m=n.length>u,A=n.length,v=n.length,[_,g]=pn(A),f=_n((()=>{if(!m)return Nc(n,((e,t)=>Sa({},e,{key:t,originIndex:t})));const e=n.length+A+v,t=new Array(e);for(let i=-A,o=0;i<n.length+v;i++,o++){let e=i%n.length;e<0&&(e+=n.length);const r=n[e];t[o]=Sa({},r,{key:i,originIndex:e})}return t}),[n,m,A,v]),y=(e,t)=>{if(null===t)return;const i=f[e];if(void 0===i)return;const o=Math.round((A+i.originIndex)*h);Math.abs(o-t.scrollLeft)<=1||(t.style.scrollBehavior="auto",t.scrollLeft=o,t.style.scrollBehavior="smooth")},S=e=>{y(A,e)},[T,E]=pn(null!=(t=e.autoScrollDelay)?t:0),b=t=>{L(e.onUserAction)&&e.onUserAction(t),e.autoScrollDelay&&E(0)};mn((()=>{if(!e.autoScrollDelay||null===l.current)return;if(e.autoScrollDelay!==T){const t=setTimeout((()=>{var t;E(null!=(t=e.autoScrollDelay)?t:0)}),1e3*e.autoScrollDelay);return()=>{clearTimeout(t)}}const t=setInterval((()=>{C("forward")}),1e3*T);return()=>{clearInterval(t)}}),[e.autoScrollDelay,T,l.current,h]);const C=e=>{if(null===l.current||void 0===h)return;const t="forward"===e?1:-1,i=l.current.scrollLeft+h*t;L(l.current.scroll)?l.current.scroll({behavior:"smooth",left:i}):l.current.scrollLeft=i},P=e=>()=>{C(e),b(0)},w=_n((()=>{if(!d.current||!c)return{};const e=Number.parseFloat(getComputedStyle(d.current).fontSize),t=1.67*e,i=1.2*t,o=p?(h-8)/2:2*(h-8),r=Math.max(c.height-o-8,0),n=c.height-r,a=p?.025*n:.03*(h-20),s=a*(p?2:3),l=p?0:h-20,u=p?1.6:1.2,m=Math.min(e*u,17),A=1.2*m,v=n-l-20-s,_=v-i;return{verticalGap:a,priceFontSize:t,fontSize:m,linesCount:Math.floor(v/A)||1,wPriceLinesCount:Math.floor(_/A)||1}}),[d.current,h,p,null==c?void 0:c.height]),O={"--pc-visible-items":u,"--pc-area-width":(null!=(i=null==c?void 0:c.width)?i:HS)+"px","--pc-card-width":h+"px","--pc-card-outer-gap":"4px","--pc-card-inner-gap":"6px","--pc-card-vertical-gap":w.verticalGap+"px","--pc-card-price-font-size":w.priceFontSize+"px","--pc-card-text-font-size":w.fontSize+"px","--pc-card-text-lines-count":""+w.linesCount,"--pc-card-w-price-text-lines-count":""+w.wPriceLinesCount,"--pc-card-line-height":1.2},I=wn(MS.locals.EcomProductsCarousel,{[MS.locals.EcomProductsCarousel_useFullHeight]:!e.disableUseFullHeight}),k=gn(function(e,t,i,o){function r(){null!==n&&clearTimeout(n),n=null}3===arguments.length&&"boolean"!==typeof i&&(o=i,i=!1);let n=null;const a=function(){const a=arguments;o=o||this,i&&null===n&&e.apply(o,a),r(),n=window.setTimeout((function(){i||e.apply(o,a),n=null}),t)};return a.cancel=r,a}((e=>{0!==e.deltaX&&b(0)}),200),[b]);mn((()=>{null!==l.current&&S(l.current)}),[l.current]);const N=Qg(),D=wn(MS.locals.EcomProductsCarousel__productCards,{[MS.locals.EcomProductsCarousel__productCards_noScroll]:!m});return 0===n.length?null:zr("div",{className:I,style:O},zr("div",{className:MS.locals.EcomProductsCarousel__slideToContainer},m&&zr("button",{type:"button",onClick:P("backward"),className:MS.locals.EcomProductsCarousel__slideToLeft,title:N("PREV_ECOM_PRODUCT")},0===(null==(o=f[_])?void 0:o.originIndex)?zr(ya,{className:MS.locals.EcomProductsCarousel__slideToIcon}):zr(ga,{className:MS.locals.EcomProductsCarousel__slideToIcon}))),zr("div",{className:MS.locals.EcomProductsCarousel__productCardsArea,ref:d},zr("div",{className:D,ref:l,onScroll:e=>{const t=e.target,i=Math.round(t.scrollLeft/h);g(i);const{scrollLeft:o,scrollWidth:r,clientWidth:n}=t;if(o<1&&o>=0)return void S(t);const a=o+n;r-a<1&&a<=r&&y(i,t)},onWheel:k,onMouseMove:e=>{null!==e.target&&"onpointermove"in e.target||b(2)},onPointerMove:()=>{b(2)}},void 0!==c&&Nc(f,(e=>zr("div",{className:MS.locals.EcomProductsCarousel__productCardContainer,key:e.key,"data-key":e.key},zr(xS,{product:e,isHorizontalFormat:p,onProductClick:()=>{b(1),s(e)}})))))),zr("div",{className:MS.locals.EcomProductsCarousel__slideToContainer},m&&zr("button",{type:"button",onClick:P("forward"),className:MS.locals.EcomProductsCarousel__slideToRight,title:N("NEXT_ECOM_PRODUCT")},(null==(r=f[_+u-1])?void 0:r.originIndex)===n.length-1?zr(ya,{className:MS.locals.EcomProductsCarousel__slideToIcon}):zr(fa,{className:MS.locals.EcomProductsCarousel__slideToIcon}))))},YS=e=>{kn(PS());const t=ug(),i=t.height>t.width,{products:o,openClickThroughUrl:r,isProductsVisible:n,onUserAction:a,showCloseButton:s,onCloseClick:l}=e,d=i?1:3,c=wn(CS.locals.EcomProductsPackshotScreen__closeButton,{[CS.locals.EcomProductsPackshotScreen__closeButton_hidden]:!s}),{showAnimationDuration:u}=e.classicPackshotProps,h=wn(CS.locals.EcomProductsPackshotScreen,{[CS.locals.EcomProductsPackshotScreen_withAnimation]:"number"===typeof u}),p={fontSize:Gn(t),"--epc-show-animation-duration":"number"===typeof u?u+"s":"unset"};return zr(Yr,null,n&&zr("div",{className:h,style:p},zr("div",{className:CS.locals.EcomProductsPackshotScreen__closeButtonContainer},zr("button",{type:"button",className:c,onClick:l},zr(Ta,{className:CS.locals.EcomProductsPackshotScreen__closeIcon}))),zr(jS,{products:o,maxItemsPerView:d,autoScrollDelay:FS,onProductClick:e=>{r(e.clickThruUrl)},onUserAction:a})),!n&&zr(Xf,e.classicPackshotProps))},WS=e=>{const{faviconSrc:t,domain:i,title:o,body:r,label:n,disclaimerInfo:a,paddingsStyle:s,clickUrl:l,openClickThroughUrl:d,isProductVisible:c,onOpenProduct:u,products:h}=e;kn(Zf());const p=vn(null),m=vn(null),A=vn(null),v=ug(),_=v.height>v.width?2:3,[g,f]=pn(Xy[0]),[y,S]=pn(!1);mn((()=>{S(!1)}),[c]),mn((()=>{y||Qn(A,p,m).then((e=>{f(e),S(!0)}))}),[y]);const T=wn(Jf.locals.VideoInComboPackshotScreen__PackshotMainContent,{[Jf.locals.VideoInComboPackshotScreen__PackshotMainContent_padding_big]:"big"===s,[Jf.locals.VideoInComboPackshotScreen__PackshotMainContent_padding_small]:"small"===s}),E=e=>()=>{d({clickSource:e,playerHandles:!0,url:void 0})},b=Fn("VAS_BUTTON_COLOR"),C=b?{backgroundColor:b,color:new hf(b).toReadable().toString()}:{},P=t&&i?zr("div",{class:Jf.locals.VideoInComboPackshotScreen__logoAndUrl},zr("img",{src:t,class:Jf.locals.VideoInComboPackshotScreen__favicon}),zr("div",{class:Jf.locals.VideoInComboPackshotScreen__url},i),zr(Xg,{clickThruUrl:l,onClickThru:E("VideoInComboEcomPackshotLogoAndUrl"),isClickDisabled:!1},zr("div",{className:Jf.locals.VideoInComboPackshotScreen__fullsize}))):void 0;return zr("div",{className:Jf.locals.VideoInComboPackshotScreen__PackshotMain},zr("div",{className:T},!c&&P,zr("div",{className:Jf.locals.VideoInComboPackshotScreen__titleBodyContainer,ref:A},o&&g.titleSize&&zr("div",{className:wn(Jf.locals.VideoInComboPackshotScreen__title,Jf.locals.VideoInComboPackshotScreen__text_center,Jf.locals.VideoInComboPackshotScreen__calculatedFont),style:{"--fontsize":g.titleSize+"px"},ref:p},o,zr(Xg,{clickThruUrl:l,onClickThru:E("VideoInComboEcomPackshotTitle"),isClickDisabled:!1},zr("div",{className:Jf.locals.VideoInComboPackshotScreen__fullsize}))),r&&g.bodySize&&zr("div",{className:wn(Jf.locals.VideoInComboPackshotScreen__body,Jf.locals.VideoInComboPackshotScreen__text_center,Jf.locals.VideoInComboPackshotScreen__calculatedFont),style:{"--fontsize":g.bodySize+"px"},ref:m},r,zr(Xg,{clickThruUrl:l,onClickThru:E("VideoInComboEcomPackshotBody"),isClickDisabled:!1},zr("div",{className:Jf.locals.VideoInComboPackshotScreen__fullsize})))),c&&zr("div",{className:Jf.locals.VideoInComboPackshotScreen__carouselSlot},y&&zr(jS,{products:h,maxItemsPerView:_,autoScrollDelay:FS,onProductClick:u})),n&&zr("div",{className:Jf.locals.VideoInComboPackshotScreen__footer},zr("div",{className:Jf.locals.VideoInComboPackshotScreen__CTAbutton,style:C},c&&P||n,zr(Xg,{clickThruUrl:l,onClickThru:E("VideoInComboPackshotButton"),isClickDisabled:!1},zr("div",{className:Jf.locals.VideoInComboPackshotScreen__fullsize}))))),a&&zr(Yy,{heightPortion:a.mandatoryHeightPortion,text:a.text}))},GS=e=>{kn(Zf());const{openClickThroughUrl:t,disableOverlay:i=!1,disableTitle:o=!1,disableBody:r=!1,disableButton:n=!1,title:a,body:s,products:l,isProductsVisible:d,onHideCallback:c}=e,u=Qg(),p=Jg(),m=u("THEME_EMPTY_ACTION_BUTTON_LABEL"),A=Vf(),{width:v}=ug(),{themeEmptyParameters:_}=Tf(),g=Jn(Iy(),p),f=wn(Jf.locals.VideoInComboPackshotScreen,Jf.locals.VideoInComboPackshotScreen__content,Jf.locals.VideoInComboPackshotScreen_withAnimation),y=v>=500?"big":"small",S=!0===o?void 0:null!=a?a:u("LEARN_MORE_ON_ADVERTISERS_WEBSITE"),T=!r&&h(s)?s:void 0,E=!0===n?void 0:(null==_?void 0:_.label)||m,[b,C]=pn(!1),P=c?()=>{C(!0),c()}:void 0;return zr("div",{className:f,"data-hidden":b,ref:vn(null)},!i&&zr("div",{className:Jf.locals.VideoInComboPackshotScreen__packshotOverlayWrapper,onClick:P},zr(Qf,null)),zr(By,{onRepeatButtonClick:P}),zr(WS,{faviconSrc:A,domain:null==_?void 0:_.greenUrl,title:S,body:T,label:E,paddingsStyle:y,disclaimerInfo:g,clickUrl:null==_?void 0:_.clickUrl,openClickThroughUrl:t,onOpenProduct:e=>{t({clickSource:"EcomProduct",playerHandles:!0,url:e.clickThruUrl})},products:l,isProductVisible:d}))};class XS extends jg{constructor(e){super(e),this.isProductsVisible=new lu(!1),this.addDestroyHandler((e=>{kc("ProductsPackshot: destroy Productspackshot reason=["+e.reason+"]"),Bc.log({name:"EcomProductsPackshotDestroyed",data:{isInfiniteDuration:this.isInfiniteDuration,reason:e},probability:hc})}))}setProductsVisibility(e){this.isProductsVisible.dispatch(e)}renderPackshotContent(e){var t;const i=e=>{"error"===e.status&&this.destroy({reason:"firstRenderError",details:e.error})},o=e=>{this.destroy({reason:"runtimeError",details:e})},r=t=>{Bc.log({name:"EcomProductsPackshotButtonClicked",probability:1}),e.openClickThroughUrl(t)},n={clickUrl:null==(t=e.themeEmptyParameters)?void 0:t.clickUrl,descriptionText:void 0,openClickThroughUrl:()=>{void 0!==e.themeEmptyParameters&&e.openClickThroughUrl(e.themeEmptyParameters.clickUrl)},packshotNewDesignMode:"ONLY_ELEMENTS_CLICKABLE",title:e.title,disableOverlay:e.disableOverlay,disableTitle:e.disableTitle,disableButton:e.disableButton,showAnimationDuration:e.showAnimationDuration},a=()=>{const{duration:t,userActionIncreaseDuration:i}=e,o=Co(this.progress.getValue()-i/t,0,1);this.setProgress(o)},s=()=>{this.destroy({reason:"complete",details:void 0})};return cn(zr((()=>{const t=On(this.isProductsVisible),l=On(e.abuseDisplayStatus),d=On(e.controlsVisibility),c=On(e.timeToSkip),u=!1!==d.skip&&c>=0,{isVideoInComboNewPackshot:h}=e,p=!u&&"hidden"===l&&this.destroyAfterComplete;return zr(sg,{onRuntimeError:o,onFirstRender:i},zr(lg,{components:KS,componentsProps:e},h?zr(GS,{title:e.title,body:e.body,products:e.ecomShop.products,openClickThroughUrl:e.onAssetsClickThroughUrl,isProductsVisible:t,onHideCallback:e.onPackshotHideCallback}):zr(YS,{classicPackshotProps:n,products:e.ecomShop.products,openClickThroughUrl:r,isProductsVisible:t,showCloseButton:p,onUserAction:a,onCloseClick:s})))}),null),e.parent),null==e.onPackshotShowCallback||e.onPackshotShowCallback(),Bc.log({name:"EcomProductsPackshotRendered",data:{isInfiniteDuration:this.isInfiniteDuration},probability:hc}),()=>{null==e.onPackshotHideCallback||e.onPackshotHideCallback(),cn(null,e.parent)}}}const KS=[e=>zr(hg.Provider,{value:e.parent,children:e.children}),e=>zr(dg.Provider,{value:cg(e.parentSize),children:e.children}),e=>zr(Pg.Provider,{value:e.logStatsEvent,children:e.children}),e=>zr(yf.Provider,{value:{themeEmptyParameters:e.themeEmptyParameters,clickThrough:()=>{void 0!==e.themeEmptyParameters&&e.openClickThroughUrl(e.themeEmptyParameters.clickUrl)}},children:e.children}),e=>zr(If.Provider,{value:kf(e.controlsVisibility),children:e.children}),e=>zr(Df.Provider,{value:Rf(e.favicon),children:e.children}),e=>zr(wy.Provider,{value:Oy({bannerFlags:e.bannerFlags}),children:e.children})],qS=gi({videoCreativeReach:"video-creative-reach",direct:"direct",autoVideoDirect:"auto-video-direct",videoCreativeReachNonSkippable:"video-creative-reach-non-skippable",videoMotion:"video-motion",directActionCharged:"direct-action-charged",videoCreative:"video-creative",videoCreativeSurvey:"video-creative-survey"}),QS=a((e=>{e({name:"UsingInteractiveViewerThemeAsFullyClickableCreativeIndicator",probability:pc})}));class JS extends xc{constructor(e){super(),this.onAdSkippableStateChange=new Gd,this.vpaidCreativeAdStartedSignal=new Gd,this.vpaidCreativeAdErrorSignal=new Gd,this.adSkippableState=!1,this.canUseMediaAfterPlayback=!1,this.isInfinityPackshotEnabled=!1,this.styleModulesManager=new mg,this.lifeCycleStage=new lu("idle",((e,t)=>{const i=sS.indexOf(e);return sS.indexOf(t)-i!==1&&this.stats.error({error:new Sc({code:"CREATIVE_STAGES_SEQUENCE_VIOLATED",details:Pa({},this.getVPAIDLogDetails(),{currentStage:e,nextStage:t})})}),!1})),this.startVpaidCreative=a((e=>{this.isCreativeStartRequested.dispatch(!0),this.lifeCycleStage.dispatch("start"),kc("VPAID.startAd() called in startVpaidCreative method"),e.startAd();const t=this.shouldPlayTimeCounter.getTime();this.vpaidCreativeAdStartedSignal.addOne((()=>{kc("VPAID dispatched AdStarted");const e=this.shouldPlayTimeCounter.getTime();this.lifeCycleStage.dispatch("play"),this.stats.log({name:"VpaidCreativeStarted",data:this.getVPAIDLogDetails(),values:{timeBeforeStart:t,timeToStart:e-t,fullTime:e}})}))})),this.creativeAdStartedCallback=zt((()=>{if(this.isDestroyed)return void this.stats.error({error:new Sc({code:"VPAID_STARTED_AFTER_AD_DESTROY",details:this.getVPAIDLogDetails()})});this.isCreativeStartRequested.getValue()||this.stats.error({error:new Sc({code:"VPAID_STARTED_BEFORE_START_AD_CALL",details:this.getVPAIDLogDetails()})});const e=a((()=>{this.isStarted.dispatch(!0)})),t=this.playingState.getValue();kc("VPAID dispatched AdStarted event with playingState=["+t+"]"),"play"===t?e():this.playingState.subscribeValueConditionOnce((e=>"play"===e),e)}),(()=>{this.stats.error({error:new Sc({code:"VPAID_STARTED_MORE_THAN_ONCE",details:this.getVPAIDLogDetails()})})})),this.createContainerNode=a((()=>{const{creativesLayoutContainer:e,slotParameters:t}=this.adDisplayController,i=t.document.createElement("div");this.addDestroyHandler(Ie({element:i,eventName:"click",listener:()=>{Lr({control:"AdCreativeWrapperSlotElement",purpose:"unknown"})}})),i.classList.add(TS.locals.AdPodContainer),this.styleModulesManager.useStyleModule(i,ES()),this.isCreativeStartRequested.addOne((()=>{Ne(i,{visibility:"visible"})})),this.addDestroyHandler((()=>{ke(i)})),e.appendChild(i);const o=$n(i);return o&&Ne(o,yu),o||i})),this.prepareVpaidCreative=a((async e=>{let{startStrategy:t}=e;this.addDestroyHandler(this.adDisplayController.videoNodeController.onVolumeChange.add((()=>{this.onVolumeChange.dispatch(void 0)}))),this.omsdkController&&await this.omsdkController.initSession({impressionType:"viewable",startStrategy:t});const i=await this.initCreative();if(!i||this.isDestroyed)throw new Sc({code:"VPAID_WAS_DESTROYED_DURING_INIT",details:this.getVPAIDLogDetails()});this.vpaidCreativeAdErrorSignal.add((e=>{this.destroy({reason:"error",details:this.parseVpaidError(e,"VPAID_PLAYING_ERROR")})})),this.creative=i,this.addDestroyHandler((()=>{this.creative=void 0})),this.onReady.dispatch(void 0),"play"===this.playingState.getValue()?this.startVpaidCreative(i):this.startAndPauseVpaidCreative(i),this.updateAdSkippableState()})),this.updatePosition=this.ignoreAfterDestroy((()=>{var e,t,i,o;this.playbackPosition.dispatch({duration:this.getDuration(),remainingTime:null!=(e=null==(t=this.creative)?void 0:t.getAdRemainingTime())?e:-1}),kc("[AdPodViewer]: updated position [duration = ["+this.getDuration()+"], adRemainingTime = ["+(null!=(i=null==(o=this.creative)?void 0:o.getAdRemainingTime())?i:-1)+"]]")}),"AdPodViewer.updatePosition"),this.isAdPlayingCalled=!1,this.sentTrackings={impression:0,creativeView:0,firstQuartile:0,midpoint:0,thirdQuartile:0,beforeComplete:0,complete:0,clickThrough:0},this.getVPAIDLogDetails=()=>({adPodId:this.mediaAd.getAdPodId(),mediaFile:this.getCurrentSource(),viewerPlaybackParams:this.adPodViewerPlaybackParams,isViewerDestroyed:this.isDestroyed,hasCreativeInstance:Boolean(this.creative),isSlotInDom:Zo(this.adDisplayController.slotParameters.element),lifeCycleStage:this.lifeCycleStage.getValue()}),this.playbackPosition=new lu($y,ea),this.packshotStartLatch=new I_,this.adVideoIsBuffering=new lu(!1),this.playingState=new lu("idle",((e,t)=>"idle"===t?(this.stats.error({error:new Sc({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):"end"===e?("end"!==t&&this.stats.error({error:new Sc({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_AFTER_END",details:void 0})}),!0):e===t)),this.isCreativeStartRequested=new lu(!1),this.onReady=new Gd,this.onBeforeDestroy=new Gd,this.isStarted=new lu(!1),this.onResume=new Gd,this.onPause=new Gd,this.onVolumeChange=new Gd,this.onImpression=new Gd,this.onFirstQuartile=new Gd,this.onMidpoint=new Gd,this.onThirdQuartile=new Gd,this.onComplete=new Gd,this.onBeforeComplete=new Gd,this.completeLatch=new I_((e=>{let{isInfinityPackshotEnabled:t}=e;this.trackVastEvent("complete",{}),this.onComplete.dispatch({isInfinityPackshotEnabled:t})})),this.onClickThrough=new Gd,this.onAdInteraction=new Gd,this.playingTimeCounter=new Vm,this.shouldPlayTimeCounter=new Vm,this.getAdParametersTrackingUrls=e=>{var t,i;return null==(t=this.mediaAd.vastAd.adParametersObject)||null==(i=t.trackingEvents)?void 0:i[e]},this.subscribeFullscreenForLogs=()=>{const{videoNodeController:e}=this.adDisplayController,t=a((()=>{this.stats.error({error:new Sc({code:"VIDEOTAG_FULLSCREEN",details:void 0})})}));e.isFullscreen()?t():this.onBeforeComplete.addOne((()=>{e.isFullscreen()&&t()}))};const{adDisplayController:t,mediaAd:i,adPodViewerPlaybackParams:o,enableInfinityPackshot:r,stats:s,ecomShopState:l}=e;this.isStarted.add(zt((()=>{this.isDestroyed&&s.log({name:"AdPodViewerStartedAfterDestroy"})}),(()=>{s.log({name:"AdPodViewerStartedTwice"})}))),this.userInteractionDispatchers=(e=>({AdClickThru:t=>{e.error({error:new Sc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_CLICK_THRU_WITHOUT_AD_CREATIVE",details:t})})},AdSkipped:()=>{e.error({error:new Sc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_SKIPPED_WITHOUT_AD_CREATIVE",details:void 0})})},AdStopped:()=>{e.error({error:new Sc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_STOPPED_WITHOUT_AD_CREATIVE",details:void 0})})},AdUserClose:()=>{e.error({error:new Sc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_USER_CLOSE_WITHOUT_AD_CREATIVE",details:void 0})})},AdVideoComplete:()=>{e.error({error:new Sc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_VIDEO_COMPLETE_WITHOUT_AD_CREATIVE",details:void 0})})},AdTimeToSkipChange:()=>{e.error({error:new Sc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_TIME_TO_SKIP_CHANGE_WITHOUT_AD_CREATIVE",details:void 0})})}}))(s),this.stats=s,this.ecomShopState=l;const d=Bn(i.vastAd,i.adConfig);if(d){kc("[OMSDK] Initializing OMSDKController with parameters: "+JSON.stringify(d));const e=new Ug(this,d);this.addDestroyHandler((t=>{let{reason:i}=t;e.destroy({reason:i,isError:!1})})),this.omsdkController=e}this.addDestroyHandler((e=>{const i=t.getAdPlacementOptions(),{devicePixelRatio:o,videoPixelRatio:r}=i,a=Boolean(this.getVideoSlotClickUrl()),l=le(this.adDisplayController.slotParameters.window),{adBreakType:d,adFormatType:c,productType:u}=i,{sentTrackings:h}=this;var p;s.log({name:"ViewerDestroy",data:{destroyReason:e,adBreakType:d,adFormatType:c,wasViewerStarted:this.isStarted.getValue(),sentTrackings:h},values:Ca({shouldPlayTime:this.shouldPlayTimeCounter.getTime(),playingTime:this.playingTimeCounter.getTime(),bufferingTime:this.bufferingTimeManager.getBufferingTime()*Rm,duration:this.getDuration()*Rm,remainingTime:this.getAdRemainingTime()*Rm,videoFramesInfo:n(this.adDisplayController.videoNode),videoPixelRatio:r,devicePixelRatio:o}),sensors:{reason:e.reason},dailySensors:Pa({},Z(h,(e=>Number(e)>0)),{videoSlotIsClickable:a,touchScreen:l,skinVariant:this.adDisplayController.skinVariant,reason:e.reason,productType:(p=u,qS[p])})}),this.playingTimeCounter.destroy(),this.shouldPlayTimeCounter.destroy(),this.onBeforeDestroy.dispatch(e)})),this.adDisplayController=t,this.mediaAd=i,this.adPodViewerPlaybackParams=o,this.enableInfinityPackshot=null!=r&&r,this.isStarted.add((()=>{this.trackVastEvent("creativeView",{})})),this.onResume.add((()=>{this.trackVastEvent("resume",{})})),this.onPause.add((()=>{this.trackVastEvent("pause",{})})),this.packshotStartLatch.subscribe((()=>{this.trackVastEvent("packshotStart",{})}));let c=0===this.getVolume();this.onVolumeChange.add((()=>{const e=0===this.getVolume();c!==e&&(this.trackVastEvent(e?"mute":"unmute",{}),c=e)})),this.onImpression.addOne((()=>{this.trackVastEvent("impression",{})}));const u=new iS(i.vastAd.progressTrackings);this.playbackPosition.add((e=>{let{remainingTime:t,duration:i}=e;const o=u.getTrackingUrlsByPosition({duration:i,remainingTime:t});o.length&&oa({eventName:"progress",trackingEventDetails:{},trackingUrls:o,options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"vast"})})),this.onFirstQuartile.add((()=>{this.trackVastEvent("firstQuartile",{})})),this.onMidpoint.add((()=>{this.trackVastEvent("midpoint",{})})),this.onThirdQuartile.add((()=>{this.trackVastEvent("thirdQuartile",{})})),this.bufferingTimeManager=new Vv,this.addDestroyHandler((()=>this.bufferingTimeManager.destroy())),this.playingState.subscribeValueConditionOnce((e=>"play"===e),(()=>{this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.start(t.videoNode),this.playingState.add((e=>{"play"===e?(this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.resume()):(this.shouldPlayTimeCounter.stop(),this.bufferingTimeManager.pause())}))})),this.isStarted.addOne((()=>{const e=(this.getDuration()+20)*Rm;this.playingTimeCounter.addCallback(e,(()=>{s.log({name:"TooLongPlaying",data:{mediaFile:this.mediaAd.getJSMediaFile(),adFormatType:ta(this.mediaAd),adParameters:this.mediaAd.vastAd.adParametersObject}})})),this.playingTimeCounter.start(),this.onPause.add((()=>{this.playingTimeCounter.stop()})),this.onResume.add((()=>{this.playingTimeCounter.start()})),this.addDestroyHandler((()=>{this.playingTimeCounter.stop()}))})),this.onPause.add((()=>{this.playingState.dispatch("pause")})),this.onResume.add((()=>{this.playingState.dispatch("play")})),this.addDestroyHandler((()=>{this.playingState.dispatch("end")})),this.onBeforeComplete.add((()=>{this.trackVastEvent("beforeComplete",{})})),this.addDestroyHandler((e=>{let{reason:t}=e;"skip"!==t&&"close"!==t||this.trackVastEvent(t,{})})),this.vpaidCreativeAdStartedSignal.add((()=>{this.creativeAdStartedCallback()})),this.addDestroyHandler((()=>{this.onResume.removeAll(),this.onPause.removeAll(),this.playingState.removeAll(),this.playbackPosition.removeAll(),this.onFirstQuartile.removeAll(),this.onMidpoint.removeAll(),this.onThirdQuartile.removeAll(),this.onBeforeComplete.removeAll(),this.onComplete.removeAll(),this.onVolumeChange.removeAll(),this.adVideoIsBuffering.removeAll(),this.vpaidCreativeAdStartedSignal.removeAll(),this.vpaidCreativeAdErrorSignal.removeAll()})),this.addDestroyHandler(Ie({element:window,eventName:"unload",listener:()=>{this.destroy({reason:"unload",details:void 0})}})),this.isStarted.addOne(this.subscribeFullscreenForLogs);const h=new Error,{vpaidTimeout:p}=o;this.shouldPlayTimeCounter.addCallback(p,(()=>{const e=this.getScriptSrc(),t=this.lifeCycleStage.getValue(),{videoNodeController:i}=this.adDisplayController,{videoNode:r}=i,n={adPodId:this.mediaAd.getAdPodId(),timeout:p,src:e,config:this.adDisplayController.playbackParameters,viewerPlaybackParams:o,liveCycleStage:t,videoNodeSrc:r.src,adMediaState:this.adDisplayController.adMediaState.getValue(),networkState:r.networkState,readyState:r.readyState,downlink:this.adDisplayController.getAdPlacementOptions().downlink};this.isDestroyed?s.error({error:new Sc({code:"SHOULD_PLAY_TIMER_IS_STARTED_AFTER_VIEWER_DESTROY",details:n})}):(this.isAdPlayingCalled&&!this.isStarted.getValue()&&s.error({error:new Sc({code:"VPAID_TIMEOUT_PREVENTED_BY_AD_PLAYING_EVENT",details:n})}),this.isStarted.getValue()||this.isAdPlayingCalled||this.destroy({reason:"error",details:new Sc(h,{code:ua({creativeLifeCycleStage:t,isYandexCreative:lS(this.getScriptSrc()),adCreativeWrapper:this.adCreativeWrapper}),details:n})}))})),this.completeLatch.subscribe((()=>{this.playingTimeCounter.stop()})),this.addDestroyHandler((()=>{this.onAdSkippableStateChange.removeAll()}))}startCreative(e){let{startStrategy:t}=e;this.isDestroyed&&this.stats.error({error:new Sc({code:"PLAY_VPAID_VIEWER_AFTER_DESTROY",details:void 0})});const i="startPlaying"===t?"play":"pause";this.playingState.dispatch(i),this.creative?this.resume():this.prepareVpaidCreative({startStrategy:t}).catch((e=>{this.destroy({reason:"error",details:e})}))}getCurrentTime(){if(!this.creative)return 0;const e=this.creative.getAdRemainingTime()||0;return t(e)?this.getDuration()-e:0}getAdRemainingTime(){if(this.isDestroyed)return 0;if(!this.creative)return this.mediaAd.getDuration();const e=this.creative.getAdRemainingTime();return t(e)?e<0?this.isStarted.getValue()?e:this.getDuration():e:this.isStarted.getValue()?-2:this.getDuration()}pause(){this.playingState.dispatch("pause"),this.creative&&(kc("VPAID.pauseAd() called in pause method"),this.creative.pauseAd())}resume(){const{creative:e}=this;return e?this.isCreativeStartRequested.getValue()?(this.playingState.dispatch("play"),kc("VPAID.resumeAd() called in resume method"),void e.resumeAd()):void this.startVpaidCreative(e):(kc("AdPodViewer dispatch playingState=play without creative"),void this.playingState.dispatch("play"))}skipAd(){this.creative&&this.creative.skipAd()}getAdSkippableState(){return this.creative&&"function"===typeof this.creative.getAdSkippableState?this.creative.getAdSkippableState():Pv}getDuration(){if(this.creative){const e=this.creative.getAdDuration();if(e>0)return e}return this.mediaAd.getDuration()||0}getAdWidth(){if(this.creative){const{adWidth:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return 0}getAdHeight(){if(this.creative){const{adHeight:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return 0}resizeAd(e,t,i){var o;void 0===i&&(i="normal"),null==(o=this.creative)||o.resizeAd(e,t,i)}setMuted(e){const t=this.adDisplayController.videoNodeController.videoNode.volume,i=t>0?t:.5;this.setVolume(e?0:i)}getVolume(){var e,t;return null!=(e=null==(t=this.creative)?void 0:t.getAdVolume())?e:this.adDisplayController.videoNodeController.getVolume()}setVolume(e){if(!this.isDestroyed)if(this.creative){const t=this.getVolume()!==e&&!dS(this.mediaAd),{videoNode:i}=this.adDisplayController.videoNodeController,o=i.volume,r=i.muted;this.creative.setAdVolume(e);const n=i.volume,a=i.muted;!t||this.adCreativeWrapper||this.mediaAd.getIsIndependentOnVideoElement()||o!==n||r!==a||this.stats.log({name:"VpaidCreativeDidNotChangeVideoSlotVolume",data:this.getVPAIDLogDetails()})}else this.adDisplayController.videoNodeController.setVolume(e)}startAndPauseVpaidCreative(e){lS(this.getScriptSrc())&&(kc("preload VPAID creative by start and pause"),this.startVpaidCreative(e),this.stats.log({name:"PreloadVPAIDCreativeByStartAndPause",data:{vpaidSrc:this.getScriptSrc()}}),kc("VPAID.pauseAd() called for start and pause"),e.pauseAd())}async initCreative(){let e,i;const o=Date.now();this.lifeCycleStage.dispatch("load");const{vastAd:r}=this.mediaAd,n=Ri(r),s=this.createContainerNode();let l;if(n){kc("[AdPodViewer]: play creative as AdCreative"),l=s;const{creative:t,wrapper:o}=this.wrapAdCreative({creativeSlot:l});e=t,this.adCreativeWrapper=o,i=a((()=>{try{kc("[AdPodViewer]: call adCreative stopAd method"),e.stopAd()}catch(Ww){this.stats.error({error:new Sc(Ww,{code:"AD_CREATIVE_STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}}))}else if(dS(this.mediaAd)){kc("[AdPodViewer]: play creative via VASFrame"),l=s;const t=Fu({container:l,initTimeout:5e3});this.addDestroyHandler(t.abortInit);const o=await t.initPromise;if(this.isDestroyed)return void o.destroy(void 0);if(o.addDestroyHandler((()=>{this.destroy({reason:"error",details:new Sc({code:"VPAID_AD_POD_VIEWER_FRAME_DESTROYED",details:{adPodId:this.mediaAd.getAdPodId()}})})})),this.addDestroyHandler((()=>{o.destroy(void 0)})),this.isDestroyed)return;if(o.assignVideoTag({videoElement:this.adDisplayController.videoNodeController.videoNode}),await o.loadCreative(this.getScriptSrc()),this.isDestroyed)return;const r=()=>aS.getVpaidAd(o),n=this.getStandardVpaidCreative(r);e=n.creative,i=a((()=>{kc("[AdPodViewer]: call VPAID stopAd method"),n.stopAd()})),this.addDestroyHandler(i),o.changeFrameVisibility(!0)}else{kc("[AdPodViewer]: play creative with Friendly Iframe");const t=Km.create({parentElement:s,scope:"VPAID_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails}),o=t.iframe;Ne(o,yu),l=o.contentDocument.body;const r=o.contentWindow;Br(r)&&x_(),Mr(r)&&L_(r),Ol(B_,(e=>{this.addDestroyHandler(Ie({element:l,eventName:e,listener:()=>{this.onAdInteraction.dispatch(void 0)},options:{passive:!0}}))})),this.addDestroyHandler((()=>{t.destroy(void 0)})),t.addDestroyHandler((e=>{e&&this.destroy({reason:"error",details:e})}));const n=await this.loadVpaidMediaFile(r);if(this.isDestroyed)return;const a=this.getStandardVpaidCreative(n);e=a.creative,i=a.stopAd}if(this.setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(),this.onBeforeDestroy.addOne((()=>{kc("[AdPodViewer]: call stopAd in onBeforeDestroy callback"),i()})),this.stats.log({name:"VpaidCreativeLoaded",data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-o}}),this.isDestroyed)throw new Sc({code:"VPAID_WAS_DESTROYED_DURING_LOAD",details:this.getVPAIDLogDetails()});const{adDisplayController:d}=this,{videoNodeController:c,playbackParameters:u}=d,{clientWidth:h,clientHeight:p}=c.videoNode,m=this.getDesiredBitrate(),A={AdParameters:this.getAdParameters()},v=d.autoplayAbilityResult.getValue();let _;_=void 0!==v&&(c.videoNode.muted?"restricted"!==v.autoplayAbility:"allowed"===v.autoplayAbility);const g={slot:l,videoSlot:c.videoNode,videoSlotCanAutoPlay:_,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:u.lang,controlsSettings:{controlsVisibility:ep},pauseOnClickThrough:!1,description:this.mediaAd.vastAd.description}},f=function(e){let{creative:t,isYandexCreative:i,getLogDetails:o,logStatsEvent:r}=e;return function(e,t){let{methodCallError:i,methodAbsent:o,getterError:r,setterError:n,onSubscribeEventMoreThanOnce:a}=t;const s=Z(Iv,((t,r)=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if("function"===typeof e[r])try{return e[r].apply(e,n)}catch(Ww){i({methodName:r,args:n,error:Ww})}else o({methodName:r,args:n})})),l=s.subscribe,d=new Set;return s.subscribe=(e,t,i)=>{d.has(t)&&a({eventName:t}),d.add(t),l(e,t,i)},me(kv,((t,i)=>{Object.defineProperty(s,i,{configurable:!0,enumerable:!0,get:()=>{try{return e[i]}catch(Ww){r({propertyName:i,error:Ww})}},set:t=>{try{e[i]=t}catch(Ww){n({propertyName:i,error:Ww,value:t})}}})})),s}(t,{methodCallError:e=>{let{methodName:t,args:n,error:a}=e;r({name:i?"YandexVpaidMethodCallError":"VpaidMethodCallError",data:aa({methodName:t,args:n,stack:a.stack,message:a.message},o()),probability:1})},methodAbsent:e=>{let{methodName:t,args:n}=e;r({name:i?"YandexVpaidMethodAbsent":"VpaidMethodAbsent",data:aa({methodName:t,args:n},o()),probability:1})},getterError:e=>{let{propertyName:t,error:n}=e;r({name:i?"YandexVpaidGetterError":"VpaidGetterError",data:aa({propertyName:t,stack:n.stack,message:n.message},o()),probability:1}),Be(n)},setterError:e=>{let{propertyName:t,value:n,error:a}=e;r({name:i?"YandexVpaidSetterError":"VpaidSetterError",data:aa({propertyName:t,value:n,stack:a.stack,message:a.message},o()),probability:1}),Be(a)},onSubscribeEventMoreThanOnce:e=>{let{eventName:t}=e;r({name:"VpaidSubscribeEventMoreThanOnce",data:aa({eventName:t},o()),probability:1})}})}({creative:e,isYandexCreative:lS(this.getScriptSrc()),getLogDetails:this.getVPAIDLogDetails,logStatsEvent:this.stats.log});this.subscribeCreativeEvents(f,l.ownerDocument.defaultView),this.addDestroyHandler(function(e){let{rootElement:i,logStatsEvent:o,adPlacementOptions:r}=e;return Ie({element:i,eventName:"click",listener:e=>{const n=i.getBoundingClientRect(),a=function(e){let i,o,{win:r,event:n,adPlacementOptions:a,rootClientRect:s}=e,l=!1,d=!0,c=!1,u=!1;const{__vasClickRegistration:h}=r;if(h){const{duplicates:e,details:t}=h;i=t.control,o=t.purpose,l=e.length>0,d=!1}const{clientX:p,clientY:m}=n,{top:A,left:v,width:_,height:g}=s,f=p-v,y=m-A,S=f/_,T=y/g;return(S<0||S>1||T<0||T>1)&&(c=!0),t(S)&&t(T)||(u=!0),{data:{vasClickRegistration:h,clientX:p,clientY:m,rootClientRect:s,adPlacementOptions:a},dailySensors:{control:i,purpose:o,hasDuplicates:l,isUnknown:d,isOutside:c,isInvalid:u},values:{x:f,y,relativeX:S,relativeY:T}}}({win:Dd,event:e,adPlacementOptions:r,rootClientRect:n});o(ba({name:"VasClick",probability:1},a))}})}({rootElement:this.adDisplayController.slotParameters.element,logStatsEvent:this.stats.log,adPlacementOptions:this.adDisplayController.getAdPlacementOptions()}));const y=Date.now();return await new Promise(((t,o)=>{f.subscribe((()=>{kc("VPAID dispatched AdLoaded event"),t(f)}),"AdLoaded"),this.vpaidCreativeAdErrorSignal.add((e=>{kc("VPAID dispatched AdError event"),o(this.parseVpaidError(e,"VPAID_LOADING_ERROR"))})),this.lifeCycleStage.dispatch("init");try{e.initAd(h,p,"normal",m,A,g)}catch(Ww){throw kc("[AdPodViewer]: creative.initAd() error, call stopAd"),i(),new Sc(Ww,{code:"INIT_AD_ERROR",details:this.getVPAIDLogDetails()})}})),this.stats.log({name:"VpaidCreativeInitialized",data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-y}}),f}wrapAdCreative(e){let{creativeSlot:t}=e;const i=this.getAdParameters(),{adParametersObject:o}=this.mediaAd.vastAd,{parsed:{videoMediaFiles:r,animationMediaFile:n,adParameters:a},errors:s}=Xi(null!=o?o:i);let l;if("survey"===this.adDisplayController.getAdPlacementOptions().adFormatType&&this.mediaAd.vastAd.surveyParameters){const{disableSurveyCompleteScreen:e,disableSurveyStartTimeout:t}=this.adDisplayController.playbackParameters;l=Pa({},this.mediaAd.vastAd.surveyParameters,{disableSurveyCompleteScreen:void 0!==e&&e,disableSurveyStartTimeout:void 0!==t&&t,canSurveyFitInSlot:this.adDisplayController.canSurveyFitInSlot.getValue(),isInstreamSurvey:void 0===e&&void 0===t})}_e(s);const{playbackParameters:d,videoContentSize:u,slotParameters:h,videoNodeController:p}=this.adDisplayController,{videoTimeout:m,bufferFullTimeout:A,bufferEmptyLimit:v}=this.adPodViewerPlaybackParams,_=r.length>0&&!Li(this.mediaAd.vastAd)&&!Vi(this.mediaAd.vastAd),g=this.mediaAd.getIsConvertedFromVideoVast();let f,y;if(!_){const{firstFrameImages:e}=this.mediaAd.vastAd,t=this.mediaAd.getPreloadedFirstFramePicture(),i=null!=t?t:XA({boundingRectangle:h.size.getValue(),images:Nc(e,(e=>{var t,i;return Pa({},e,{width:null!=(t=e.width)?t:0,height:null!=(i=e.height)?i:0})}))});void 0!==i&&(y={posterImage:i,isPreloaded:void 0!==t,backgroundSize:"cover"})}if(_){let e=this.mediaAd.getPreloadedVideoFile();const{adBreak:t}=this.mediaAd,i=this.mediaAd.getAdPodId(),o=Pa({container:h.size.getValue(),desiredBitrate:this.getDesiredBitrate(),isVideoADB:ue(h.window)},YA);e||(e=ko(r,o,{adBreak:t,adPodId:i,initiator:"AdPodViewer"}).prioritisedMediaFile);const n=g?1===r.length?"CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE":"NO_APPROPRIATE_VIDEO_SOURCE":"NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE";if(!e)throw new Sc({code:n,details:{mediaFiles:r,adPodId:this.mediaAd.getAdPodId(),mediaFilePriorityOptions:o}});const{firstFrameImages:a}=this.mediaAd.vastAd,s=this.mediaAd.getPreloadedFirstFramePicture(),l=null!=s?s:Ji(a,e);void 0!==l&&(y={posterImage:l,isPreloaded:void 0!==s}),f={videoContentSize:u,videoMediaFile:Pa({},e,{url:Jp(e.url)}),videoMediaFiles:r,videoTimeout:m,bufferFullTimeout:A,bufferEmptyLimit:v,durationFallback:()=>this.mediaAd.getDuration(),getStartStrategy:()=>"play"===this.playingState.getValue()?"startPlaying":"warmupOnly",onVideoBufferingStateChange:e=>{this.adVideoIsBuffering.dispatch(e)}},this.canUseMediaAfterPlayback=!0}let S,T=t.ownerDocument.defaultView;if(n){S={animationMediaFile:n,getPreloadedAdCreativeInitFunction:this.mediaAd.getPreloadedAdCreativeInitFunction,adCreativeParameters:a,surveyAdCreativeParameters:l};const e=Km.createHidden({parentElement:t,scope:"AD_CREATIVE_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails});T=e.window,this.addDestroyHandler((()=>{e.destroy(void 0)})),e.addDestroyHandler((e=>{e&&this.destroy({reason:"error",details:e})}))}let E=this.adPodViewerPlaybackParams.packshotParameters;var b;E=!1===this.adPodViewerPlaybackParams.packshotSettings.isEnabled?void 0:null!=(b=E)?b:this.getAutogeneratedPackshotParameters(_);const C=this.getVideoSlotClickUrl(),P=this.mediaAd.getIsConvertedFromVideoVast();this.isInfinityPackshotEnabled=this.enableInfinityPackshot&&(!_||void 0!==E),this.enableInfinityPackshot&&this.stats.log({name:"InfinityPackshotEnabled",sensors:{isPossible:this.isInfinityPackshotEnabled}});const w=T,O={AdClickThru:e=>{this.stats.log({name:"AdCreativeUserInteractionCallbackClickThruCall",data:{vpaidLogDetails:this.getVPAIDLogDetails(),clickThruParams:e}}),this.userInteractionDispatchers.AdClickThru(e),this.clickThrough(e)},AdSkipped:()=>{this.userInteractionDispatchers.AdSkipped(),this.destroy({reason:"skip",details:void 0})},AdStopped:()=>{var e,t;this.userInteractionDispatchers.AdStopped();const i=this.completeLatch.getValue();this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!=(e=null==i?void 0:i.canUseMediaAfterPlayback)&&e,isInfinityPackshotEnabled:null!=(t=null==i?void 0:i.isInfinityPackshotEnabled)&&t}})},AdUserClose:()=>{this.userInteractionDispatchers.AdUserClose(),this.destroy({reason:"close",details:void 0})},AdTimeToSkipChange:e=>{this.adDisplayController.timeToSkipAdCreative.dispatch(e)},AdVideoComplete:()=>{this.userInteractionDispatchers.AdVideoComplete(),kc("VPAID dispatched AdVideoComplete event"),this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback,isInfinityPackshotEnabled:this.isInfinityPackshotEnabled})}},I={adCreativeWindow:w,slot:t,slotsParameters:{visibilitySlotParameters:this.adDisplayController.visibilitySlotParameters,slotParameters:this.adDisplayController.slotParameters},animationParameters:S,videoParameters:f,firstFrameParameters:y,videoNodeController:p,slotSize:h.size,videoSlotClickUrl:C,intrinsicAdCreativeType:P?"video":"vpaid",getVPAIDLogDetails:this.getVPAIDLogDetails,packshotParameters:this.getCreativePackshotParameters({win:w,slot:t,packshotParameters:E,packshotSettings:this.adPodViewerPlaybackParams.packshotSettings,slotSize:h.size,videoNodeController:p,adCreativeUserInteractionCallbacks:O,themeEmptyParameters:pa(this.mediaAd.vastAd)}),lang:d.lang,adCreativeUserInteractionCallbacks:O,verifyLogAdditionalData:Rn(this.mediaAd.vastAd),shouldHideSkipButton:!1===this.adDisplayController.playbackParameters.controlsSettings.controlsVisibility.skip,playerEnvironment:this.adDisplayController.playerEnvironment,destroyAfterComplete:!this.isInfinityPackshotEnabled,stats:this.stats},{creative:k,wrapper:N,userInteractionDispatchers:D}=function(e){const{stats:t}=e,i=new D_(e),o=ur(i),{measurableVPAIDCreative:r,userInteractionDispatchers:n}=function(e,t,i){void 0===i&&(i={});const o=e,{onStop:r=W,onInitMeasurer:n=W,onTrackEvent:a=W,onExecutionError:s=W,onAdError:l=W,onPlayingStateChange:d=W}=i,u=new T_(o,t,{onStop:r,onInitMeasurer:n,onTrackEvent:a,onExecutionError:s,onAdError:l,onPlayingStateChange:d}),h=function(e,t){let{vpaidWillCallMethod:i,vpaidWillSetProperty:o}=t;const r=Z(Iv,((e,t)=>function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return i(t,o)}));return Ol(c(kv),(t=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:()=>e[t],set:e=>{o(t,e)}})})),r}(o,u);return{measurableVPAIDCreative:h,userInteractionDispatchers:u.userInteractionDispatchers,vpaidCreativeProxyForMeasurers:u.vpaidCreativeProxyForMeasurers}}(o,e,{onStop:e=>{let{error:i,reason:o}=e;i?t.error({error:i}):t.log({name:"AdCreativeMeasured",data:{stopReason:o}})},onInitMeasurer:e=>{Ir(e)},onTrackEvent:e=>{Nr(e)},onExecutionError:e=>{t.error({error:e})},onAdError:e=>{let{error:i}=e;t.errorToStats(i)}});return{creative:r,wrapper:i,userInteractionDispatchers:n}}(I);return this.userInteractionDispatchers=D,{creative:k,wrapper:N}}setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(){const e=this.mediaAd.vastAd;cm(e)&&(this.canUseMediaAfterPlayback=!0)}async loadVpaidMediaFile(e){const t=lS(this.getScriptSrc())?"YANDEX_VPAID_FRIENDLY_IFRAME":"VPAID_FRIENDLY_IFRAME";this.addDestroyHandler(ho(e,((e,i,o)=>{this.stats.error({error:uo({scope:t,errorType:i,error:e,details:Pa({},this.getVPAIDLogDetails(),{error:e,data:o})})})})));const i=this.mediaAd.getPreloadVpaidWindow();if(i){const{frameElement:e,getVPAIDAd:t}=i;if(null!==e&&void 0!==e)return this.addDestroyHandler(Xm(e,(()=>{this.destroy({reason:"error",details:new Sc({code:"PRELOAD_IFRAME_WAS_UNLOADED",details:{adPodId:this.mediaAd.getAdPodId()}})})}))),t;this.stats.log({name:"VpaidAdPodViewer_PreloadFriendlyIframeDestroyed",data:{getVPAIDAdIsAcquired:"function"===typeof t},probability:1})}try{const{promise:t,teardown:i}=Qm({src:this.getScriptSrc(),win:e});return this.addDestroyHandler(i),await t}catch(Ww){throw new Sc(Ww,{code:"CANNOT_LOAD_VPAID_MEDIA_FILE",details:{adPodId:this.mediaAd.getAdPodId()}})}}getStandardVpaidCreative(e){const t=lS(this.getScriptSrc());if("function"!==typeof e)throw new Sc({code:t?"YANDEX_NO_GET_VPAID_AD_FUNC":"NO_GET_VPAID_AD_FUNC",details:Pa({},this.getVPAIDLogDetails(),{typeOfGetVPAIDAd:typeof e})});let i;try{i=e()}catch(Ww){throw new Sc(Ww,{code:"GET_VPAID_AD_ERROR",details:this.getVPAIDLogDetails()})}const r=a((()=>{kc("[AdPodViewer]: call stopAd wrap method");try{i.stopAd()}catch(Ww){this.stats.error({error:new Sc(Ww,{code:"STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}}));if(!(e=>o(e)&&"function"===typeof e.handshakeVersion&&"function"===typeof e.initAd&&"function"===typeof e.startAd&&"function"===typeof e.stopAd&&"function"===typeof e.skipAd&&"function"===typeof e.resizeAd&&"function"===typeof e.pauseAd&&"function"===typeof e.resumeAd&&"function"===typeof e.expandAd&&"function"===typeof e.collapseAd&&"function"===typeof e.subscribe&&"function"===typeof e.unsubscribe)(i))throw new Sc({code:"INVALID_VPAID_API",details:this.getVPAIDLogDetails()});const n=i.handshakeVersion(oS);if(!(e=>{let{versionSupported:t,versionToCheck:i}=e;const o=Nc(t.split("."),(e=>parseInt(e,10))),r=Nc(i.split("."),(e=>parseInt(e,10)));for(let n=0;n<r.length;n++){const e=r[n],t=o[n],i="undefined"===typeof t?0:t;if(e>i)return!1;if(e<i)return!0}return!0})({versionSupported:oS,versionToCheck:n}))throw kc("[AdPodViewer]: vpaid version is NOT supported, call stopAd method"),r(),new Sc({code:"VPAID_VERSION_ERROR",details:Pa({},this.getVPAIDLogDetails(),{playerSupportedVersion:oS,creativeVersion:n})});return{creative:i,stopAd:r}}getScriptSrc(){return this.getCurrentSource().url}getCurrentSource(){return this.mediaAd.getJSMediaFile()}setUpdatePositionInterval(e){const t=e.setInterval(this.updatePosition,250),i=()=>{L(e.clearInterval)&&e.clearInterval(t)};return this.addDestroyHandler((()=>{i()})),()=>{i()}}subscribeCreativeEvents(e,t){e.subscribe((()=>{var e,t;this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!=(e=null==(t=this.completeLatch.getValue())?void 0:t.canUseMediaAfterPlayback)&&e,isInfinityPackshotEnabled:this.isInfinityPackshotEnabled}})}),"AdStopped"),e.subscribe(((e,t,i)=>{this.clickThrough({url:e,clickSource:"VpaidAdClickThruEvent",playerHandles:Boolean(i)})}),"AdClickThru"),e.subscribe((()=>{this.updateAdSkippableState()}),"AdSkippableStateChange");const i=()=>{const t=e.getAdDuration();t>0&&this.mediaAd.actualizeDuration(t)};let o;e.subscribe((()=>{kc("VPAID dispatched AdDurationChange event"),i()}),"AdDurationChange"),e.subscribe((e=>{this.vpaidCreativeAdErrorSignal.dispatch(e)}),"AdError"),e.subscribe((()=>{this.vpaidCreativeAdStartedSignal.dispatch(void 0),i(),L(o)&&o(),o=this.setUpdatePositionInterval(t)}),"AdStarted"),e.subscribe((()=>{kc("VPAID dispatched AdPlaying event"),this.isAdPlayingCalled=!0,this.updatePosition(),L(o)&&o(),o=this.setUpdatePositionInterval(t),this.onResume.dispatch(void 0)}),"AdPlaying"),e.subscribe((()=>{kc("VPAID dispatched AdPaused event"),this.updatePosition(),L(o)&&o(),this.onPause.dispatch(void 0)}),"AdPaused"),e.subscribe((()=>{this.trackStartEvent()}),"AdVideoStart"),e.subscribe((()=>{this.onImpression.dispatch(void 0)}),"AdImpression"),e.subscribe((()=>{this.onFirstQuartile.dispatch(void 0)}),"AdVideoFirstQuartile"),e.subscribe((()=>{this.onMidpoint.dispatch(void 0)}),"AdVideoMidpoint"),e.subscribe((()=>{this.onThirdQuartile.dispatch(void 0)}),"AdVideoThirdQuartile");const r=a((()=>this.onBeforeComplete.dispatch(void 0)));e.subscribe((()=>{r()}),"AdVideoBeforeComplete"),e.subscribe((()=>{this.onVolumeChange.dispatch(void 0)}),"AdVolumeChange"),e.subscribe((()=>{this.destroy({reason:"skip",details:void 0})}),"AdSkipped");const n=a((()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback,isInfinityPackshotEnabled:this.isInfinityPackshotEnabled})}));e.subscribe((()=>{kc("VPAID dispatched AdVideoComplete event"),n()}),"AdVideoComplete"),e.subscribe((()=>{this.destroy({reason:"close",details:void 0})}),"AdUserClose")}parseVpaidError(e,t){const i=this.getVPAIDLogDetails();if("string"===typeof e){const o=((e,t,i)=>{const o=Cd(bS,(e=>{let[,i]=e;return-1!==t.indexOf(i)}));if(!o)return;const[r]=o;return new Sc({code:"EXTERNAL_VPAID_NO_AD_"+r,details:ma({},i,{error:e})})})(e,this.getCurrentSource().url,this.getVPAIDLogDetails());return o||new Sc({code:t,message:"String error from vpaid ["+e+"]",details:i})}return ne(e)?e:e?new Sc(e,{code:t,details:i}):new Sc({code:t,message:"unknown error from VPAID creative",details:i})}updateAdSkippableState(){const e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))}getAutogeneratedPackshotParameters(e){var t;const i=null!=(t=qd.getNumberFlagValueAndActivateTestId("VAS_AUTOGENERATED_PACKSHOT_DURATION"))?t:3;if(!i||!e)return;const{vastAd:r}=this.mediaAd,{slotParameters:n}=this.adDisplayController,a=function(e,t){const{adParametersObject:i}=e;if(!o(i))return;const r=da(e),n=null==r?void 0:r.packshotImageUrl;if(n)return n;const a=Do(i.adParameters);return 0!==a.length?KA({size:t,images:a}):void 0}(r,n.size.getValue()),s=this.adPodViewerPlaybackParams.clickThroughUrl||r.clickUrlData.serializablePlaybackParametersClickUrl;if(!h(s))return void this.stats.log({name:"AutogeneratedPackshot_NoClickThroughLink"});const{title:l,body:d}=kt(this.mediaAd.vastAd.adParametersObject);return{packshotImageUrl:a,packshotActionButtonClickUrl:s,packshotDuration:i,packshotTitle:l,packshotBody:d,packshotButtonText:void 0}}get contentType(){return this.mediaAd.contentType}trackOnCreativeInit(){this.trackVastEvent("onCreativeInit",{})}trackVastEvent(e,t){var i;const o=null!=(i=this.mediaAd.vastAd.trackingEvents[e])?i:[];e in this.sentTrackings||(this.sentTrackings[e]=0),this.sentTrackings[e]+=1,oa({eventName:e,options:this.adDisplayController.getAdPlacementOptions(),trackingEventDetails:t,trackingUrls:o,pixelsSource:"vast"})}trackStartEvent(){this.isCreativeStartRequested.getValue()||this.stats.error({error:new Sc({code:"TRACK_START_BEFORE_PLAY",details:{isVPAID:"js"===this.mediaAd.contentType}})});let e=this.shouldPlayTimeCounter.getTime();e<0&&(e=_l),this.trackVastEvent("start",{values:{timeToStart:e}})}trackError(e){this.mediaAd.trackError(e)}clickThrough(e){var t=this;const{playerHandles:i,clickSource:o}=e,{clickThroughUrl:r}=this.adPodViewerPlaybackParams;let n;this.isDestroyed&&this.stats.error({error:new Sc({code:"CALL_AD_POD_VIEWER_CLICK_THROUGH_AFTER_DESTROY",details:{clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}})}),e.url?n=e.url:r&&(this.stats.log({name:"UsingPresetClickThroughUrl",data:{clickThroughUrl:r,adPodId:this.mediaAd.getAdPodId()},probability:1}),n=r),Qv(this.adDisplayController.videoNode)<=.1&&this.stats.log({name:"ClickOnTinyBufferedTime",probability:1});const{pauseOnClickThrough:s,clickThroughConfirmation:l,clickThroughCallback:d}=this.adDisplayController.playbackParameters,c=Boolean(d||n);if(!c||!i)return this.trackVastEvent("clickThrough",{dailySensors:{clickSource:o}}),void this.stats.log({name:"PhantomClickThrough",data:{canHandleClickThrough:c,playerHandles:i,hasClickThroughCallback:Boolean(d),clickThroughUrl:n,clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}});n&&(n=Xe({url:Ea(n),options:this.adDisplayController.getAdPlacementOptions(),win:window}));const u=a((function(i){void 0===i&&(i=!1);const r=Date.now(),a=t.adDisplayController.getPaused(),l=s&&!a&&!t.completeLatch.getValue();if(l&&t.pause(),i){const e=na(window.document,(i=>{var o;if(!i)return;l&&t.resume();const n=Date.now()-r;oa({eventName:"returnAfterClickThrough",trackingEventDetails:{values:{timeSpentBeforeReturn:n}},trackingUrls:null!=(o=t.getAdParametersTrackingUrls("returnAfterClickThrough"))?o:[],options:t.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"});const a=(e=>{switch(!0){case e<=Number(Rm):return"ReturnBackAfterClickThroughIn1Sec";case e<=2e3:return"ReturnBackAfterClickThroughIn2Sec";case e<=1e4:return"ReturnBackAfterClickThroughIn10Sec";case e<=6e4:return"ReturnBackAfterClickThroughIn1Min";default:return"ReturnBackAfterClickThroughAfter1Min"}})(n);t.stats.log({name:a,data:{timeSpentBeforeReturn:n,adPodId:t.mediaAd.getAdPodId()},probability:1}),e()}));t.addDestroyHandler(e)}t.trackVastEvent("clickThrough",{dailySensors:{clickSource:o}}),t.onClickThrough.dispatch({adWasPaused:Boolean(s)}),d&&t.stats.log({name:"ClickThroughCallbackHandle",data:{clickThroughParams:e,url:n,pauseOnClickThrough:s,adPodId:t.mediaAd.getAdPodId()}})}));if(d){l||u();const t=this.isDestroyed;d({url:n,onHandle:u}),!t&&this.isDestroyed&&this.stats.error({error:new Sc({code:"DESTROY_DURING_CLICK_THROUGH_CALLBACK_CALL",details:{clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}})}),this.stats.log({name:"ClickThroughCallbackCall",data:{clickThroughParams:e,url:n,pauseOnClickThrough:s,adPodId:this.mediaAd.getAdPodId()}})}else null!==window.open(n,"_blank")&&u(!0)}getBufferingTime(){return this.bufferingTimeManager.getBufferingTime()}isVpaidAdPodViewer(){return void 0!==this.mediaAd.getJSMediaFile()}isAdaptive(){return!!this.isVpaidAdPodViewer()&&this.mediaAd.getIsIndependentOnVideoElement()}getAdContentSize(){if(this.isAdaptive())return QA;const e={width:this.getAdWidth(),height:this.getAdHeight()};return 0!==e.height&&0!==e.width?e:void 0}getVideoSlotClickUrl(){var e;const{mediaAd:t}=this;if("video"===t.contentType)return this.adPodViewerPlaybackParams.clickThroughUrl;const{vastAd:i}=t;return i.clickUrlData.serializablePlaybackParametersClickUrl||((null==(e=i.adParametersObject)?void 0:e.theme)===qc.INTERACTIVE_VIEWER?(QS(this.stats.log),i.clickUrlData.tgaOfferClickUrl):void 0)}getDesiredBitrate(){const{desiredBitrate:e=Jh}=this.adDisplayController;return e}getAdParameters(){return this.mediaAd.getPreloadedVpaidAdParameters()||this.mediaAd.vastAd.adParameters}trackHoneypotShowEvent(){var e;oa({eventName:"showHp",trackingEventDetails:{},trackingUrls:null!=(e=this.getAdParametersTrackingUrls("showHp"))?e:[],options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"})}trackHoneypotClickEvent(){var e;oa({eventName:"clickHp",trackingEventDetails:{},trackingUrls:null!=(e=this.getAdParametersTrackingUrls("clickHp"))?e:[],options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"})}isHoneypotEnabledForCurrentCreative(){return"TRUE"!==qd.getFlagValueAndActivateTestId("VAS_DISABLE_HONEYPOT")&&(!!jd.hardcodedParams.adsdkhoneypotforced||!ye(nc)&&this.areHoneypotTrackingUrlsDefined()&&Wl()<.001)}areHoneypotTrackingUrlsDefined(){return Boolean(this.getAdParametersTrackingUrls("showHp")&&this.getAdParametersTrackingUrls("clickHp"))}getCreativePackshotParameters(e){var t;let{win:i,slot:o,packshotParameters:r,packshotSettings:n,slotSize:a,videoNodeController:s,adCreativeUserInteractionCallbacks:l,themeEmptyParameters:d}=e;const c=()=>{this.packshotStartLatch.dispatch(void 0)};if(this.isHoneypotEnabledForCurrentCreative())return{type:"honeypot",renderLayoutComponent:()=>{this.trackHoneypotShowEvent(),this.stats.log({name:"AdCreativeWrapperHoneypotRender",probability:1}),c();const e=new Og({win:i,parent:o,parentSize:a,videoNodeController:s,onClick:()=>{kc("Honeypot clicked"),this.trackHoneypotClickEvent(),this.stats.log({name:"AdCreativeWrapperHoneypotContinueClicked",probability:1}),e.destroy({reason:"complete",details:void 0})},buttonText:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",logStatsEvent:this.stats.log});return e}};const u="undefined"!==typeof(null==n?void 0:n.packshotSlot),h=null!=(t=null==n?void 0:n.packshotSlot)?t:o,p=u?this.adDisplayController.visibilitySlotParameters.size:a,m=this.adDisplayController.playbackParameters.lang,{title:A}=kt(this.mediaAd.vastAd.adParametersObject),v=this.ecomShopState.getValue();if(void 0!==v.ecomShop){var _,g;const e=v.ecomShop,t=null!=(_=qd.getNumberFlagValueAndActivateTestId("VAS_ECOM_PRODUCTS_PACKSHOT_DURATION"))?_:5,o=null!=(g=qd.getNumberFlagValueAndActivateTestId("VAS_ECOM_PACKSHOT_INCREASE_DURATION"))?g:t/2;return{type:"ecom-packshot",renderLayoutComponent:()=>{var a,v;c();const _=qd.getNumberFlagValueAndActivateTestId("VAS_SHOW_PACKSHOT_ANIMATION_DURATION"),g=new XS({win:i,parent:h,parentSize:p,videoNodeController:s,duration:t,lang:m,userActionIncreaseDuration:o,destroyAfterComplete:!this.enableInfinityPackshot,openClickThroughUrl:e=>{l.AdClickThru({url:e,clickSource:"EcomProductsCarousel",playerHandles:!0})},onAssetsClickThroughUrl:e=>{let{clickSource:t}=e;l.AdClickThru({url:null==r?void 0:r.packshotActionButtonClickUrl,playerHandles:!0,clickSource:t})},ecomShop:e,themeEmptyParameters:d,disableOverlay:Boolean(n.disableOverlay),disableTitle:Boolean(n.disableTitle),disableButton:Boolean(n.disableButton),showAnimationDuration:null!=(a=n.showAnimationDuration)?a:_,title:null!=(v=null==r?void 0:r.packshotTitle)?v:A,body:null==r?void 0:r.packshotBody,abuseDisplayStatus:this.adDisplayController.abuseDisplayStatus,timeToSkip:this.adDisplayController.timeToSkip,controlsVisibility:this.adDisplayController.combinedSkinControlsVisibility,logStatsEvent:this.stats.log,favicon:this.adDisplayController.favicon,bannerFlags:this.adDisplayController.bannerFlags,isVideoInComboNewPackshot:u,onPackshotShowCallback:n.onPackshotShowCallback,onPackshotHideCallback:n.onPackshotHideCallback});return g.addDestroyHandler(this.ecomShopState.add((e=>{g.setProductsVisibility(e.isVisible)}))),this.ecomShopState.dispatch(Pa({},this.ecomShopState.getValue(),{isVisible:!0})),g.show(),g}}}if(void 0===r)return;const f=null!=d?d:{ageRestriction:void 0,body:void 0,clickUrl:r.packshotActionButtonClickUrl,greenUrl:void 0,label:r.packshotButtonText||uv("LEARN_MORE",m),title:void 0,targetUrl:r.packshotActionButtonClickUrl};return Pa({},r,{type:"packshot",renderLayoutComponent:()=>{var e;c();const t=qd.getNumberFlagValueAndActivateTestId("VAS_SHOW_PACKSHOT_ANIMATION_DURATION"),o=new Jy({win:i,parent:h,parentSize:p,packshotNewDesignMode:"ONLY_ELEMENTS_CLICKABLE",videoNodeController:s,lang:m,destroyAfterComplete:!this.enableInfinityPackshot,title:r.packshotTitle,body:r.packshotBody,imageUrl:r.packshotImageUrl,duration:r.packshotDuration,clickUrl:r.packshotActionButtonClickUrl,openClickThroughUrl:e=>{let{clickSource:t}=e;l.AdClickThru({url:r.packshotActionButtonClickUrl,playerHandles:!0,clickSource:t})},themeEmptyParameters:f,descriptionText:void 0,disableOverlay:Boolean(n.disableOverlay),disableTitle:Boolean(n.disableTitle),disableButton:Boolean(n.disableButton),showAnimationDuration:null!=(e=n.showAnimationDuration)?e:t,timeToSkip:this.adDisplayController.timeToSkip,controlsVisibility:this.adDisplayController.combinedSkinControlsVisibility,logStatsEvent:this.stats.log,favicon:this.adDisplayController.favicon,bannerFlags:this.adDisplayController.bannerFlags,isVideoInComboNewPackshot:u,onPackshotShowCallback:n.onPackshotShowCallback,onPackshotHideCallback:n.onPackshotHideCallback});return o.show(),o}})}}const ZS=$h,$S=1e4,eT=1e4,tT=["3000","4000","5000","6000","7000"],iT=["2","3","4","5","6"],oT=Da("TIMEOUT_NON_PREROLL_MULTIROLL_BUFFER_EMPTY_LIMIT",iT),rT=Da("TIMEOUT_NON_PREROLL_MULTIROLL_BUFFER_FULL_TIMEOUT",tT),nT=Da("TIMEOUT_NON_PREROLL_MULTIROLL_VIDEO_TIMEOUT",tT),aT=Da("TIMEOUT_NON_PREROLL_MULTIROLL_VPAID_TIMEOUT",tT),sT=Da("TIMEOUT_PREROLL_MULTIROLL_BUFFER_EMPTY_LIMIT",iT),lT=Da("TIMEOUT_PREROLL_MULTIROLL_BUFFER_FULL_TIMEOUT",tT),dT=Da("TIMEOUT_PREROLL_MULTIROLL_VIDEO_TIMEOUT",tT),cT=Da("TIMEOUT_PREROLL_MULTIROLL_VPAID_TIMEOUT",tT),uT={preroll:At({bufferEmptyLimit:parseInt(null!=sT?sT:"",10),bufferFullTimeout:parseInt(null!=lT?lT:"",10),videoTimeout:parseInt(null!=dT?dT:"",10),vpaidTimeout:parseInt(null!=cT?cT:"",10)},(e=>i(e))),non_preroll:At({bufferEmptyLimit:parseInt(null!=oT?oT:"",10),bufferFullTimeout:parseInt(null!=rT?rT:"",10),videoTimeout:parseInt(null!=nT?nT:"",10),vpaidTimeout:parseInt(null!=aT?aT:"",10)},(e=>i(e)))},hT={},pT=!(Fa(window)>=15),mT=Ur(window),AT=mT.requestAnimationFrame,vT=mT.cancelAnimationFrame,_T=a((e=>{let{input:t,statsLogFunction:i}=e;i({name:"BackgroundBlurShow",dailySensors:{input:t}})}));class gT extends xc{constructor(e){var t,i;super(),this.isPlaying=new lu(!1),this.framesInterval=100,this.slowFramesCounter=0,this.slowDevice=!1,this.repaintTimeoutId=0,this.rafId=0,this.repaint=()=>{const{duration:e,currentTime:t}=this.params.videoNode,i=e-t<=.3;if(!this.isPlaying.getValue()&&i)return this.clearRepaintTimeout(),void this.setVisibility(!1);const o=ar(this.params.videoNode);if(!o)return void this.setRepaintTimeout();const{clientWidth:r,clientHeight:n}=this.params.container,a=r/n,s=o.width/o.height,l=s-a;this.prepareBlurCanvas(s,l),this.setVisibility(!0);const{context:d}=this,{videoNode:c}=this.params,{width:u,height:h}=this.canvas;if(this.slowDevice){const e=2;d.drawImage(c,0,0,o.width,o.height,0,0,e,e),d.drawImage(this.canvas,0,0,e,e,0,0,u,h)}else d.drawImage(c,0,0,o.width,o.height,0,0,u,h);d.globalAlpha=.1,this.handleSlowDevices(),this.setRepaintTimeout()},this.params=e,this.blurWrapper=document.createElement("div"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.blurWrapper.appendChild(this.canvas),t=this.params.container,i=this.blurWrapper,t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),this.appendStyles(),this.isPlaying.add((t=>{t?(this.repaint(),this.canvas.style.display="",_T({input:e.input,statsLogFunction:e.statsLogFunction})):(this.clearRepaintTimeout(),this.setVisibility(!1))})),this.addDestroyHandler((()=>{this.setPlaying(!1),ke(this.blurWrapper)}))}setPlaying(e){this.isPlaying.dispatch(e)}appendBlurScale(e,t){const i=[1.6,Math.max(e,1.6)];t&&i.reverse(),this.slowDevice||v_(this.canvas,{transform:"translate(-50%,-50%) scaleX("+i[0]+") scaleY("+i[1]+")"})}setCanvasOpacity(e){v_(this.canvas,{opacity:e})}simplifyBlur(){const{clientWidth:e,clientHeight:t}=this.params.container;this.setCanvasSize(e+10,t+10);const i="-5px";v_(this.canvas,{left:i,top:i,transform:"",filter:"blur(5px)",width:100*(1+10/e)+"%",height:100*(1+10/t)+"%"})}appendStyles(){const e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=ae(this.params.videoNode).position;-1===["fixed","absolute"].indexOf(t)&&(e["z-index"]="-1"),v_(this.blurWrapper,e),v_(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX(1.2) scaleY(1.2)",filter:"blur(50px)",opacity:0,transition:"opacity 1s"})}setRepaintTimeout(){this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout((()=>this.rafId=AT(this.repaint)),this.framesInterval)}clearRepaintTimeout(){clearTimeout(this.repaintTimeoutId),vT(this.rafId)}handleSlowDevices(){const e=Date.now();if(this.lastTime){const t=e-this.lastTime;t>1.8*this.framesInterval?(this.slowFramesCounter++,this.slowFramesCounter>=3&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.simplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e}prepareBlurCanvas(e,t){const{container:i,videoNode:o}=this.params,r=t<0,n=r?o.offsetHeight*e:o.offsetWidth/e,a=r?n:o.offsetWidth,s=r?o.offsetHeight:n,l=(r?i.offsetWidth:i.offsetHeight)/n*.8;this.setCanvasSize(a,s),this.appendBlurScale(.8*l,r)}setCanvasSize(e,t){const{canvas:i}=this;i.width=e,i.height=t}setVisibility(e){this.setCanvasOpacity(e?1:0)}}var fT;!function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(fT||(fT={}));const yT=["pagehide","unload"],ST=new Map,TT=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;class ET{constructor(e){const{cues:t}=function(e,t){void 0===t&&(t={meta:!1,strict:!0});const{meta:i=!1,strict:o=!1}=t,r=e.trim().replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n\n"),n=r.shift();if(null==n||!n.startsWith("WEBVTT"))throw new Error('Must start with "WEBVTT"');const a=n.split("\n"),s=a[0].replace("WEBVTT","");if(s.length>0&&" "!==s[0]&&"\t"!==s[0])throw new Error("Header comment must start with space or tab");if(0===r.length&&1===a.length)return{valid:!0,strict:o,cues:[],errors:[]};if(!i&&a.length>1&&""!==a[1])throw new Error("Missing blank line after signature");const{cues:l,errors:d}=function(e,t){const i=[],o=Wd(Nc(e,((e,o)=>{try{return function(e,t,i){let o="",r=0,n=.01,a="",s="";const l=Wd(e.split("\n"),Boolean);if(l.length>0&&l[0].trim().startsWith("NOTE"))return;if(1===l.length&&!qa(l[0]))throw new Error("Cue identifier cannot be standalone (cue #"+t+")");if(l.length>1&&!qa(l[0])&&!qa(l[1]))throw new Error("Cue identifier needs to be followed by timestamp (cue #"+t+")");if(l.length>1&&qa(l[1])&&(o=l.shift()),"string"!==typeof l[0])throw new Error("Invalid cue timestamp (cue #"+t+")");const d=l[0].split(" --\x3e ");if(2!==d.length||!Xa(d[0])||!Xa(d[1]))throw new Error("Invalid cue timestamp (cue #"+t+")");if(r=Ka(d[0]),n=Ka(d[1]),i){if(r>n)throw new Error("Start timestamp greater than end (cue #"+t+")");if(n<=r)throw new Error("End must be greater than start (cue #"+t+")")}if(!i&&n<r)throw new Error("End must be greater or equal to start when not strict (cue #"+t+")");return s=d[1].replace(TT,"").trim(),l.shift(),a=l.join("\n"),a?{identifier:o,start:r,end:n,text:a,styles:s}:void 0}(e,o,t)}catch(G_){return void i.push(G_)}})),Boolean);return{cues:o,errors:i}}(r,o);if(o&&d.length>0)throw d[0];const u=i?function(e){const t={};return Ol(e.slice(1),(e=>{const i=e.indexOf(":"),o=e.slice(0,i).trim(),r=e.slice(i+1).trim();t[o]=r})),c(t).length>0?t:void 0}(a):void 0,h={valid:0===d.length,strict:o,cues:l,errors:d};return i&&(h.meta=u),h}(e);this.cues=t.sort(((e,t)=>e.start-t.start))}findCuesByCurrentTime(e){return Wd(this.cues,(t=>this.isCueApplicable(t,e)))}isCueApplicable(e,t){const{start:i,end:o}=e;return t>=i&&t<=o}}const bT=e=>{const t=za(e,{crossorigin:null,loop:null,preload:"auto",autoplay:null}),i=qo(e,{objectFit:""});return a((()=>{t(),i()}))},CT="Fullscreen is not supported";class PT{constructor(e,t){void 0===e&&(e=window),this.handlers=[],this.onDestroy=new Gd,this.fullscreenElement=null,this.setFullScreenElementFromAPI=()=>{const e=rr(this.win,this.video);this.setFullscreenElement(e)},this.win=e,this.video=t,t&&Ua(e)&&(this.onDestroy.addOne(Ie({element:t,eventName:"webkitbeginfullscreen",listener:()=>{this.setFullscreenElement(t)}})),this.onDestroy.addOne(Ie({element:t,eventName:"webkitendfullscreen",listener:()=>{this.setFullscreenElement(null)}}))),this.names=or(e,t),this.names&&(this.onDestroy.addOne(Ie({element:this.win.document,eventName:this.names.events.change,listener:this.setFullScreenElementFromAPI})),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error(CT);{const{request:i}=this.names;if(!(i in e))throw new this.win.Error(CT);e[i](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error(CT);this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=Wd(this.handlers,(t=>t!==e))}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,Ol(this.handlers,(t=>t(e)))}}class wT{constructor(e){this.violatedSources=[],this.securityPolicyViolationCallback=e=>{let{blockedURI:t,violatedDirective:i,originalPolicy:o}=e;if("media-src"!==i)return;const r={blockedURI:t,violatedDirective:i,originalPolicy:o};this.violatedSources.push(r)},this.unsubscribeEvent=Ie({element:e,eventName:"securitypolicyviolation",listener:this.securityPolicyViolationCallback})}getViolatedSourceBySrc(e){return Cd(this.violatedSources,(t=>{let{blockedURI:i}=t;return 0===e.indexOf(i)}))}destroy(){this.violatedSources=[],this.unsubscribeEvent()}}const OT=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}(window);class IT extends xc{constructor(e){super(),this.params=e,this.mediaSource=new e.MediaSourceConstructor,kc("MSEController: attach BLOB URL"),this.params.videoSlot.src=URL.createObjectURL(this.mediaSource),this.init().then((()=>{kc("MSEController: MSE successfully attached"),Bc.log({name:"MSEControllerAttachSuccess"})})).catch((e=>{kc("MSEController: init error"),"AbortError"===e.name?Bc.log({name:"MSEControllerFetchWasAborted",data:{message:e.message}}):Bc.error({error:new Sc(e,{code:"MSE_CONTROLLER_UNHANDLED_INIT_ERROR"})})}))}async init(){const[e,t]=await Promise.all([this.getVideoReader(),this.getSourceBuffer()]);await this.doReadCycle(e,t),await this.finalize(t)}async getVideoReader(){const e=new AbortController;this.addDestroyHandler((()=>{if(e.signal.aborted)return kc("MSEController#reader: abort controller was already aborted"),void Bc.error({error:new Sc({code:"MSE_CONTROLLER_FETCH_ALREADY_ABORTED",details:{}})});kc("MSEController#reader: abort controller"),e.abort()}));const t=await fetch(this.params.mediaFile.url,{signal:e.signal});if(!t.body)throw new Sc({code:"MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY",details:{}});const i=t.body.getReader();return this.addDestroyHandler((()=>{kc("MSEController#reader: cancel reader"),sa(i.cancel())})),kc("MSEController#reader: got reader"),i}async getSourceBuffer(){"open"!==this.mediaSource.readyState&&await new Promise((e=>Ie({element:this.mediaSource,eventName:"sourceopen",listener:e})));const{mediaFile:e}=this.params,{type:t,codec:i}=e;let o;t&&i?o=aA({type:t,codec:i}):(Bc.log({name:"MSEControllerSourceBufferUsesDefaultWebmContentType",data:{mediaFile:e}}),o='video/webm; codecs="vorbis,vp8"');const r=this.mediaSource.addSourceBuffer(o);return Ie({element:r,eventName:"error",listener:this.ignoreAfterDestroy((e=>{kc("MSEController: got an error inside of sourceBuffer");const t=e.error;this.destroy(new Sc(t,{code:"MSE_CONTROLLER_SOURCE_BUFFER_ERROR",details:{}}))}),"MSEController.ElementEventListener")}),this.addDestroyHandler((()=>{"open"===this.mediaSource.readyState&&(kc("MSEController#abort source buffer"),Bc.log({name:"MSEControllerSourceBufferAbortOnDestroy"}),r.abort())})),kc("MSEController: got source buffer"),r}async doReadCycle(e,t){kc("MSEController: start read cycle, MSE_CONTROLLER_USES_INTERMEDIATE_BUFFER="+OT);let i=await e.read(),o=new Uint8Array;do{for(;t.updating;)await new Promise((e=>Ie({element:t,eventName:"updateend",listener:e})));if(!i.value)break;if(this.isDestroyed)return;if(OT){const e=new Uint8Array(o.length+i.value.length);e.set(o),e.set(i.value,o.length),o=e}else t.appendBuffer(i.value);for(;t.updating;)await new Promise((e=>Ie({element:t,eventName:"updateend",listener:e})));i=await e.read()}while(i.value);for(OT&&(kc("MSEController: buffer read complete, length=["+o.length+"]"),t.appendBuffer(o));t.updating;)await new Promise((e=>Ie({element:t,eventName:"updateend",listener:e})));kc("MSEController: read cycle complete")}async finalize(e){for(kc("MSEController#close streams");e.updating;)await new Promise((t=>Ie({element:e,eventName:"updateend",listener:t})));"open"===this.mediaSource.readyState?(kc("MSEController#finalize: close stream"),this.mediaSource.endOfStream(),this.destroy(void 0)):kc("MSEController#finalize: media source is closed")}}const kT=Math.ceil(8),NT=id;class DT extends xc{constructor(e,t){super(),this.onClick=new Gd,this.currentPosition=new lu({currentTime:0,duration:0},ea),this.onError=new Gd,this.onEnd=new Gd,this.onVolumeChange=new Gd,this.onPlay=new Gd,this.onPlayAfterPause=new Gd,this.onBufferingAfterPlay=new Gd,this.isBuffering=new lu(!1),this.onPlaying=new Gd,this.onCanPlay=new Gd,this.onLoadedData=new Gd,this.pauseRequest=new lu(-1),this.restartOnMediaErrNetworkFirstCunkFailCount=0,this.videoNode=e;const i=this.videoNode.paused?"pause":"play";this.playingState=new lu(i),this.win=Rr(e)?e.ownerDocument.defaultView:t,this.fullscreenApi=new PT(this.win,e),this.cspErrorHandler=new wT(this.win);let o=this.playingState.getValue();this.playingState.add((e=>{const{currentTime:t,duration:i,paused:r,ended:n}=this.videoNode;switch(kc("VideoNodeController.playingStateChange=["+JSON.stringify({previousPlayingState:o,nextPlayingState:e,currentTime:t,duration:i,paused:r,ended:n})+"]"),e){case"play":"pause"===o&&this.onPlayAfterPause.dispatch(void 0),this.onPlay.dispatch(void 0);break;case"end":this.onEnd.dispatch(void 0);break;case"buffering":"play"===o&&this.onBufferingAfterPlay.dispatch(void 0)}this.isBuffering.dispatch("buffering"===e),o=e}));const r={error:()=>{const{src:t}=this.videoNode,i=()=>{const e=this.cspErrorHandler.getViolatedSourceBySrc(t);return e?new Sc({code:"MEDIA_SRC_VIOLATES_CSP_POLICY",details:{violatedSource:e}}):void 0},o=()=>{const e=i();e&&Bc.error({error:e})};let r=i();if(!r){if(r=this.getVideoNodeError(),"MEDIA_ERR_NETWORK_FIRST_CHUNK_FAIL"===r.code&&"TRUE"===qd.getFlagValueAndActivateTestId("VAS_RETRY_ON_NETWORK_ERROR"))return e.src=t,this.play(),this.restartOnMediaErrNetworkFirstCunkFailCount++,void Bc.log({name:"RestartOnMediaErrNetworkFirstCunkFail",data:{count:this.restartOnMediaErrNetworkFirstCunkFailCount}});const{promise:i,clear:n}=Yc(1e3,this.win);this.addDestroyHandler((()=>{n(),o()})),i.then(o).catch(Be)}this.onError.dispatch(r)},play:()=>{this.playingState.dispatch("play")},playing:()=>{this.currentPosition.dispatch(this.getCurrentPosition()),this.onPlaying.dispatch(void 0),this.playingState.dispatch("play")}};this.subscribeClick(),this.subscribeUpdatePositionInterval(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),this.subscribeVolumeChange(),this.subscribeLoadedData();for(const n in r)r.hasOwnProperty(n)&&e.addEventListener(n,r[n]);this.addDestroyHandler((()=>{for(const t in r)r.hasOwnProperty(t)&&e.removeEventListener(t,r[t]);this.fullscreenApi.destroy(),this.cspErrorHandler.destroy(),this.onCanPlay.removeAll()}))}play(){kc("VideoNodeController.play");const e=this.videoNode.play();wu(e)&&e.catch((e=>{this.shouldIgnorePlayRejection(e)||Bc.error({error:new Sc(e,{code:"VIDEO_PLAY_REJECTED",details:{errorCode:e.code,errorName:e.name,errorMessage:e.message}})})}))}pause(){kc("VideoNodeController.pause"),this.pauseRequest.dispatch(this.win.Date.now()),this.currentPosition.dispatch(this.getCurrentPosition()),this.videoNode.pause(),"end"!==this.playingState.getValue()&&this.playingState.dispatch("pause")}setSrc(e){const t=this.prepareSrcUrl(e),{videoNode:i}=this;let o;this.activeMSEController&&(this.activeMSEController.destroy(void 0),this.activeMSEController=void 0);const r=Ic(this.win);o=!(!L(r)||void 0!==bo(e)),kc("VideoNodeController.setSrc shouldPlayWithMSE=["+o+"] url=["+t+"]"),Qa(i,(()=>{if(!o)return i.src=t,void i.load();const r=(e=>{if(!vA||!uA)throw new Sc({code:"MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED",details:{}});return new IT(Ja({},e,{MediaSourceConstructor:uA}))})({mediaFile:e,videoSlot:i});this.activeMSEController=r,r.addDestroyHandler(this.ignoreAfterDestroy((e=>{this.activeMSEController=void 0,e&&this.onError.dispatch(e)}),"VideoNodeController.mseControllerOnDestroy")),this.addDestroyHandler((()=>{r.destroy(void 0)}))}))}getWidth(){return this.videoNode.clientWidth}getHeight(){return this.videoNode.clientHeight}getCurrentPosition(){return function(e){const t=e.duration||0;let i=(o=e.currentTime,.001*Math.round(o/.001)||0);var o;return t-i<.001&&(i=t),{currentTime:Math.max(0,i),duration:Math.max(0,t)}}(this.videoNode)}setCurrentTime(e){this.videoNode.currentTime=e}setVisibleControls(e){this.videoNode.controls=e}isFullscreen(){return rr(this.win,this.videoNode)===this.videoNode}getPaused(){return this.videoNode.paused}getMuted(){return 0===this.getVolume()}setMuted(e){!function(e,t){Qa(e,(()=>{e.muted=t;const i=e.volume;if(!t&&0===i){const t=i>0?i:.5;e.volume=t}}))}(this.videoNode,e)}getVolume(){return Za(this.videoNode)}setVolume(e){!function(e,t){Qa(e,(()=>{e.volume=t,e.muted=0===t}))}(this.videoNode,e)}setLoop(e){this.videoNode.loop=e}getLoop(){return this.videoNode.loop}prepareSrcUrl(e){const{url:t}=e;return $i(e.type)?N(e.url,{video_height:String(this.getHeight()),video_width:String(this.getWidth())}):t}getVideoNodeError(){const{videoNode:e}=this,{src:i,currentSrc:o,currentTime:r,duration:n,error:a,networkState:s,readyState:l}=e,d=a&&a.code,c={code:d,message:a&&a.message||"",src:i,currentSrc:o,currentTime:r,duration:n,networkState:s,readyState:l,selectedMediaFile:void 0,mediaFiles:void 0};if(!a||"undefined"===typeof MediaError)return new Sc({code:"VIDEO_ERROR",details:c});switch(d){case MediaError.MEDIA_ERR_ABORTED:return new Sc({code:"MEDIA_ERR_ABORTED",details:c});case MediaError.MEDIA_ERR_NETWORK:return new Sc({code:"MEDIA_ERR_NETWORK",details:c});case MediaError.MEDIA_ERR_DECODE:return new Sc({code:r>0?"MEDIA_ERR_DECODE_DURING_PLAYBACK":"MEDIA_ERR_DECODE_ON_START",details:c});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return t(s)&&t(l)&&l===e.HAVE_NOTHING&&s===e.NETWORK_NO_SOURCE?new Sc({code:"MEDIA_ERR_NETWORK_FIRST_CHUNK_FAIL",details:c}):new Sc({code:"MEDIA_ERR_SRC_NOT_SUPPORTED",details:c});default:return new Sc({code:"MEDIA_ERROR_UNRECOGNIZED",details:c})}}subscribeClick(){const e=()=>{this.onClick.dispatch(void 0)},t=Fa(this.win)>=11?function(e,t,i){function r(){0!==n&&(clearTimeout(n),n=0)}let n=0,a=0,s=0;const l=Ie({element:e,eventName:"click",listener:function(e){0!==n&&(r(),t(e))},options:{passive:!0}}),d=Ie({element:e,eventName:"touchstart",listener:function(e){1===e.touches.length&&(a=e.changedTouches[0].screenX,s=e.changedTouches[0].screenY,r(),n=i.setTimeout(r,1e3))},options:{passive:!0}}),c=Ie({element:e,eventName:"touchend",listener:function(e){0!==n&&(r(),t(e))},options:{passive:!0}}),u=Ie({element:e,eventName:"touchmove",listener:function(e){if(0===n||!o(e.touches)||1!==e.touches.length)return void r();const{screenX:t,screenY:i}=e.changedTouches[0];(function(e,t){return Math.abs(a-e)>15||Math.abs(s-t)>15})(t,i)&&r()},options:{passive:!0}});return()=>{l(),d(),c(),u()}}(this.videoNode,e,this.win):Ie({element:this.videoNode,eventName:"click",listener:e});this.addDestroyHandler(t)}subscribeUpdatePositionInterval(){let e;const{videoNode:t}=this,i=()=>{this.currentPosition.dispatch(this.getCurrentPosition());const{currentTime:e,duration:t}=this.getCurrentPosition();kc("[VideoNodeController]: updated position [currentTime = ["+e+"], duration = ["+t+"]]")},o=Ie({element:t,eventName:"playing",listener:()=>{this.win.clearInterval(e),e=this.win.setInterval(i,250)},options:{passive:!0}}),r=Ie({element:t,eventName:"pause",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),n=Ie({element:t,eventName:"ended",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),a=Ie({element:t,eventName:"canplay",listener:()=>{this.onCanPlay.dispatch(void 0)}});this.addDestroyHandler(o),this.addDestroyHandler(r),this.addDestroyHandler(n),this.addDestroyHandler(a),this.addDestroyHandler((()=>{this.win.clearInterval(e)}))}subscribePause(){const{videoNode:e}=this,t=Ie({element:e,eventName:"pause",listener:()=>{const{currentTime:e,duration:t}=this.getCurrentPosition();e>=t||this.playingState.dispatch("pause")},options:{passive:!0}}),i=po((()=>{const{paused:t,ended:i}=e;if("play"===this.playingState.getValue()&&t&&!i){const{currentTime:t,duration:i}=e;kc("DetectVideoPauseByPausedProperty currentTime=["+t+"] duration=["+i+"]"),Bc.log({name:"DetectVideoPauseByPausedProperty",data:{currentTime:t,duration:i}}),this.playingState.dispatch("pause")}}));this.addDestroyHandler(t),this.addDestroyHandler(i)}subscribeEnded(){const e=Ie({element:this.videoNode,eventName:"ended",listener:()=>{const{currentTime:e,duration:t}=this.getCurrentPosition();e+.25>=t?this.playingState.dispatch("end"):kc("video ended ignored with currentTime=["+e+"] duration=["+t+"]")},options:{passive:!0}});let t=0,i=NaN;const o=po((()=>{const{currentTime:e,duration:o}=this.getCurrentPosition(),{paused:r}=this.videoNode,n=this.playingState.getValue();if(o>0&&e>=o)return void("end"!==n&&(Bc.log({name:"DetectVideoEndByCurrentTime"}),this.playingState.dispatch("end")));const a=!r&&o>0&&e===i&&o-e<1&&"play"===this.playingState.getValue();i=e,a?t>=kT?(t=0,"end"!==n&&(Bc.log({name:"DetectVideoEndByStalledOffset",probability:1}),this.playingState.dispatch("end"))):t++:t=0}));this.addDestroyHandler(e),this.addDestroyHandler(o)}subscribeBuffering(){let e=W;const t=Rv(this.videoNode,(t=>{let i;if(i=t?"buffering":this.videoNode.paused?"pause":"play",e(),this.playingState.dispatch(i),t&&NT){const{clear:t,promise:i}=Yc(1e3,this.win);e=t,this.addDestroyHandler(t),i.then((async()=>{if("buffering"===this.playingState.getValue())if("TRUE"===qd.getFlagValueAndActivateTestId("VAS_USE_PAUSE_PLAY_HACK_TO_RECOVER_SAFARI_PLAYING_HANGUP")){const{currentSrc:e,src:t,currentTime:i,duration:o,readyState:r}=this.videoNode,n=Number.isNaN(o);Bc.log({name:"RecoverSafariPlayingHangupWithPausePlay",data:{currentSrc:e,src:t,currentTime:i,duration:o,isDurationNaN:n,readyState:r},probability:1}),this.videoNode.pause(),await this.videoNode.play()}else{const{currentTime:e,duration:t}=this.getCurrentPosition(),i=e+.1;this.setCurrentTime(i);const{currentSrc:o,src:r,readyState:n}=this.videoNode;Bc.log({name:"RecoverSafariPlayingHangup",data:{currentSrc:o,src:r,currentTime:e,duration:t,readyState:n},probability:1})}})).catch(Be)}}));this.addDestroyHandler(t)}subscribeVolumeChange(){this.addDestroyHandler(Ie({element:this.videoNode,eventName:"volumechange",listener:()=>{this.onVolumeChange.dispatch(void 0)}}))}subscribeLoadedData(){this.addDestroyHandler(Ie({element:this.videoNode,eventName:"loadeddata",listener:()=>this.onLoadedData.dispatch(void 0)}))}shouldIgnorePlayRejection(e){return!!this.isDestroyed||(20===e.code||"AbortError"===e.name)&&(!!this.isDestroyed||Date.now()-this.pauseRequest.getValue()<=1e3)}}const RT=e=>!1!==e.abuse,VT={isCloseAvailable:!1,isCloseDialogActive:!1},LT={clickableVideo:!0,video:!0,interactiveViewer:!0,external:void 0,motion:void 0,survey:void 0,themeEmpty:void 0,vpaidCreative:void 0},xT=(e,t)=>t>=$v&&("play"===e||"pause"===e),BT=[{type:"video/x-flv",codec:void 0},{type:"video/webm",codec:"vp8, vorbis"},{type:"video/webm",codec:"vp8"},{type:"video/webm",codec:"vp9, vorbis"},{type:"video/webm",codec:"vp9"},{type:"video/webm",codec:"av1"},{type:"video/webm",codec:void 0},{type:"video/ogg",codec:void 0},{type:"video/mp4",codec:"avc1.640033, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640033"},{type:"video/mp4",codec:"avc1.640034, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640034"},{type:"video/mp4",codec:"avc1.64082A, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64082A"},{type:"video/mp4",codec:"avc1.640828, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640828"},{type:"video/mp4",codec:"avc1.640820, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640820"},{type:"video/mp4",codec:"avc1.64081F, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64081F"},{type:"video/mp4",codec:"avc1.64081E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64081E"},{type:"video/mp4",codec:"avc1.64002A,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64002A, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64002A"},{type:"video/mp4",codec:"avc1.640028,mp4a.40.2"},{type:"video/mp4",codec:"avc1.640028, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640028"},{type:"video/mp4",codec:"avc1.640020,mp4a.40.2"},{type:"video/mp4",codec:"avc1.640020, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640020"},{type:"video/mp4",codec:"avc1.64001F,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001F, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001F"},{type:"video/mp4",codec:"avc1.64001E,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001E"},{type:"video/mp4",codec:"avc1.4D481E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D481E"},{type:"video/mp4",codec:"avc1.4D401E,mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D401E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D401E"},{type:"video/mp4",codec:"h264"},{type:"video/mp4",codec:"h265"},{type:"video/mp4",codec:"hev1.1.6.L60.90"},{type:"video/mp4",codec:"hev1.1.6.L63.90"},{type:"video/mp4",codec:"hev1.1.6.L63.90"},{type:"video/mp4",codec:"hev1.1.6.L90.90"},{type:"video/mp4",codec:"hev1.1.6.L120.90"},{type:"video/mp4",codec:"av1"},{type:"video/mp4",codec:void 0},{type:"video/3gpp",codec:"av1"},{type:"video/3gpp",codec:void 0},{type:"application/x-mpegURL",codec:void 0},{type:"application/vnd.apple.mpegurl",codec:void 0},{type:"video/x-ms-wmv",codec:void 0},{type:"application/x-shockwave-flash",codec:void 0},{type:"video/3gp",codec:"av1"},{type:"video/3gp",codec:void 0},{type:"video/mpeg",codec:void 0},{type:"video/mpeg",codec:"av1"}];var MT=e(6416),UT=e.n(MT);const FT=hA?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=",HT=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),i=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),o=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&sa(e.play())}})(e);return()=>{t(),i(),o()}},zT={once:!0,passive:!0};class jT{constructor(e,t){let{checkSoundEnabled:i}=t;this.stop=W,this.isStopped=!1,this.revertVideoState=W,this.video=e;const o=document.createElement("div");o.style.display="none";const r=HT(e),n=Qa(e,(()=>za(e,{src:FT})));let s;this.revertVideoState=a((()=>{n(),e.load(),r(),ke(o)})),this.promise=new Promise((async(e,t)=>{let o;if(s=t,i){if(o=await this.requestAutoplayAbilityByMuted(!1),this.isStopped)return;if(o.autoplayAbility)return this.revertVideoState(),void e({autoplayAbility:"allowed",detectionMethod:o.detectionMethod,detectionDetails:o.detectionDetails})}const r=await this.requestAutoplayAbilityByMuted(!0);if(this.isStopped)return;let n;n=o&&o.detectionMethod!==r.detectionMethod?"DifferentDetectionMethods":r.detectionMethod,this.revertVideoState(),this.isStopped=!0,e({autoplayAbility:r.autoplayAbility?"muted":"restricted",detectionMethod:n||"NotRecognized",detectionDetails:{soundDisabled:r,soundEnabled:o}})})),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(Qa(t,(()=>{t.load()})),await Xu(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:"RAAStopped"};t.muted=e,t.volume=e?0:1;const i=await new Promise((e=>{(function(e){let t=0;const i=[],o=(o,r)=>{i.push(Ie({element:e,eventName:o,listener:r,options:zT})),clearTimeout(t)},r=new Promise((i=>{const r=t=>{e.paused&&i({detectionMethod:t,autoplayAbility:!1})},n=e.play();r("VideoTagPaused"),o("durationchange",(()=>r("PauseAfterDurationChange"))),o("error",(()=>r("VideoTagPausedAfterError"))),o("pause",(()=>i({detectionMethod:"PauseEvent",autoplayAbility:!1}))),o("playing",(()=>{i({detectionMethod:"PlayingEvent",autoplayAbility:!0})})),Boolean(n)?(o("progress",(()=>{i({detectionMethod:"ProgressEvent",autoplayAbility:!0})})),n.then((()=>{i({detectionMethod:"PromiseResolve",autoplayAbility:!0})})).catch((e=>{i({detectionMethod:"PromiseReject",autoplayAbility:!1,detectionDetails:e?{code:e.code,name:e.name,message:e.message}:"not_error"})}))):t=window.setTimeout((()=>{i({detectionMethod:"Timeout",autoplayAbility:!1})}),500)}));return r.then((()=>Y(i))),r})(t).then((t=>{e(t)})).catch((t=>{e({autoplayAbility:!1,detectionMethod:"PlayRejected",detectionDetails:{code:t.code,name:t.name,message:t.message}})}))}));return this.isStopped?{autoplayAbility:!1,detectionMethod:"RAAStopped"}:i}}class YT extends xc{constructor(e){super(),this.currentFramesCount=0,this.startTime=Date.now()/1e3;const t=()=>{this.isDestroyed||e.requestAnimationFrame(t),this.currentFramesCount+=1};e.requestAnimationFrame(t)}getCurrentAvgFps(){const e=Date.now()/1e3;return 0===e?-1:this.currentFramesCount/(e-this.startTime)}}const WT=e=>{const t=new I_;return{promise:new Promise(((i,o)=>{e({resolve:i,reject:o,subscribeForTeardown:e=>{t.subscribe(e)}})})),teardown:()=>t.dispatch(void 0)}},GT=e=>WT((t=>{let{resolve:i,subscribeForTeardown:o}=t;const r=e.ownerDocument,n=r.defaultView,a=g_(r);e.appendChild(a);const s=new n.IntersectionObserver((e=>{const t=e[e.length-1],{isVisible:o}=t;jd.isDebugEnabled&&(a.dataset.isVisible=String(o)),i(o)}),{trackVisibility:!0,delay:100});s.observe(a),o((()=>{s.disconnect(),ke(a)}))})),XT=e=>WT((t=>{let{resolve:i,subscribeForTeardown:o}=t;const r=new e.ownerDocument.defaultView.IntersectionObserver((e=>{const t=e[e.length-1].intersectionRatio>=.5;i(t)}),{threshold:1});r.observe(e),o((()=>{r.unobserve(e),r.disconnect()}))})),KT=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent;return-1!==t.indexOf("Opera Mini")||-1!==t.indexOf("; wv)")&&-1!==t.indexOf(" OPR/")||-1!==t.indexOf(" OPiOS/")}(),qT=[0,0];let QT=0;class JT extends xc{constructor(e){var t,i;let{config:r,videoNode:n,layoutSlot:s,skinParameters:l,backgroundSlot:d,visibilitySlotParameters:u,retainLastMediaAfterPlayback:p,stats:m}=e;super(),t=this,this.volumeButtonCollapseProgress=new lu(void 0),this.volumeStatus=new lu("unknown"),this.videoSlotClickUrl=new lu(void 0),this.ecomShopState=new lu({isVisible:!1,ecomShop:void 0}),this.onReady=new Gd,this.onBeforeDestroy=new Gd,this.onDestroy_PUBLIC_DO_NOT_USE=new Gd,this.onBeforeAdStart=new Gd,this.onAdStart=new Gd,this.adSlowStart=new lu(!1),this.onAdMediaStart=new Gd,this.onAdMediaEnd=new Gd,this.onAdEnd=new Gd,this.onAdSkipped=new Gd,this.onClickThrough=new Gd,this.playerEnvironment=void 0,this.autoplayAbilityResult=new lu({autoplayAbility:"restricted",detectionMethod:"AutomaticallyGenerated"},ea),this.tooltipParameters={container:{containerElement:new lu(void 0),setContainerElement:e=>{this.tooltipParameters.container.containerElement.dispatch(e)}},content:{tooltipContent:new lu(void 0),setTooltipContent:e=>{this.tooltipParameters.content.tooltipContent.dispatch(e)}}},this.onAdStartRejected=new Gd,this.adContentSize=new lu(void 0,ea),this.onAdStop=new Gd,this.onAdPodPlayAdMedia=new Gd,this.onAdPodStartRequest=new Gd,this.onAdPodStart=new Gd,this.onAdPodImpression=new Gd,this.onAdPodFirstQuartile=new Gd,this.onAdPodMidpoint=new Gd,this.onAdPodThirdQuartile=new Gd,this.onAdPodPause=new Gd,this.onAdPodResume=new Gd,this.onAdPodError=new Gd,this.onAdPodComplete=new Gd,this.onAdPodClose=new Gd,this.onAdInteraction=new Gd,this.adMediaState=new lu({name:"idle"},ea),this.isPackshotPlaying=new lu(!1),this.themeEmptyParameters=new lu(void 0,ea),this.favicon=new lu(void 0),this.showTitleAndBody=new lu(void 0),this.currentVastAd=new lu(void 0),this.bannerFlags=new lu(void 0,ea),this.abuseParameters=new lu(Tv,ea),this.adPodDuration=new lu(NaN),this.adVolumeAvailability=new lu(!1),this.adPodRemainingTime=new lu(-2),this.skinAnimationProgress=new lu(0),this.timeToSkipComputed=new lu(Lf),this.timeToSkipAdCreative=new lu(void 0),this.timeToSkip=Cr([this.timeToSkipComputed,this.timeToSkipAdCreative],((e,t)=>null!=t?t:e)).valueSignal,this.adSkippableState=new lu(Pv),this.playingState=new lu("idle",((e,t)=>"idle"===t?(this.stats.error({error:new Sc({code:"ATTEMPT_TO_CHANGE_ADC_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):e===t)),this.adPodCloseState=new lu(VT,ea),this.adTuneState=new lu(Cv,ea),this.combinedSkinControlsVisibility=new lu({},ea),this.creativeType=new lu(void 0),this.adSystemType=new lu(void 0),this.contentAfterAdPod=new lu(Vh,ea),this.socialAdvertising=new lu(!1),this.abuseDisplayStatus=new lu("hidden"),this.pauseByOpenAbuseScreen=new lu(!1),this.adPodsCount=new lu(0),this.playingAdPodIndex=new lu(0),this.adPodCurrentSubtitles=new lu([]),this.isFullscreen=new lu(!1),this.displayAdSequence=new lu(void 0,ea),this.shouldShowSkipButton=new lu({shouldShowSkipButton:!1}),this.logAbuseOpenFirstTime=a((()=>{this.stats.log({name:"AbuseScreenOpenFirstTime",probability:1})})),this.onAllAdPodComplete=new Gd,this.lastMediaRetained=new lu(void 0),this.adBlockIdentification=new lu({adType:void 0,partnerId:void 0,impId:void 0}),this.adTitleParameters=new lu(void 0),this.adFoxAdTuneParameters=new lu(void 0),this.isNewSkinEnabled=a((()=>!0===this.playbackParameters.enableNewSkin?{reason:"enabledByApi",isEnabled:!0}:"TRUE"===qd.getFlagValueAndActivateTestId("VAS_USE_NEW_SKIN_EVERYWHERE")?{reason:"enabledByEverywhereExperiment",isEnabled:!0}:"videoInCombo"===this.skinVariant?{reason:"enabledForVideoInCombo",isEnabled:!0}:bc?{reason:"enableInNanpu",isEnabled:!0}:"TRUE"===qd.getFlagValueAndActivateTestId("VAS_USE_NEW_SKIN_IN_THIRD_PARTY_ENVIRONMENT")?{reason:"enableInThirdPartyEnv",isEnabled:!0}:{reason:"disabledByDefault",isEnabled:!1})),this.skinControlsHideReasons=new lu(Ue(Nc($h,(e=>[e,[]])))),this.publicApiControlsVisibility=new lu({}),this.isCreativeWithOwnControls=new lu(!1),this.vastAdControlsSettings=new lu(void 0),this.shouldHandleResize=!0,this.viewersList=[],this.currentViewerSignal=new lu(void 0),this.viewersWithVideoCountBeforeCurrent=Cr([this.currentViewerSignal],(e=>{let t=0;if(e)for(let i=0;i<this.viewersList.length;i++){const o=this.viewersList[i];if(o===e)break;o.mediaAd.getIsIndependentOnVideoElement()||t++}return t})).valueSignal,this.showAdCounter=0,this.shouldBlurBeVisibleByApiLogic=new lu(!0),this.adPodBackground=new lu(void 0),this.adPodDestroyReasonObjects=[],this.destroyBlur=W,this.adVideoIsBuffering=new lu(!1),this.onAdInteractionWrapper=((e,t)=>{let i=0;return()=>{const t=Date.now();t-i>=500&&(e(),i=t)}})((()=>{this.onAdInteraction.dispatch(void 0)})),this.documentVisibility=new lu(!1),this.currentViewerProductType=new lu(void 0),this.styleModulesManager=new mg,this.isSurveyCreative=new lu(!1),this.isBrandliftSurveyCreative=new lu(!1),this.isNewSurveyDesignSupported=new lu(!1),this.canSurveyFitInSlot=new lu(!1),this.prepareSkin=a((()=>{const e=this.skinContainer;e.classList.add(MT.locals.AdDisplayControllerSkinContainer),this.styleModulesManager.useStyleModule(e,UT());const t=$n(e);t||this.stats.log({name:"CouldNotCreateSkinShadowRoot",probability:1});const{firstRenderPromise:i,runtimeErrorPromise:o,clear:r}=this.skinParameters.renderSkinFunction(null!=t?t:e,this);i.then((()=>{const{isEnabled:e,reason:t}=this.isNewSkinEnabled();this.stats.log({name:"SkinRendered",sensors:{isNewSkin:e?"1":"0",reason:t}})})).catch((e=>{this.stats.error({error:new Sc(e,{code:"PREACT_SKIN_FIRST_RENDER_ERROR",details:e})}),this.destroy(e)})),o.catch((e=>{this.stats.error({error:new Sc(e,{code:"PREACT_SKIN_RUNTIME_ERROR",details:void 0})}),this.destroy(e)})),this.addDestroyHandler((()=>{r(),ke(e)}))})),this.openAdSystemWebsite=()=>{const e=this.socialAdvertising.getValue(),t=e?"https://yandex.ru/socialads-transparency-report":uv("YANDEX_DIRECT_LINK",this.playbackParameters.lang),i=!this.getPaused(),o=Date.now();if(this.stats.log({name:"OpenAdSystemWebsite",data:{adSystemType:this.adSystemType.getValue(),pauseByOpenWebsite:i,adSystemWebsiteUrl:t,socialAdvertising:e},probability:1}),i&&this.pause(),null===window.open(t,"_blank"))return;const r=na(window.document,(n=>{n&&(this.stats.log({name:"ReturnBackAfterOpenAdSystemWebsite",data:{timeSpentBeforeReturn:Date.now()-o,adSystemType:this.adSystemType.getValue(),adSystemWebsiteUrl:t,pauseByOpenWebsite:i,socialAdvertising:e},probability:1}),r(),i&&this.resume())}));this.addDestroyHandler(r)},this.isYandexCreative=new lu(void 0),this.isAdFoxDirectSell=new lu(void 0),this.supportsFullscreen=!1,this.clickThrough=e=>{Lr({control:e.clickSource,purpose:"clickThru"});const{clickSource:t}=e,i=this.currentViewerSignal.getValue();i?(this.stats.log({name:"AdDisplayControllerClickThrough",data:{clickSource:t,playbackParameters:this.playbackParameters},probability:1}),this.viewerClickThrough(i,e)):this.stats.error({error:new Sc({code:"CALL_CLICK_THROUGH_METHOD_WITHOUT_VIEWER",details:{clickSource:t,playbackParameters:this.playbackParameters}})})},this.onSkinSkipButtonClick=()=>{const e=this.timeToSkip.getValue();0===e?this.skipCurrentViewer():this.stats.log({name:"ClickToInactiveSkipButton",data:{timeToSkipValue:e},probability:1})},this.setEcomShopState=function(e,i){void 0===i&&(i=!1);const o=t.ecomShopState.getValue();if(!Hc(c(e),(t=>e[t]!==o[t])))return;const r=ls({},o,e);if(r.isVisible=r.isVisible&&void 0!==r.ecomShop&&r.ecomShop.products.length>0,t.ecomShopState.dispatch(r),!i||t.isPackshotPlaying.getValue())return;const n=t.playingState.getValue();r.isVisible&&"play"===n&&t.pause(),r.isVisible||"pause"!==n||t.play()},this.destroyCurrentViewer=()=>{const e=this.currentViewerSignal.getValue();e&&(e.destroy({reason:"close",details:void 0}),this.closeAbuseScreen(),this.showCreativesContainer())},this.logAbuseEventToStats=e=>{this.stats.log({name:"AbuseVariantChoose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue(),variant:e},probability:1});const t="AbuseVariantChoose_"+e;this.stats.log({name:t,probability:1})},this.showCreativesContainer=()=>{try{this.creativesLayoutContainer.style.display=""}catch(Ww){this.stats.error({error:new Sc(Ww,{code:"CREATIVES_CONTAINER_VISIBILITY_CHANGE_FAILED",details:void 0})})}},this.hideCreativesContainer=()=>{try{this.creativesLayoutContainer.style.display="none"}catch(Ww){this.stats.error({error:new Sc(Ww,{code:"CREATIVES_CONTAINER_VISIBILITY_CHANGE_FAILED",details:void 0})})}},this.abuseVariantChooseHandler=(e,t)=>{if(!this.currentViewerSignal.getValue())return void this.stats.error({error:new Sc({code:"ABUSE_CALLED_WITHOUT_VIEWER",details:void 0})});null!=t&&t.needToHideCreativesContiner&&this.hideCreativesContainer();const{reason:i,action:o}=Sv[e];this.sendAdTuneTracking({actionId:o,reasonId:i,options:t}),this.logAbuseEventToStats(e),(null==t?void 0:t.noDestroyOnClick)||this.destroyCurrentViewer()},this.onAbuseCopyLinkToClipboardClick=e=>{e?(this.stats.log({name:"AbuseScreenCopiedCountLink",probability:1}),Ha(e)):this.stats.error({error:new Sc({code:"ABUSE_COPY_COUNT_LINK_WITHOUT_URL",details:void 0})})},this.getSendBeaconParams=e=>{const t=null==e?void 0:e.UserResponse;if(!t)return;const i=JSON.stringify({UserResponse:t});return new Blob([i],{type:"application/json"})},this.abuseButtonClickHandler=()=>{const e=!("pause"===this.playingState.getValue());e&&this.pause(),this.stats.log({name:"AbuseScreenOpen",data:{pauseByOpenAbuseScreen:e},probability:1}),this.logAbuseOpenFirstTime(),this.pauseByOpenAbuseScreen.dispatch(e),this.abuseDisplayStatus.dispatch("selection"),this.sendAdTuneTracking({actionId:Av,reasonId:mv})},this.abuseScreenCloseHandler=()=>{this.stats.log({name:"AbuseScreenClose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue()},probability:1}),this.closeAbuseScreen(),this.sendAdTuneTracking({actionId:_v,reasonId:vv})},this.handleAbuseScreenCloseByResumeError=()=>{this.stats.error({error:new Sc({code:"ABUSE_SCREEN_CLOSE_BY_RESUME",details:void 0})}),this.abuseDisplayStatus.dispatch("hidden")},this.getCurrentViewerAssets=()=>{const e=this.currentViewerSignal.getValue();if(!e)return void this.stats.log({name:"GetCurrentViewerAssetsCalledWithoutViewer"});const{adParametersObject:t,assets:i,creativeParameters:o,adTune:r,yandexAdInfoExtensionParams:n}=e.mediaAd.vastAd,a=null==i?void 0:i.button,s=this.getAdPlacementOptions(),{adFormatType:l}=s,d="survey"===l?"survey":void 0,c=this.getEcomAsAsset(),u=Boolean((null==r?void 0:r.show)||(null==r?void 0:r.token)||(null==r?void 0:r.advertiserInfo)),h={isFullyClickable:es(l,e.getVideoSlotClickUrl()),adFormatType:d,ecomShop:c,adTune:u?r:void 0},p=ls({},h,{domain:void 0,greenUrl:void 0,punyDomain:void 0,title:void 0,body:void 0,age:void 0,buttonCaption:void 0,lang:void 0,targetUrl:void 0,socialAdvertising:void 0,app:void 0,icon:void 0,images:void 0,sendAdTuneTracking:void 0,clickThrough:void 0,clickThroughButtonAsset:void 0});if(n){const t=ls({},p,{punyDomain:n.punyDomain,targetUrl:n.targetUrl,clickThrough:Boolean(n.clickUrl)?()=>{this.viewerClickThrough(e,{clickSource:"ApiClickThrough",url:void 0,playerHandles:!0})}:void 0});return this.stats.log({name:"GetCurrentViewerAssetsReturnAssetsFromYandexAdInfoExtension",data:t}),t}if(!hS(t))return this.stats.log({name:"GetCurrentViewerAssetsReturnedEmpty"}),p;const{abuseUrl:m}=this.abuseParameters.getValue(),A=ls({},h,{domain:null==o?void 0:o.domain,greenUrl:null==o?void 0:o.greenUrl,punyDomain:null==o?void 0:o.punyDomain,title:null==o?void 0:o.title,body:null==o?void 0:o.body,age:null==o?void 0:o.ageRestriction,buttonCaption:null==a?void 0:a.caption,lang:this.playbackParameters.lang,targetUrl:Te(t),socialAdvertising:this.socialAdvertising.getValue(),app:null==i?void 0:i.app,icon:null==i?void 0:i.icon,images:null==i?void 0:i.images,sendAdTuneTracking:m?e=>{this.stats.log({name:"GetCurrentViewerAssetsAdTuneTracking"}),this.sendAdTuneTracking(e)}:void 0,clickThrough:Boolean(e.adPodViewerPlaybackParams.clickThroughUrl)?()=>{this.viewerClickThrough(e,{clickSource:"ApiClickThrough",url:void 0,playerHandles:!0})}:void 0,clickThroughButtonAsset:a?()=>{this.viewerClickThrough(e,{clickSource:"ApiClickThroughButtonAsset",url:a.href,playerHandles:!0})}:void 0});return this.stats.log({name:"GetCurrentViewerAssetsReturnAssets",data:A}),A},this.canAutoplaySignal=Cr([this.viewersWithVideoCountBeforeCurrent,this.autoplayAbilityResult,this.playingState],((e,t,i)=>{if(e>0)return kc("autoplay=true due to subsequent viewer"),!0;if("restricted"===t.autoplayAbility)return kc("autoplay=false due to requireUserGesture"),!1;if("idle"===i)return kc("autoplay=true due to default"),!0;const o="pause"!==i;return kc("autoplay=["+o+"] due to playingStateValue"),o})).valueSignal,this.subscribeInteractionHandlers=()=>{if(!vc(this.slotParameters.element))return W;const e=[],t=Rr(this.videoNode);return Ol(B_,(i=>{e.push(Ie({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}})),t&&e.push(Ie({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}}))})),()=>Y(e)},this.viewerClickThrough=(e,t)=>{e.userInteractionDispatchers.AdClickThru(t),e.clickThrough(t)},this.saveCurrentInstanceToRegistry=()=>{if(!jd.isDebugEnabled)return;const e=Wa(window),{stats:t}=this;if(!e.adDisplayControllerRegistry){const i=new Map,o=new Set;Object.defineProperty(e,"adDisplayControllerRegistry",{get:()=>(x("You are using debug code ad display controller registry getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeAdDisplayControllerRegistryGetter"}),o)}),Object.defineProperty(e,"blockRegistry",{get:()=>(x("You are using debug code block registry getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeBlockRegistryGetter"}),i)});const r=()=>(x("You are using debug code ad display controllers getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeAdDisplayControllersGetter"}),Array.from(e.adDisplayControllerRegistry.values()));e.getAdDisplayControllers=r;const n=()=>(x("You are using debug code get blocks info, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeGetBlocksInfo"}),Array.from(e.blockRegistry.values()));e.getBlocksInfo=n}const i=e.adDisplayControllerRegistry,o=e.blockRegistry;i.add(this),this.addDestroyHandler(this.adBlockIdentification.add((e=>{if(!Boolean(e)||void 0===e.impId||void 0===e.partnerId)return;const t=e.partnerId+"-"+e.impId;if(o.has(t))return;const i=(e=>{const t=e.adBlockIdentification.getValue();return{visibilityTrackingElement:e.visibilitySlotParameters.element,adType:null==t?void 0:t.adType,bundleName:Id,VSID:Yd,partnerId:null==t?void 0:t.partnerId,impId:null==t?void 0:t.impId}})(this);o.set(t,i)}))),this.addDestroyHandler((()=>{i.delete(this)}))},this.setupTrackVisibilityReporting=()=>{const e=this.slotParameters.window;if(!y_(e))return void this.stats.log({name:"IntersectionObserverTrackVisibilityNotSupported"});const t=this.visibilitySlotParameters.element,{teardown:i,visualVisibilitySignal:o,markerElement:r}=f_({element:t,win:e});this.addDestroyHandler(i),this.addDestroyHandler(this.onAdPodImpression.add((()=>{var e,i,n,a,s,l;const d=this.visibilitySlotParameters.visibilityRatio.getValue()>=$v,c=this.documentVisibility.getValue(),u=o.getValue();if(!c||!d||u)return;const p=this.adBlockIdentification.getValue(),m=r.getBoundingClientRect(),A={width:m.width,height:m.height},v=rs(r,[qT]),_=(null==(e=r.ownerDocument)||null==(i=e.defaultView)?void 0:i.self)!==(null==(n=r.ownerDocument)||null==(a=n.defaultView)?void 0:a.top)||Boolean(null==r||null==(s=r.ownerDocument)||null==(l=s.defaultView)?void 0:l.frameElement),g=this.getAdPlacementOptions();if(this.stats.log({name:"IntersectionObserverTrackVisibilityDiffers",data:{isRectInViewport:d,isTabVisible:c,isVisuallyVisible:u,adBlockIdentification:p,markerDimensions:A,isMarkerOverlapped:v,isMarkerWithinIFrame:_,adPlacementOptions:g}}),"TRUE"===qd.getFlagValueAndActivateTestId("VAS_ENABLE_INTERSECTION_OBSERVER_TRACK_VISIBILITY_HEAVY_REPORT")){const{promise:e,teardown:i}=(e=>WT((t=>{let{resolve:i,reject:o,subscribeForTeardown:r}=t;const{promise:n,teardown:a}=(e=>{const t=[];return WT((i=>{let{resolve:o,reject:r,subscribeForTeardown:n}=i,a=e,s=!1;n((()=>{s=!0}));let l=0;(async()=>{for(;l<10;){var e,i,d,c;if(l+=1,"body"===(null==(e=a)?void 0:e.tagName.toLowerCase())){var u,h;const e=null==(u=a.ownerDocument)||null==(h=u.defaultView)?void 0:h.frameElement;e&&(a=e)}else{var p;a=null==(p=a)?void 0:p.parentNode}if(11===(null==(i=a)?void 0:i.nodeType)&&L(null==(d=a)?void 0:d.getRootNode)){const e=a.getRootNode(),i=null==e?void 0:e.host;i||o({iov1:void 0,iov2:void 0,elementChain:t,reason:"cannot overpass shadow root"}),a=i}if(!a)return void o({iov1:void 0,iov2:void 0,elementChain:t,reason:"no parent element"});t.push(a);const v={iov2:GT(a),iov1:XT(a)};v.iov1.promise.catch(r),v.iov2.promise.catch(r),n(v.iov1.teardown),n(v.iov2.teardown);const[_,g]=await Promise.all([v.iov1.promise,v.iov2.promise]);var m,A;if(v.iov1.teardown(),v.iov2.teardown(),"body"===(null==(c=a)?void 0:c.tagName.toLowerCase())&&!(null==(m=a.ownerDocument)||null==(A=m.defaultView)?void 0:A.frameElement))return void o({iov1:_,iov2:g,elementChain:t,reason:"body tag reached"});if(s)return;g&&o({iov1:_,iov2:g,elementChain:t,reason:"got visible by iov2"})}})().then(W).catch((e=>{r(e)}))}))})(e);r(a),n.then((e=>{let{iov1:t,iov2:o,reason:r,elementChain:n}=e;a();const s=Nc(n,(e=>(e=>{var t;let i="";return i+=e.tagName.toLowerCase(),h(e.id)&&(i+="#"+e.id),null!=(t=e.classList)&&t.length&&(i+="."+z(e.classList).join(".")),i+=""+Nc(he(e.dataset),(e=>{let[t,i]=e;return"[data-"+t+'="'+i+'"]'})),i})(e))).join(" ");i({iov1:t,iov2:o,reason:r,selectorChain:s})})).catch(o)})))(t);this.addDestroyHandler(i),e.then((e=>{i(),this.stats.log({name:"IntersectionObserverTrackVisibilityHeavyReport",data:ls({},e,{adBlockIdentification:p,markerDimensions:A,isMarkerOverlapped:v,isMarkerWithinIFrame:_,adPlacementOptions:g})})})).catch((e=>{i(),this.stats.log({name:"IntersectionObserverTrackVisibilityHeavyReportError",data:{error:e}})}))}})))},this.stats=m,this.retainLastMediaAfterPlayback=Boolean(p),this.addDestroyHandler((e=>{this.onBeforeDestroy.dispatch(e)})),jd.isDebugEnabled&&this.saveCurrentInstanceToRegistry(),this.backgroundSlot=d,this.visibilitySlotParameters=u,function(e){Br(e)&&V_(),Mr(e)&&R_(e)}(window);const A=void 0===n.volume||void 0===n.muted;A&&this.stats.error({error:new Sc({code:"FAKE_VIDEO_ELEMENT_WITHOUT_VOLUME_CHANGE_SUPPORT",details:void 0})});const{config:v,errors:_}=Ma(r);this.playbackParameters=v,void 0!==this.playbackParameters.skipDelayForNonYandexCreatives&&this.stats.log({name:"UseOfPublicApiSkipDelayForNonYandexCreativesParameter",data:{config:r}}),this.adVolume=new lu(Za(n)),this.adHasBeenUnmuted=new lu(this.adVolume.getValue()>0),this.isFakeVideoElementWithoutVolumeChangeSupport=A;const g=new wS(s),f=g.onResize;f.add((e=>{this.shouldHandleResize&&this.resizeAd(e.width,e.height)})),f.add((()=>{this.isNeedToShowVolumeButtonText()||0!==this.volumeButtonCollapseProgress.getValue()||this.startVolumeButtonProgress()})),this.addDestroyHandler((()=>{g.destroy()}));const y=new lu(!1);if(this.slotParameters={element:s,document:s.ownerDocument,window:s.ownerDocument.defaultView,size:f,isHovered:y},this.skinParameters=l,this.skinVariant=null!=(i=v.controlsSettings.skinVariant)?i:l.skinVariant,Boolean(this.playbackParameters.requestFullscreenStateChange)){const e=function(e,t){return void 0===e&&(e=window),void 0!==or(e,t)}(this.slotParameters.window,n);this.stats.log({name:"FullscreenAPISupport",data:{isFullscreenAPISupported:e}}),this.supportsFullscreen=e}this.addDestroyHandler(function(e,t,i){if(void 0===t)return W;const o=le(t);let r=function(e){if(!Boolean(e))return!1;const{parentElement:t}=e;return!(!t||!L(t.querySelector))&&t.querySelector(":hover")===e}(e),n=!1;r&&i(!0);const a=Ie({element:e,eventName:o?"touchstart":"mouseenter",listener:()=>{if(o)!1===n&&(n=!0);else{if(r)return;r=!0,i(!0)}}}),s=Ie({element:e,eventName:o?"touchend":"mouseleave",listener:()=>{if(o)!0===n&&(n=!1,r=!r,i(r));else{if(!r)return;r=!1,i(!1)}}});return()=>{a(),s()}}(s,this.slotParameters.window,(e=>{y.dispatch(e)}))),this.addDestroyHandler(((e,t)=>{const i=po((()=>{Zo(e)||(i(),t())}));return i})(s,(()=>{this.destroy({reason:"error",details:new Sc({code:"VIDEO_WRAPPER_NODE_NOT_IN_DOM",details:void 0})})}))),this.videoContentSize=new lu(void 0,ea);const S=new lu(xT(this.playingState.getValue(),this.visibilitySlotParameters.visibilityRatio.getValue()));this.addDestroyHandler(tr([this.playingState,this.visibilitySlotParameters.visibilityRatio],xT,(e=>S.dispatch(e)))),this.addDestroyHandler((e=>{let{valueSignal:t,time:i,callback:o,win:r}=e,n=0;const a=()=>{if(L(null==r?void 0:r.clearTimeout))return r.clearTimeout(n)},s=t.add((e=>{e?n=r.setTimeout((()=>{o(),s()}),i):a()}));return()=>{a(),s()}})({valueSignal:S,time:2e3,callback:()=>{0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()},win:this.slotParameters.window})),this.onAdStart.addOne((()=>{this.addDestroyHandler(function(e,t){const i=()=>{const i=ar(e);t(i)},o=[];return o.push(Ie({element:e,eventName:"resize",listener:i}),po(i)),()=>{Y(o)}}(n,(e=>{this.videoContentSize.dispatch(e)}))),this.videoContentSize.dispatch(ar(n))})),this.adHasBeenUnmuted.addOne((e=>{e&&0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()})),this.volumeStatus.addOne((()=>{this.isNeedToShowVolumeButtonText()&&"mutedStart"===this.volumeStatus.getValue()?this.volumeButtonCollapseProgress.dispatch(0):this.volumeButtonCollapseProgress.dispatch(1)})),this.addDestroyHandler((()=>{g.destroy()})),_e(_),this.videoNode=n,function(e){if(jd.VAS_USER_SESSION_RANDOM<=pc){const t=function(e,t){try{const i={hasMediaSourceConstructor:Boolean(uA),result:[]};return Ol(e,(e=>{const{type:o,codec:r}=e,n=aA(e);i.result.push({method:"video.canPlayType",type:o,codec:r,result:gm(n,t)}),uA&&i.result.push({method:"MediaSource.isTypeSupported",type:o,codec:r,result:uA.isTypeSupported(n)})})),i}catch(Ww){return void Bc.error({error:new Sc({code:"CODEC_PLAYABILITY_CHECK_ERROR",details:{error:Ww}})})}}(BT,e);t&&Bc.log({name:"CodecPlayabilityCheck",data:t,probability:1})}}(this.videoNode),this.timeToSkip.add((e=>{this.adSkippableState.dispatch(0===e)}));const T=this.adVolume.add((e=>{0!==e&&(this.adHasBeenUnmuted.dispatch(!0),T())}));this.addDestroyHandler(tr([this.adVolume,this.adVolumeAvailability,this.adHasBeenUnmuted],((e,t,i)=>function(e){let{adVolume:t,adVolumeAvailability:i,adHasBeenUnmuted:o}=e;return i?0!==t?"unmuted":o?"muted":"mutedStart":"unknown"}({adVolume:e,adVolumeAvailability:t,adHasBeenUnmuted:i})),(e=>this.volumeStatus.dispatch(e)))),QT++,100===QT&&this.stats.error({error:new Sc({code:"TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",details:void 0})}),this.stats.log({name:"CreateAdDisplayController",data:{config:this.playbackParameters}}),this.desiredBitrate=r.desiredBitrate,this.videoNodeController=new DT(n,this.slotParameters.window),this.onAdEnd.add((()=>this.setVisibleNativeControls(!0))),this.onReady.add((()=>this.setVisibleNativeControls(!1))),this.addDestroyHandler(function(e,t){let{controlsSettingsFromConfig:i,isFakeVideoElementWithoutVolumeChangeSupport:o,playingState:r,slotSize:n,skinControlsHideReasons:a,isCreativeWithOwnControls:s,vastAdControlsSettings:l,publicApiControlsVisibility:d,productType:c,isSurveyCreative:u,isBrandliftSurveyCreative:h,playerEnvironment:p,adSystemType:m,adTitleParameters:A,isAdFoxDirectSell:v}=e,_={};return tr([r,n,a,s,l,d,c,u,h,m,A,v],((e,t,r,n,a,s,l,d,c,u,h,m)=>{let{width:A}=t;if("idle"===e||!(A>=140)||n)return ep;const v="boolean"===typeof(null==h?void 0:h.show)?{controlsVisibility:{adLabel:h.show}}:void 0,_={controlsVisibility:Z(r,(e=>!(e.length>0)&&void 0))};return Oa(void 0===u?{controlsVisibility:{adLabel:!1}}:void 0,m?void 0:v,a,i,m?v:void 0,{controlsVisibility:s},_,o?{controlsVisibility:{mute:!1}}:void 0,l&&qe(l)?{controlsVisibility:{disclaimers:!1,ageLabel:!1}}:void 0,d&&"multiroll"!==p?{controlsVisibility:{timeline:!1}}:void 0,c?{controlsVisibility:{skip:!1}}:void 0).controlsVisibility}),zt((e=>{_=e,t(_)}),(e=>{for(const i of $h)if(e[i]!==_[i])return _=e,void t(_)})))}({controlsSettingsFromConfig:this.playbackParameters.controlsSettings,publicApiControlsVisibility:this.publicApiControlsVisibility,isFakeVideoElementWithoutVolumeChangeSupport:this.isFakeVideoElementWithoutVolumeChangeSupport,playingState:this.playingState,slotSize:this.slotParameters.size,skinControlsHideReasons:this.skinControlsHideReasons,isCreativeWithOwnControls:this.isCreativeWithOwnControls,vastAdControlsSettings:this.vastAdControlsSettings,productType:this.currentViewerProductType,isSurveyCreative:this.isSurveyCreative,isBrandliftSurveyCreative:this.isBrandliftSurveyCreative,playerEnvironment:this.playerEnvironment,adSystemType:this.adSystemType,adTitleParameters:this.adTitleParameters,isAdFoxDirectSell:this.isAdFoxDirectSell},(e=>{this.combinedSkinControlsVisibility.dispatch(e)}))),this.addDestroyHandler(tr([this.playingState,this.abuseDisplayStatus,this.isPackshotPlaying,this.vastAdControlsSettings],((e,t,i,o)=>({playingState:e,abuseDisplayStatus:t,isPackshotPlaying:i,vastAdControlsSettings:o})),(e=>{const{isPackshotPlaying:t,playingState:i,abuseDisplayStatus:o,vastAdControlsSettings:r}=e;t||("pause"!==i||"hidden"!==o||"videoInCombo"===(null==r?void 0:r.skinVariant)?"play"===i&&this.setEcomShopState({isVisible:!1}):this.setEcomShopState({isVisible:!0}))}))),this.onAdPodPlayAdMedia.add((e=>{var t,i,r;let{viewer:n,nextViewer:a}=e;const s=void 0===a?this.playbackParameters.contentAfterAd:Rh;Ol(s.poster,(e=>{let{url:t}=e;Zi(t)}));const{mediaAd:l}=n;this.isCreativeWithOwnControls.dispatch(l.isCreativeWithOwnControls()),this.adSystemType.dispatch(l.getIsYandexCreative()?"yandex":"external"),this.isYandexCreative.dispatch(lS(n.getScriptSrc())),this.contentAfterAdPod.dispatch(s);const d=Na(l.vastAd);this.vastAdControlsSettings.dispatch(d),this.currentVastAd.dispatch(l.vastAd),this.ecomShopState.dispatch({isVisible:!1,ecomShop:l.vastAd.ecomShop});const c=pa(l.vastAd);this.themeEmptyParameters.dispatch(c);const u=(e=>{const t=function(e){const t=gr(e.adParametersObject);if(!o(t))return;const{assets:i}=t;if(!o(i))return;const{logo:r}=i;if(!o(r))return;const{x80:n}=r;if(!o(n))return;const{url:a}=n;return h(a)?a:void 0}(e);if(t)return{url:t,source:"logoAssetX80"};const i=(e=>{const t=yS(e);if(!t)return;const{parsedParameters:i}=t;return i?i.iconUrl:void 0})(e);if(i)return{url:i,source:"iconUrl"};const r=function(e){const t=yS(e);if(!o(t))return;const{adParametersObject:i,parsedParameters:r}=t;if(!o(i)||!o(r))return;const{domain:n,punyDomain:a}=r;return null!=a?a:n}(e);return r?{url:"https://favicon.yandex.net/favicon/"+r+"?size=32&stub=1",source:"punyDomain"}:void 0})(l.vastAd);if(u){this.favicon.dispatch(u);const e=new Image;n.addDestroyHandler(Ie({element:e,eventName:"load",listener:()=>{clearTimeout(i)}}));const t=e=>{var t;clearTimeout(i),this.stats.log({name:"FaviconIsNotLoaded",data:{reason:null!=(t=null==e?void 0:e.message)?t:"timeout",favicon:u}}),this.favicon.dispatch(void 0)};n.addDestroyHandler(Ie({element:e,eventName:"error",listener:t})),e.src=u.url;const i=setTimeout(t,3e3)}this.showTitleAndBody.dispatch(os(l.vastAd)),this.bannerFlags.dispatch(l.vastAd.bannerFlags),n.packshotStartLatch.subscribe((()=>{this.isPackshotPlaying.dispatch(!0)})),this.currentViewerProductType.dispatch(l.vastAd.productType),this.isSurveyCreative.dispatch(Vi(l.vastAd));const p=function(e,t){if(!e)return!1;const{width:i,height:o}=e,{width:r,height:n}=t;return i<=r&&o<=n}(null==(t=l.vastAd.surveyParameters)?void 0:t.surveyMinSize,this.slotParameters.size.getValue());this.canSurveyFitInSlot.dispatch(p);const m=void 0===this.playbackParameters.disableSurveyCompleteScreen&&void 0===this.playbackParameters.disableSurveyStartTimeout;var A,v;this.isNewSurveyDesignSupported.dispatch(Boolean(null==(i=l.vastAd.surveyParameters)?void 0:i.isNewDesignSupported)&&p&&!m),this.isBrandliftSurveyCreative.dispatch(Boolean(null==(r=l.vastAd.surveyParameters)?void 0:r.isBrandLiftSurveyCreative)),this.adTitleParameters.dispatch(null!=(A=l.vastAd)&&A.adTitleParameters?A.adTitleParameters:null!=A&&null!=(v=A.adParametersObject)&&v.adTitle?ss({},A.adParametersObject.adTitle,{socialAdvertising:A.adParametersObject.socialAdvertising}):void 0),this.adFoxAdTuneParameters.dispatch(l.vastAd.adTune),this.initCreativeType(n),this.shouldShowSkipButton.dispatch({shouldShowSkipButton:!this.isSurveyCreative.getValue()}),this.isAdFoxDirectSell.dispatch(xo(l.vastAd))})),this.onAdMediaEnd.add((()=>{this.isCreativeWithOwnControls.dispatch(!1),this.adSystemType.dispatch(void 0),this.contentAfterAdPod.dispatch(Vh),this.vastAdControlsSettings.dispatch(void 0),this.themeEmptyParameters.dispatch(void 0),this.showTitleAndBody.dispatch(void 0),this.isPackshotPlaying.dispatch(!1),this.adVideoIsBuffering.dispatch(!1),this.currentViewerProductType.dispatch(void 0),this.isSurveyCreative.dispatch(!1),this.isBrandliftSurveyCreative.dispatch(!1),this.isNewSurveyDesignSupported.dispatch(!1),this.canSurveyFitInSlot.dispatch(!1),this.adTitleParameters.dispatch(void 0),this.adFoxAdTuneParameters.dispatch(void 0),this.shouldShowSkipButton.dispatch({shouldShowSkipButton:!1}),this.isAdFoxDirectSell.dispatch(void 0)})),this.onAdPodStartRequest.add((e=>{const{mediaAd:t}=e,{vastAd:i}=t;this.socialAdvertising.dispatch(function(e){var t,i;return"undefined"!==typeof(null==(t=e.adTitleParameters)?void 0:t.socialAdvertising)?!0===e.adTitleParameters.socialAdvertising:!0===(null==(i=e.adParametersObject)?void 0:i.socialAdvertising)}(i));const{abuseUrl:o}=i;o&&this.abuseParameters.dispatch({abuseUrl:o,legalText:i.legalText})})),this.onBeforeAdStart.add((()=>{this.slotParameters.element.appendChild(this.creativesLayoutContainer),this.slotParameters.element.appendChild(this.skinContainer),this.addDestroyHandler((()=>{ke(this.creativesLayoutContainer),ke(this.skinContainer)}))})),"TRUE"===qd.getFlagValueAndActivateTestId("VAS_ENABLE_INTERSECTION_OBSERVER_TRACK_VISIBILITY_REPORTS")&&this.onBeforeAdStart.addOne(this.setupTrackVisibilityReporting),this.onBeforeAdStart.addOne((()=>{const e=Date.now();let t;const i=()=>{void 0!==t&&(kc("cancel slow start timeout"),clearTimeout(t),t=void 0)};t=setTimeout((()=>{const t=Date.now()-e;kc("mark slow start, actual passed time=["+t+"]ms"),this.stats.log({name:"AdSlowStart",data:{actualTime:t}}),this.adSlowStart.dispatch(!0)}),1e3),this.onAdStart.addOne((()=>{i()})),this.addDestroyHandler((()=>{i()})),this.autoplayAbilityResult.add((e=>{let{autoplayAbility:t}=e;"restricted"===t&&this.onAdStartRejected.dispatch(void 0),"muted"===t&&this.videoNodeController.setMuted(!0)}))})),this.onAdMediaStart.add((e=>{let{viewer:t}=e;this.adPodBackground.dispatch(t.adPodViewerPlaybackParams.background)})),this.onAdMediaEnd.add((()=>{this.adPodBackground.dispatch(void 0)})),this.addDestroyHandler((e=>{this.isFinished=!0,this.playingState.dispatch("end"),Ol(this.viewersList,((t,i)=>{if("unload"===e.reason)return void t.destroy({reason:"unload",details:void 0});const o=this.adPodDestroyReasonObjects[i];void 0===o?t.destroy({reason:"destroy",details:void 0}):t.destroy(o)})),this.viewersList.length=0,this.adBlockIdentification.removeAll(),this.adVolume.removeAll(),this.volumeButtonCollapseProgress.removeAll(),this.volumeStatus.removeAll(),S.removeAll(),this.slotParameters.size.removeAll(),this.visibilitySlotParameters.visibilityRatio.removeAll(),this.visibilitySlotParameters.size.removeAll(),this.videoContentSize.removeAll(),this.timeToSkip.removeAll(),this.skinControlsHideReasons.removeAll(),this.abuseParameters.removeAll(),this.playingState.removeAll(),this.onAdStop.removeAll(),this.onAdPodPlayAdMedia.removeAll(),this.onAdPodStart.removeAll(),this.onAdPodPause.removeAll(),this.onAdPodResume.removeAll(),this.onAdPodComplete.removeAll(),this.onAdPodClose.removeAll(),this.onAdInteraction.removeAll(),this.adPodDuration.removeAll(),this.adPodRemainingTime.removeAll(),this.adHasBeenUnmuted.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onReady.removeAll(),this.adContentSize.removeAll(),this.adSlowStart.removeAll(),this.adMediaState.removeAll(),this.adTitleParameters.removeAll(),this.adFoxAdTuneParameters.removeAll(),this.adVolume.removeAll(),this.autoplayAbilityResult.removeAll();const t=this.currentViewerSignal.getValue();if(t){if(t.isCreativeStartRequested.getValue()){const e=t.mediaAd.adBreak.adType;this.onAdMediaEnd.dispatch({adType:e})}t.destroy({reason:"destroy",details:void 0}),this.currentViewerSignal.dispatch(void 0)}this.videoNodeController.destroy(),ke(this.nativeControlsHideStyle)})),this.addDestroyHandler(tr([this.vastAdControlsSettings,this.abuseParameters,this.abuseDisplayStatus],$a,(e=>this.adPodCloseState.dispatch(e)))),this.adPodCloseState.add((e=>{let{isCloseAvailable:t}=e;return this.adTuneState.dispatch({isAvailable:t})})),this.onAdPodPlayAdMedia.add((e=>{let{viewer:t}=e;this.adPodCurrentSubtitles.dispatch([]);const i=(e=>{const{adParametersObject:t}=e;if(!o(t))return;if(!o(t.subtitles))return;const{vtt:i}=t.subtitles;return h(i)?i:void 0})(t.mediaAd.vastAd);let r;if(i)try{r=new ET(i)}catch(G_){this.stats.log({name:"SubtitleProviderInitializationError",data:{message:G_.message}})}hv||t.addDestroyHandler(tr([this.adPodRemainingTime,this.adPodDuration,this.isPackshotPlaying],((e,t,i)=>({remainingTime:e,duration:t,isPackshotPlaying:i})),(e=>{let{remainingTime:t,duration:i,isPackshotPlaying:o}=e;const n=Math.max(0,i-t);if(o)this.adPodCurrentSubtitles.dispatch([]);else if(r){const e=r.findCuesByCurrentTime(n);this.adPodCurrentSubtitles.dispatch(e)}})))}));const{skinContainer:E,creativesLayoutContainer:b}=this.prepareContainersToAppend();this.skinContainer=E,this.creativesLayoutContainer=b,this.prepareSkin(),this.addDestroyHandler(Ga((()=>{this.destroy({reason:"unload",details:void 0})}),Dd)),this.addDestroyHandler((()=>{this.areAllAdPodsCompleted()&&this.onAllAdPodComplete.dispatch(void 0),this.lastMediaRetained.dispatch(this.isLastAdPodRetainedMedia())})),this.addDestroyHandler((e=>{this.onDestroy_PUBLIC_DO_NOT_USE.dispatch(e),this.onDestroy_PUBLIC_DO_NOT_USE.removeAll()})),this.isFullscreen.dispatch(nr(window,n)),this.addDestroyHandler(((e,t)=>{if(ST.has(t)){const i=ST.get(t);null==i||i.tasks.push(e)}else{const i=()=>{const e=ST.get(t);e&&(Y(e.tasks),e.timeoutId=window.setTimeout(i,t))};ST.set(t,{timeoutId:window.setTimeout(i,t),tasks:[e]})}return()=>{const i=ST.get(t);if(!i)return;const{timeoutId:o,tasks:r}=i,n=r.indexOf(e);-1!==n&&r.splice(n,1),0===r.length&&(window.clearTimeout(o),ST.delete(t))}})((()=>{const e=nr(window,n);this.isFullscreen.dispatch(e)}),1e3)),this.watchDocumentVisibility(),this.onAdPodStartRequest.add((e=>{const t=e.getVideoSlotClickUrl();this.videoSlotClickUrl.dispatch(t)})),this.addDestroyHandler((()=>{this.videoSlotClickUrl.dispatch(void 0)})),this.initAdSequence(),jd.VAS_USER_SESSION_RANDOM>hc&&yt(N("https://mc.yandex.ru/watch/39370120",{[qu]:Yd}))}prepareContainersToAppend(){return{skinContainer:this.slotParameters.document.createElement("div"),creativesLayoutContainer:this.slotParameters.document.createElement("div")}}async prepareToPlayAd(e){const t=this.onReady.promise(),i=this.onAdEnd.promise();this.pause(),this.showAd(e),await Promise.race([t,i.then((()=>{throw new Sc({code:"AD_STOPPED_BEFORE_READY_TO_PLAY",details:void 0})}))])}showAd(e){var t;const i=Date.now(),o=Rr(this.videoNode)?Zo(this.videoNode):void 0;if(!1===o){const e=this.slotParameters.element,t=vc(e)?Zo(e):void 0;return this.stats.error({error:new Sc({code:"WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM",details:{videoNodeInDom:o,wrapperInDom:t}})}),Promise.resolve()}if(!e.length)return this.stats.error({error:new Sc({code:"NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",details:{config:this.playbackParameters}})}),Promise.resolve();this.showAdCounter++,this.showAdCounter>1&&this.stats.log({name:"CallShowAdMultipleTimes"});const{adBreak:r,adConfig:n}=e[0];this.adBlockIdentification.dispatch({partnerId:n.partnerId,impId:null!=(t=n.impId)?t:r.impId,adType:r.adType}),this.isFinished=!1;const s=new YT(this.slotParameters.window);let l=-1,d=-1;return new Promise(((t,o)=>{this.viewersList=Nc(e,((t,i)=>{let o;t.vastAd.trackingEvents=pt(t.vastAd.trackingEvents,this.playbackParameters.trackingEvents);const r=t.getJSMediaFile();o=!!r&&lS(r.url);const n={adDisplayController:this,mediaAd:t,adPodViewerPlaybackParams:Ra({playbackParameters:this.playbackParameters,vastAd:t.vastAd,adBreakType:t.adBreak.adType,isYandexAdCreative:o}),enableInfinityPackshot:!0===this.playbackParameters.enableInfinityPackshot&&i===e.length-1,stats:this.stats,ecomShopState:this.ecomShopState},a=new JS(n);return a.adVideoIsBuffering.add((e=>this.adVideoIsBuffering.dispatch(e))),a.onImpression.add(this.onAdPodImpression),a.onFirstQuartile.add(this.onAdPodFirstQuartile),a.onMidpoint.add(this.onAdPodMidpoint),a.onThirdQuartile.add(this.onAdPodThirdQuartile),a.onAdInteraction.add(this.onAdInteractionWrapper),a})),this.adPodsCount.dispatch(this.viewersList.length),this.initBackground(this.viewersList),this.emitAdEnd=t,this.onBeforeAdStart.dispatch({adType:r.adType}),this.onAdPodStart.addOne((()=>{var e,t;this.stats.log({name:"AdStarted",data:{config:this.playbackParameters},values:{startTime:Date.now()-i},dailySensors:{faviconSource:null!=(e=null==(t=this.favicon.getValue())?void 0:t.source)?e:"noFavicon"}}),l=s.getCurrentAvgFps()})),this.onAdPodImpression.add(a((()=>{d=s.getCurrentAvgFps()}))),this.viewersList[0].addDestroyHandler((()=>{this.stats.log({name:"FirstAdPodAvgFps",values:{startFps:l,impressionFps:d,stopFps:s.getCurrentAvgFps()}}),s.destroy()})),this.startAdPlayback(r.adType).then((()=>t())).catch((e=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdMediaEnd.dispatch({adType:r.adType}),o(e)})),this.addDestroyHandler(this.subscribeInteractionHandlers())})).catch((e=>{ji(e),this.stats.errorToStats(e)})).then((()=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdEnd.dispatch({adType:r.adType}),this.destroyBlur()}))}getAdPlacementOptions(){const{videoNode:e,currentViewerSignal:t}=this,i=t.getValue();let o;i&&(o=i.mediaAd.getAdPodId());let r,n,a,s=0;return i&&(s=i.getBufferingTime()),i&&(r=i.mediaAd.adBreak.adType),i&&(n=ta(i.mediaAd)),i&&(a=i.mediaAd.vastAd.productType),lr({win:this.slotParameters.window,slotSize:this.slotParameters.size.getValue(),slotVisibilityRatio:this.visibilitySlotParameters.visibilityRatio.getValue(),adPodId:o,videoNode:e,bufferingTime:s,adBreakType:r,adFormatType:n,productType:a})}setMuted(e){const t=this.currentViewerSignal.getValue();t?t.setMuted(e):this.videoNodeController.setMuted(e)}resizeAd(e,t,i){var o;void 0===i&&(i="normal"),null==(o=this.currentViewerSignal.getValue())||o.resizeAd(e,t,i)}async play(){const e=this.currentViewerSignal.getValue();return e?(e.startCreative({startStrategy:this.canAutoplaySignal.getValue()?"startPlaying":"warmupOnly"}),new Promise(((t,i)=>{e.addDestroyHandler((e=>{const o=Va(e);o?i(o):t()}))}))):Promise.reject(new Error("VAS Error: play request without AdMedia"))}pause(){const e=this.currentViewerSignal.getValue();e?e.pause():this.isFinished||this.playingState.dispatch("pause")}resume(){const e=this.currentViewerSignal.getValue();e?e.resume():this.isFinished||this.playingState.dispatch("play")}destroyCurrentViewerIfneeded(e){var t;null==(t=this.currentViewerSignal.getValue())||t.destroy({reason:e,details:void 0})}close(){this.destroyNextViewers("close"),this.destroyCurrentViewerIfneeded("close")}skipAllViewers(){this.destroyNextViewers("skip"),this.skipCurrentViewer(),this.destroyCurrentViewerIfneeded("skip")}skipCurrentViewer(){const e=this.currentViewerSignal.getValue();if(!e)return this.stop(),void this.stats.error({error:new Sc({code:"NO_AD_POD_TO_SKIP",details:void 0})});if(e.isDestroyed)this.stats.error({error:new Sc({code:"ATTEMPT_TO_SKIP_AD_POD_AFTER_DESTROY",details:void 0})});else if(e.isStarted.getValue()){if(!this.isFinished)return e.getAdSkippableState()?void e.skipAd():((this.getCurrentViewerSkipDelay()||this.timeToSkip.getValue()>0)&&this.stats.error({error:new Sc({code:"ATTEMPT_TO_SKIP_AD_POD_BEFORE_SKIPPABLE_STATE_CHANGE",details:void 0})}),void this.stats.error({error:new Sc({code:"ATTEMPT_TO_SKIP_NON_SKIPPABLE_AD_POD",details:void 0})}));this.stats.error({error:new Sc({code:"ATTEMPT_TO_SKIP_AD_POD_AFTER_FINISH",details:void 0})})}else this.stats.error({error:new Sc({code:"ATTEMPT_TO_SKIP_AD_POD_BEFORE_START",details:void 0})})}sendAdTuneTracking(e){let{actionId:t,reasonId:i,options:o}=e;const{abuseUrl:r}=this.abuseParameters.getValue();r||this.stats.error({error:new Sc({code:"ABUSE_CALLED_WITHOUT_URL",details:void 0})}),oa({eventName:"close",trackingEventDetails:{},trackingUrls:[N(r,{"reason-id":""+i,"action-id":""+t},{override:!0})],options:this.getAdPlacementOptions(),sendBeaconParams:this.getSendBeaconParams(o),pixelsSource:"adParameters"})}stop(){this.isFinished=!0,this.playingState.dispatch("end"),this.onAdStop.dispatch(void 0),this.emitAdEnd&&this.emitAdEnd()}getAdWidth(){var e,t;return null!=(e=null==(t=this.currentViewerSignal.getValue())?void 0:t.getAdWidth())?e:0}getAdHeight(){var e,t;return null!=(e=null==(t=this.currentViewerSignal.getValue())?void 0:t.getAdHeight())?e:0}getCurrentContentType(){var e;return null==(e=this.currentViewerSignal.getValue())?void 0:e.contentType}getCurrentViewerSkipDelay(){var e;return null==(e=this.currentViewerSignal.getValue())?void 0:e.adPodViewerPlaybackParams.skipDelay}triggerClickThroughTrackings(e){let{url:t,clickSource:i}=e;this.clickThrough({url:t,clickSource:i,playerHandles:!1})}usesVideoNode(){const e=this.currentViewerSignal.getValue();if(e)return!e.mediaAd.getIsIndependentOnVideoElement()}requestFullscreenStateChange(e){var t,i;null==(t=(i=this.playbackParameters).requestFullscreenStateChange)||t.call(i,e)}getAdRemainingTime(){if(this.isFinished)return 0;const e=this.currentViewerSignal.getValue();if(e){let t=e.getAdRemainingTime();for(let e=this.getCurrentViewerIndex()+1;e<this.viewersList.length;e++)t+=this.viewersList[e].mediaAd.getDuration();return t}return this.getDuration()}getAdPodRemainingTime(){var e;if(this.isFinished)return 0;const t=this.currentViewerSignal.getValue();if(t)return t.getAdRemainingTime();const[i]=this.viewersList;return null!=(e=null==i?void 0:i.mediaAd.getDuration())?e:0}getCurrentTime(){const e=this.currentViewerSignal.getValue();return e?this.getCurrentViewerStartTime()+e.getCurrentTime():0}getAdPodDuration(){const e=this.currentViewerSignal.getValue();if(e){const t=e.getDuration();if(t>0)return t}return 0}getDuration(){let e=0;return Ol(this.viewersList,(t=>{const i=t.getDuration();i>0&&(e+=i)})),e}getPaused(){const e=this.currentViewerSignal.getValue();return e?"play"!==e.playingState.getValue():!!this.isFinished||"pause"===this.playingState.getValue()}getVolume(){return this.adVolume.getValue()}setVolume(e){this.adVolume.dispatch(e);const t=this.currentViewerSignal.getValue();t?t.setVolume(e):this.videoNodeController.setVolume(e)}getMuted(){const e=this.currentViewerSignal.getValue();return e?0===e.getVolume():this.videoNodeController.getMuted()}getAdVolumeAvailability(){return this.adVolumeAvailability.getValue()}setBlurDisplay(e){this.shouldBlurBeVisibleByApiLogic.dispatch(e)}getCurrentViewerIndex(){const e=this.currentViewerSignal.getValue();return e?Math.max(this.viewersList.indexOf(e),0):0}getViewerLength(){return this.viewersList.length}disableResizeHandling(){this.shouldHandleResize=!1}enableResizeHandling(){const{width:e,height:t}=this.slotParameters.element.getBoundingClientRect();this.resizeAd(e,t),this.shouldHandleResize=!0}setSkinControlHideReason(e,t,i){this.skinControlsHideReasons.dispatch(((e,t,i,o)=>{const r=e[t];let n=r;return i?n=Wd(r,(e=>e!==o)):i||D(r,o)||(n=[...r],n.push(o)),ts({},e,{[t]:n})})(this.skinControlsHideReasons.getValue(),e,t,i))}setPublicApiControlsSettings(e){if(!o(e)&&!1!==e&&void 0!==e){const t=new Sc({code:"INVALID_ARGUMENT_IN_SET_PUBLIC_API_CONTROLS",details:{argument:e}});throw this.stats.error({error:t}),x("setPublicApiControlsSettings: invalid input data, please check VAS documentation"),t}const t=this.publicApiControlsVisibility.getValue();let i;i=o(e)?Oa({controlsVisibility:t},{controlsVisibility:e}).controlsVisibility:!1===e?ep:{},this.stats.log({name:"PublicSetControlVisibilityIsUsed",data:{previous:t,next:i}}),kc("AdDisplayController#setPublicApiControlsSettings: before=["+JSON.stringify(t)+"], after=["+i+"]"),this.publicApiControlsVisibility.dispatch(i)}areAllAdPodsCompleted(){return hp(this.adPodDestroyReasonObjects,(e=>{let{reason:t}=e;return"complete"===t}))}isLastAdPodRetainedMedia(){const e=this.adPodDestroyReasonObjects[this.adPodDestroyReasonObjects.length-1];return!!Boolean(e)&&!!this.retainLastMediaAfterPlayback&&"complete"===e.reason&&e.details.canUseMediaAfterPlayback}getEcomAsAsset(){const e=this.ecomShopState.getValue();if(void 0===e.ecomShop)return;const t={ecomShopState:e,setEcomShopState:e=>{"boolean"===typeof e.isVisible&&this.ecomShopState.getValue().isVisible!==e.isVisible&&this.stats.log({name:"EcomProductsVisibilityChangedWithAssetsApi",data:{isVisible:e.isVisible}}),this.setEcomShopState(e,!0)},onEcomShopStateChange:W};return this.addDestroyHandler(this.ecomShopState.add((e=>{t.onEcomShopStateChange(e)}))),t}setVisibleNativeControls(e){e?ke(this.nativeControlsHideStyle):(this.videoNode.controls=!1,this.nativeControlsHideStyle||(this.nativeControlsHideStyle=In(this.slotParameters.element,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHideStyle))}closeAbuseScreen(){var e;this.pauseByOpenAbuseScreen.getValue()&&"inpage"!==(null==(e=this.adBlockIdentification.getValue())?void 0:e.adType)&&this.resume(),this.abuseDisplayStatus.dispatch("hidden")}trackError(e){var t;null==(t=this.currentViewerSignal.getValue())||t.trackError(e)}initBackgroundColor(e){let t=W;this.addDestroyHandler((()=>t())),this.addDestroyHandler(this.adPodBackground.add((i=>{o(i)&&h(i.color)?t=qo(e,{backgroundColor:i.color}):t()})))}initBackground(e){let{backgroundSlot:t}=this.playbackParameters;const i=Boolean(t);if(this.backgroundSlot?t=this.backgroundSlot:i||(t=function(e){if(!Rr(e))return;const{parentElement:t}=e;if(t)return t;Bc.error({error:new Sc({code:"NO_PARENT_ELEMENT_FOR_BACKGROUND",details:void 0})})}(this.videoNode)),!t)return void kc("BackgroundBlur container cannot be created");if(this.initBackgroundColor(t),!Hc(e,(e=>{let{adPodViewerPlaybackParams:t}=e;return"blur"===t.background})))return;if(kc("BackgroundBlur is presented in AdBreak"),!pT)return void kc("BackgroundBlur is NOT supported");const o=new gT({container:t,videoNode:this.videoNode,input:"AdDisplayController",statsLogFunction:this.stats.log});this.destroyBlur=()=>{o.destroy()},this.stats.log({name:"InitBackgroundBlur",data:{isBackgroundSlotFromConfig:i}}),this.addDestroyHandler(tr([this.shouldBlurBeVisibleByApiLogic,this.adPodBackground,this.videoContentSize,this.slotParameters.size],((e,t,o,r)=>{if(!e)return!1;if(void 0===o)return!1;if("blur"!==t)return!1;if(i)return!0;const n=r.width/r.height,a=o.width/o.height-n;return Math.abs(a)>.1}),(e=>{o.setPlaying(e)}))),this.addDestroyHandler((()=>null==o?void 0:o.destroy()))}playAdMedia(e){let{adType:t,viewer:i,viewerIndex:o,nextViewer:r,completeCallback:n}=e;this.currentViewerSignal.dispatch(i),this.onAdPodStartRequest.dispatch(i),i.trackOnCreativeInit();let a=NaN;i.playingState.subscribeValueConditionOnce((e=>"play"===e),(()=>{a=Date.now()})),this.adContentSize.dispatch(i.mediaAd.getAdContentDimensions()),i.isStarted.addOne((()=>{this.adContentSize.dispatch(i.getAdContentSize())})),i.addDestroyHandler((()=>{this.adContentSize.dispatch(void 0)})),i.isStarted.add((()=>{if(isNaN(a))this.stats.error({error:new Sc({code:"AD_POD_START_WITHOUT_PLAY_REQUEST",details:void 0})});else{const e=void 0!==i.mediaAd.vastAd.ecomShop;this.stats.log({name:"AdPodStart",values:{startTime:Date.now()-a},data:{src:i.getScriptSrc(),config:this.playbackParameters,playRequestTime:String(a),adPodId:i.mediaAd.getAdPodId(),position:i.mediaAd.vastAd.parseIndex,bidreqid:i.mediaAd.vastAd.bidreqid,campaignid:i.mediaAd.vastAd.campaignid,pageId:i.mediaAd.vastAd.pageId,impId:i.mediaAd.vastAd.impId,vmapRequestId:i.mediaAd.vastAd.vmapRequestId,hasEcomProducts:e},sensors:{showTitleAndBody:String(os(i.mediaAd.vastAd)),hasEcomProducts:e}})}})),this.onAdPodPlayAdMedia.dispatch({adType:t,viewer:i,viewerIndex:o,nextViewer:r});const s=i.playingState.getValue();"idle"!==s&&this.stats.error({error:new Sc({code:"VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START",details:{playingState:s}})}),i.playingState.subscribeValueCondition((e=>"end"!==e),(e=>{this.currentViewerSignal.getValue()===i?this.playingState.dispatch(e):this.stats.error({error:new Sc({code:"VIEWER_PLAYING_STATE_DISPATCHED_OUT_OF_LIFECYCLE",details:{playingState:e}})})})),i.addDestroyHandler((e=>{const o=Va(e);o&&(this.trackError(o),this.stats.error({error:o}),ji("AdPod playing error",o),this.onAdPodError.dispatch({error:o,adPodId:i.mediaAd.getAdPodId()})),this.currentViewerSignal.dispatch(void 0),this.adPodDestroyReasonObjects.push(e),this.onAdMediaEnd.dispatch({adType:t}),n()})),i.startCreative({startStrategy:this.canAutoplaySignal.getValue()?"startPlaying":"warmupOnly"})}getCurrentViewerStartTime(){const e=this.getCurrentViewerIndex();let t=0;for(let i=0;i<e;i++)t+=this.viewersList[i].getDuration();return t}async startAdPlayback(e){const{videoNode:t}=this;if(Rr(t)){const e=function(e){const{controls:t}=e,i=e.getAttribute("poster"),o={loop:e.getAttribute("loop"),autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),poster:""===i?null:i,preload:e.getAttribute("preload"),width:e.getAttribute("width"),style:e.getAttribute("style")},r=bT(e),{parentElement:n}=e;return a((()=>{e.controls=t,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),r(),Re(e,o),n&&n!==e.parentElement&&Bc.error({error:new Sc({code:"VIDEO_NODE_DOM_POSITION_CHANGED",details:{hasParentAfterChange:Boolean(e.parentElement)}})})}))}(t);this.onBeforeDestroy.addOne((t=>{let{reason:i}=t;"unload"!==i&&e()}));const i=function(e){const{ownerDocument:t}=e;return Boolean(t)?"false"===e.getAttribute("pip")||function(e,t){const{pictureInPictureElement:i}=e;if(i)return i;if(t){if(t.webkitPresentationMode===fT.pictureInPicture)return t;if(t.broughtOut)return t}return null}(t,e)===e?W:za(e,{pip:"false"}):W}(t);this.onBeforeDestroy.addOne(i);const o=function(e){if(!Rr(e))return W;const t=e.getAttribute("src")||e.src||null,i=Nc(z(e.getElementsByTagName("source")),(e=>({src:e.getAttribute("src"),type:e.getAttribute("type")})));return a((()=>{t?e.setAttribute("src",t):e.removeAttribute("src"),Ol(i,(t=>{const i=e.ownerDocument.createElement("source");e.appendChild(i),f(t,((e,t)=>{i.setAttribute(t,String(e))}))})),Qa(e,(()=>{e.load()}))}))}(t);this.onBeforeDestroy.addOne((e=>{let{reason:t}=e;this.isLastAdPodRetainedMedia()||"unload"!==t&&o()})),this.onBeforeDestroy.addOne(this.onAdPodStartRequest.add((()=>{bT(t)})))}const o=Date.now();let r,n;const s=this.checkAutoplayAbility();if(this.videoNode,s?(r="sync",n=s):(r="async",n=await this.requestAutoplayAbility()),this.isFinished)throw new Sc({code:"AD_FINISHED_DURING_RAA",details:void 0});this.stats.log({name:"RequestAutoplayAbility",values:{duration:Date.now()-o},sensors:{strategy:r,method:n.detectionMethod,result:n.autoplayAbility},data:{config:this.playbackParameters,autoplayAbility:n,saveData:p((()=>{var e;return null==(e=navigator.connection)?void 0:e.saveData}))}}),this.autoplayAbilityResult.dispatch(n);const l=a((()=>{this.onReady.dispatch(void 0)})),d=a((()=>{this.onAdStart.dispatch({adType:e})}));return Ol(this.viewersList,((t,o)=>{t.onComplete.addOne((t=>{let{isInfinityPackshotEnabled:i}=t;this.onAdPodComplete.dispatch({adType:e}),i&&this.onAdMediaEnd.dispatch({adType:e})})),t.addDestroyHandler((t=>{let{reason:i}=t;"skip"===i?this.onAdSkipped.dispatch({adType:e}):"close"===i&&this.onAdPodClose.dispatch(void 0)})),t.onReady.addOne(l),t.isStarted.addOne(d),t.isStarted.add((()=>{this.onAdPodStart.dispatch(void 0)})),t.onPause.add((()=>{this.onAdPodPause.dispatch(void 0)})),t.onResume.add((()=>{this.onAdPodResume.dispatch(void 0)})),t.onVolumeChange.add((()=>{this.adVolume.dispatch(t.getVolume())})),t.isStarted.addOne((()=>{this.adVolume.dispatch(t.getVolume())}));const{skipDelay:r}=t.adPodViewerPlaybackParams;var n;t.isStarted.addOne((()=>{this.onAdMediaStart.dispatch({viewer:t,adType:e}),this.adPodDuration.dispatch(t.getDuration()),this.updateTimeToSkip(t,r,o)})),t.addDestroyHandler(function(e){let{win:t,adPodDuration:o,adPodRemainingTime:r,playingState:n,isStarted:a,isBuffering:s,callback:l}=e;const d=new I_,c=new lu(-1);return d.subscribe((()=>c.removeAll)),a.addOne((()=>{const e=new zg({win:t,duration:o.getValue()*Rm,callback:e=>{const t=Co(e,0,1);l(t)},onFinish:W});c.add((t=>{Ct(t)&&e.adjustPosition(t)})),d.subscribe((()=>{e.stop()})),d.subscribe(tr([r,o],((e,t)=>Ct(e)&&i(t)?(t-e)/t:-1),(e=>{c.dispatch(e)}))),d.subscribe(tr([c,n,s],((e,t,i)=>Ct(e)&&"play"===t&&!i),(t=>{t?e.start():e.stop()})))})),()=>{d.dispatch(void 0)}}({win:this.slotParameters.window,adPodDuration:this.adPodDuration,adPodRemainingTime:this.adPodRemainingTime,playingState:this.playingState,isStarted:t.isStarted,isBuffering:this.adVideoIsBuffering,callback:e=>{this.skinAnimationProgress.dispatch(e)}})),t.isStarted.add((()=>{t.addDestroyHandler(this.videoNodeController.onBufferingAfterPlay.add((()=>{this.isPackshotPlaying.getValue()||this.adMediaState.dispatch({name:"stalled"})}))),t.addDestroyHandler(this.videoNodeController.playingState.add((e=>{"play"===e&&this.adMediaState.dispatch({name:"playing"})})))})),t.addDestroyHandler((()=>{this.adMediaState.dispatch({name:"idle"})})),t.addDestroyHandler((()=>{this.adPodRemainingTime.dispatch(-2),this.skinAnimationProgress.dispatch(0)})),t.playbackPosition.add((e=>{let{duration:t,remainingTime:i}=e;this.adPodRemainingTime.dispatch(i),this.adPodDuration.dispatch(t)})),t.onClickThrough.add((e=>this.onClickThrough.dispatch(e))),!(n=t).isVpaidAdPodViewer()||n.mediaAd.vastAd.imhoParams||n.mediaAd.getIsYandexCreative()||Ri(n.mediaAd.vastAd)?t.isStarted.addOne((()=>{t.playbackPosition.add((()=>{this.updateTimeToSkip(t,r,o)}))})):t.onAdSkippableStateChange.add((e=>{this.timeToSkipComputed.dispatch(e?0:Lf)}))})),new Promise((t=>{this.playAdViewers(e,(()=>{t([])}))}))}playAdViewers(e,t){this.adPodDestroyReasonObjects=[];const i=Nc(this.viewersList,((t,i)=>{const o=this.viewersList[i+1];return r=>{if(this.timeToSkipComputed.dispatch(Lf),this.timeToSkipAdCreative.dispatch(void 0),this.isFinished){const e=new Sc({code:"AD_BREAK_IS_STOPPED",details:void 0});return t.mediaAd.trackError(e),this.adPodDestroyReasonObjects.push({reason:"error",details:e}),r()}const n=this.getAdPodContainerSizeError(t);if(n)return t.mediaAd.trackError(n),this.onAdPodError.dispatch({error:n,adPodId:t.mediaAd.getAdPodId()}),this.adPodDestroyReasonObjects.push({reason:"error",details:n}),x('You are using unplayable "slot" sizes, check passed element dimensions.'),r();this.adVolume.dispatch(this.videoNodeController.getVolume()),this.adVolumeAvailability.dispatch(Ia(t.mediaAd.vastAd)),this.playingAdPodIndex.dispatch(i),this.playAdMedia({adType:e,viewer:t,viewerIndex:i,nextViewer:o,completeCallback:r})}}));let o=-1;!function e(){o++;const r=i[o];void 0===r?t():r(e)}()}getAdPodContainerSizeError(e){if(!e.mediaAd.getIsYandexCreative())return;const{size:t,element:i}=this.visibilitySlotParameters;if(ir(t.getValue(),Fv))return;const o=i.getBoundingClientRect();if(ir(o,Fv))return;const r=o.width<.1||o.height<.1,n="none"===ae(i).display;let a;a=r?n?"SLOT_DISPLAY_NONE":"SLOT_ZERO_SIZE":"SLOT_SMALL_SIZE";const s=e.mediaAd.getAdContentDimensions();return new Sc({code:a,details:{adPodId:e.mediaAd.getAdPodId(),slotSize:{width:o.width,height:o.height},adContentDimensions:s,usesVisibilitySlot:Boolean(this.visibilitySlotParameters)}})}checkAutoplayAbility(){if(hp(this.viewersList,(e=>e.mediaAd.getIsIndependentOnVideoElement())))return kc("autoplayAbility=positive for independentOnVideoElement ad"),{autoplayAbility:"allowed",detectionMethod:"IndependentOnVideo"};const{videoSlotCanAutoPlay:e}=this.playbackParameters;if("boolean"===typeof e)return kc("autoplayAbility=["+e+"] due to videoSlotCanAutoPlay"),e?{autoplayAbility:"allowed",detectionMethod:"PositiveVideoSlotCanAutoplay"}:{autoplayAbility:"restricted",detectionMethod:"NegativeVideoSlotCanAutoplay"};le(this.slotParameters.window)&&!this.videoNode.hasAttribute("playsinline")&&(this.stats.log({name:"NoPlaysinlineOnVideoTagInTouchScreenDeviceForRAA"}),x('Attribute "playsinline" is NOT set on the <video/> element, this may cause the inability to autoplay'));const t=function(e){if(!Rr(e))return{autoplayAbility:"allowed",detectionMethod:"FakeVideoElement"};const t=function(e){const{ownerDocument:t}=e;if(!Boolean(t))return;const{defaultView:i}=t;return i||void 0}(e);if(!t)return{autoplayAbility:"allowed",detectionMethod:"NoWinForVideoElement"};const i=function(e){const t=e.navigator;if(!t)return;const{userActivation:i}=t;if(!o(i))return;const{isActive:r,hasBeenActive:n}=i;return{isActive:r,hasBeenActive:n}}(t);if(i&&i.hasBeenActive)return{autoplayAbility:"allowed",detectionMethod:"WindowHasBeenActive"};if("boolean"===typeof e.allowedToPlay)return{autoplayAbility:is(e),detectionMethod:"YaBroAllowedToPlay"};if((e=>Oo(e).toLowerCase().indexOf("web0s")>-1)(t))return{autoplayAbility:"allowed",detectionMethod:"WebOSSmartTV"};if((e=>{const t=Oo(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1})(t))return{autoplayAbility:"allowed",detectionMethod:"OrsaySmartTV"};if((e=>{const t=Oo(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1})(t))return{autoplayAbility:"allowed",detectionMethod:"PlayStationSmartTV"};if(e.isAVPlay)return{autoplayAbility:"allowed",detectionMethod:"TizenAVPlay"};if((e=>Oo(e).toLowerCase().indexOf("tizen")>-1)(t))return(e=>{const t=function(e){const t=Oo(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,i,o]=t;return{major:parseInt(i,10),minor:parseInt(o,10)}}(e);return 2===t.major&&3===t.minor})(t)?{autoplayAbility:"restricted",detectionMethod:"Tizen23SmartTV"}:{autoplayAbility:"allowed",detectionMethod:"TizenSmartTVModern"};const r=Fa(t);return-1!==r&&r<=9?{autoplayAbility:"restricted",detectionMethod:"IOS9OrLess"}:void 0}(this.videoNode);return t?(kc("autoplayAbility=["+t.autoplayAbility+"] by sync detect method=["+t.detectionMethod+"]"),t):void 0}requestAutoplayAbility(){kc("start autoplay ability request");const e=Date.now(),{promise:t,stop:i}=function(e,t){const i=new jT(e,t);return{promise:i.promise,stop:i.stop}}(this.videoNode,{checkSoundEnabled:!this.getMuted()});this.addDestroyHandler(i);let o=!1;return new Promise((r=>{t.then((e=>{o=!0,kc("autoplayAbility=["+JSON.stringify(e)+"]"),r(e)})).catch((()=>{o=!0})),"idle"===this.playingState.getValue()&&this.playingState.addOne((t=>{o||(this.stats.log({name:"RequestAutoplayAbilityStoppedByPlayingState",values:{duration:Date.now()-e},data:{config:this.playbackParameters,nextState:t}}),kc("RAA stopped by playingState=["+t+"]"),i(),r({autoplayAbility:"allowed",detectionMethod:"ExternalMethodCall",detectionDetails:{nextState:t}}))}))}))}destroyNextViewers(e){const{viewersList:t}=this;if(this.currentViewerSignal.getValue())for(let i=this.getCurrentViewerIndex()+1;i<t.length;i++)t[i].trackVastEvent(e,{});this.stop()}startVolumeButtonProgress(){(e=>{let{win:t,callback:i,addDestroyHandler:o}=e;const r=new zg({win:t,duration:250,callback:e=>{const t=Co(e,0,1);i(t),1===t&&r.stop()},onFinish:W});o((()=>r.stop())),r.start()})({win:this.slotParameters.window,callback:e=>{this.volumeButtonCollapseProgress.dispatch(e)},addDestroyHandler:e=>this.addDestroyHandler(e)})}isNeedToShowVolumeButtonText(){return"DISABLE"!==pv&&"small"!==Xn(this.slotParameters.size.getValue())}updateTimeToSkip(e,t,i){const o=function(e){let{remainingTime:t,duration:i,skipDelay:o}=e;if(0===o)return Lf;if(o>i-2)return Lf;if(!Ct(t))return Lf;const r=i-t;return o<=r?0:o-r}({remainingTime:e.getAdRemainingTime(),duration:e.getDuration(),skipDelay:t});this.timeToSkipComputed.dispatch(o)}watchDocumentVisibility(){const e=this.visibilitySlotParameters.element.ownerDocument;this.documentVisibility.dispatch(pe(e)),this.addDestroyHandler(na(e,(e=>this.documentVisibility.dispatch(e)))),this.addDestroyHandler((()=>{this.documentVisibility.removeAll()}))}initAdSequence(){const{adSequence:e}=this.playbackParameters;e?this.displayAdSequence.dispatch(e):this.addDestroyHandler(tr([this.playingAdPodIndex,this.adPodsCount],((e,t)=>({index:e,count:t})),this.displayAdSequence.dispatch.bind(this.displayAdSequence)))}initCreativeType(e){const{mediaAd:t}=e,i=ta(t);let o;"survey"===i?o="survey":es(i,e.getVideoSlotClickUrl())?o="fullyClickable":ha(t.vastAd)&&(o="themeEmpty"),this.creativeType.dispatch(o)}}const ZT=Hc([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],(e=>null!==navigator.userAgent.match(e))),$T=2;class eE extends xc{constructor(e,t){let{considerDocumentVisibility:i=!0,numberOfMeasurementSteps:o=$T,enableTrackVisibility:r=!1}=void 0===t?{}:t;super(),this.totalVisibilityValueSignal=new lu(!1),this.documentVisibilityValueSignal=new lu(!0),this.isElementReachableByTrackVisibilityValueSignal=new lu(!0),this.recalculateVisibility=()=>{if(this.isDestroyed||!Zo(this.element))return;const e=function(e){const t=function(e){return[cs(e),...Nc(j(e),cs)]}(e);let i=us(t[0]),o=hs(i,t[0]);for(let a=1;a<t.length;a++)i=us((r=i,{winWidth:(n=t[a]).winWidth,winHeight:n.winHeight,left:r.left+n.left,top:r.top+n.top,width:r.width,height:r.height})),o=hs(i,t[0]);var r,n;return o}(this.element);this.elementVisibilityRatioValueSignal.dispatch(e)},this.element=e;const n=Math.max(o,$T),a=e.ownerDocument.defaultView;this.elementVisibilityRatioValueSignal=new lu(0);const s=a.IntersectionObserver;Boolean(s)?this.startIntersectionObserver(s,n):this.startVisibilityCheckInterval(a),r&&Boolean(s)&&y_(a)&&this.startCheckVisibilityWithTrackVisibility(a),i&&this.startObservingDocumentVisibility(a);const{valueSignal:l,teardown:d}=Cr([this.elementVisibilityRatioValueSignal,this.documentVisibilityValueSignal,this.isElementReachableByTrackVisibilityValueSignal],((e,t,i)=>i&&t?e:0));l.add((e=>{this.totalVisibilityValueSignal.dispatch(e>=$v)})),this.totalVisibilityRatioValueSignal=l,this.addDestroyHandler((()=>{this.totalVisibilityValueSignal.removeAll(),d(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll(),this.isElementReachableByTrackVisibilityValueSignal.removeAll()}))}startIntersectionObserver(e,t){const i=[$v],o=1/t;for(let n=1;n<t;n++)i.push(n*o);const r=new e((e=>{const t=e[e.length-1],{intersectionRatio:i}=t;this.elementVisibilityRatioValueSignal.dispatch(i)}),{threshold:i});r.observe(this.element),this.addDestroyHandler((()=>{r.disconnect()}))}startVisibilityCheckInterval(e){const t=po(this.recalculateVisibility);this.addDestroyHandler(t);const i=e.setTimeout(this.recalculateVisibility,0);this.addDestroyHandler((()=>{e.clearTimeout(i)}))}startCheckVisibilityWithTrackVisibility(e){const{element:t}=this,{teardown:i,visualVisibilitySignal:o}=f_({element:t,win:e});this.addDestroyHandler(i),o.add(this.isElementReachableByTrackVisibilityValueSignal)}startObservingDocumentVisibility(e){const t=e.setTimeout((()=>{const t=e.document,i=pe(t);this.documentVisibilityValueSignal.dispatch(i);const o=na(t,(e=>{this.documentVisibilityValueSignal.dispatch(e)}));this.addDestroyHandler(o)}),0);this.addDestroyHandler((()=>{e.clearTimeout(t)}))}}class tE extends xc{constructor(e){var t;let{videoSlot:i,layoutSlot:o,mediaAds:r,playbackParameters:n,skinParameters:a,stats:s}=e;if(super(),this.pauseAd=this.createPlaybackMethod("pauseAd",(()=>{kc("[AdPlaybackController]: method pauseAd() is called"),this.adDisplayController.pause()})),this.resumeAd=this.createPlaybackMethod("resumeAd",(()=>{kc("[AdPlaybackController]: method resumeAd() is called"),this.adDisplayController.resume()})),this.isPlayAdCalled=new I_,this.getPublicInstance=()=>({playAd:this.playAd,warmupAd:this.warmupAd,stopAd:this.stopAd,pauseAd:this.pauseAd,getAdPlayingState:this.getAdPlayingState,resumeAd:this.resumeAd,subscribe:this.subscribe,skipAd:this.skipAd,getAdSkippableState:this.getAdSkippableState,getAdPodTimeToSkip:this.getAdPodTimeToSkip,getAdPodCloseState:this.getAdPodCloseState,getAdVolume:this.getAdVolume,setAdVolume:this.setAdVolume,getAdVolumeAvailabilityState:this.getAdVolumeAvailabilityState,getAdRemainingTime:this.getAdRemainingTime,getAdPodRemainingTime:this.getAdPodRemainingTime,getAdDuration:this.getAdDuration,getAdPodDuration:this.getAdPodDuration,getAdContentSize:this.getAdContentSize,getAdMediaState:this.getAdMediaState,getMediaElementStatusAfterAdStopped:this.getMediaElementStatusAfterAdStopped,getAdPodAdTuneState:this.getAdPodAdTuneState,getCurrentViewerAssets:this.getCurrentViewerAssets,setControlsVisibility:this.setControlsVisibility,triggerClickThroughTrackings:this.triggerClickThroughTrackings}),this.getAdMediaState=()=>this.adDisplayController.adMediaState.getValue(),this.getAdContentSize=()=>this.adDisplayController.adContentSize.getValue(),this.setControlsVisibility=e=>this.adDisplayController.setPublicApiControlsSettings(e),this.getMediaElementStatusAfterAdStopped=()=>{if(this.isDestroyed)return{lastMediaRetained:Boolean(this.adDisplayController.lastMediaRetained.getValue())}},this.playAd=()=>{kc("[AdPlaybackController]: method playAd() is called"),this.isPlayAdCalled.getDispatched()?Tt(new Sc({code:"ATTEMPT_TO_PLAY_AD_SECOND_TIME",details:void 0})):(this.isPlayAdCalled.dispatch(void 0),this.adDisplayController.showAd(this.mediaAds).then((()=>{this.destroy("adComplete")})).catch(Be))},this.warmupAd=()=>{this.playAd(),this.pauseAd()},this.stopAd=()=>{kc("[AdPlaybackController]: method stopAd() is called"),this.destroy("stopAd")},this.getAdPlayingState=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.isFinished?"end":this.adDisplayController.playingState.getValue():"idle",this.getAdSkippableState=()=>this.adDisplayController.adSkippableState.getValue(),this.getAdPodTimeToSkip=()=>!this.isPlayAdCalled.getDispatched()||this.isDestroyed?Lf:this.adDisplayController.timeToSkip.getValue(),this.getAdPodCloseState=()=>this.adDisplayController.adPodCloseState.getValue(),this.getAdPodAdTuneState=()=>this.adDisplayController.adTuneState.getValue(),this.getAdVolume=()=>!this.isPlayAdCalled.getDispatched()||this.isDestroyed?0:this.adDisplayController.getVolume(),this.setAdVolume=e=>{this.isPlayAdCalled.getDispatched()&&!this.isDestroyed&&(e<0||e>1?this.stats.error({error:new Sc({code:"VOLUME_IS_OUT_OF_RANGE",details:{volume:e}})}):0===e?this.adDisplayController.setMuted(!0):this.adDisplayController.setVolume(e))},this.getAdVolumeAvailabilityState=()=>!(!this.isPlayAdCalled.getDispatched()||this.isDestroyed)&&this.adDisplayController.getAdVolumeAvailability(),this.getAdRemainingTime=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getAdRemainingTime():this.getAdDuration(),this.getAdPodRemainingTime=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getAdPodRemainingTime():this.getAdPodDuration(),this.getAdDuration=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getDuration():ds(this.mediaAds),this.getAdPodDuration=()=>{var e;if(this.isPlayAdCalled.getDispatched())return this.adDisplayController.getAdPodDuration();const[t]=this.mediaAds;return null!=(e=null==t?void 0:t.getDuration())?e:0},this.skipAd=()=>{if(this.getAdSkippableState())this.adDisplayController.skipAllViewers();else if(this.isDestroyed)this.stats.error({error:new Sc({code:"ATTEMPT_TO_SKIP_AD_AFTER_DESTROY",details:void 0})});else if(Boolean(this.isPlayAdCalled)){if(this.adDisplayController.getCurrentViewerSkipDelay()||this.getAdPodTimeToSkip()>0)return void this.stats.error({error:new Sc({code:"ATTEMPT_TO_SKIP_AD_BEFORE_SKIPPABLE_STATE_CHANGE",details:void 0})});this.stats.error({error:new Sc({code:"ATTEMPT_TO_SKIP_NON_SKIPPABLE_AD",details:void 0})})}else this.stats.error({error:new Sc({code:"ATTEMPT_TO_SKIP_AD_BEFORE_START",details:void 0})})},this.getCurrentViewerAssets=()=>this.adDisplayController.getCurrentViewerAssets(),this.subscribe=(e,t)=>{if("function"!==typeof t)return W;const i=i=>{try{t(i)}catch(Ww){this.stats.error({error:new Sc(Ww,{code:"APC_CALLBACK_ERROR",details:{eventName:e,data:i}})}),Be(Ww)}},o=()=>{i({})};switch(e){case"AdMediaStateChange":return this.adDisplayController.adMediaState.add(o);case"AdContentSizeChange":return this.adDisplayController.adContentSize.add(o);case"AdStartRequest":return this.isPlayAdCalled.getDispatched()?W:this.isPlayAdCalled.subscribe(o);case"AdStarted":return this.adDisplayController.onAdStart.add(o);case"AdPodStartRequest":return this.adDisplayController.onAdPodStartRequest.add(o);case"AdPodStarted":return this.adDisplayController.onAdMediaStart.add(o);case"AdPodImpression":return this.adDisplayController.onAdPodImpression.add(o);case"AdPodVideoFirstQuartile":return this.adDisplayController.onAdPodFirstQuartile.add(o);case"AdPodVideoMidpoint":return this.adDisplayController.onAdPodMidpoint.add(o);case"AdPodVideoThirdQuartile":return this.adDisplayController.onAdPodThirdQuartile.add(o);case"AdRemainingTimeChange":return this.adDisplayController.adPodRemainingTime.add((()=>{i({})}));case"AdPodDurationChange":return this.adDisplayController.adPodDuration.add(o);case"AdPodSkipped":return this.adDisplayController.onAdSkipped.add(o);case"AdClickThru":return this.adDisplayController.onClickThrough.add(o);case"AdPodError":return this.adDisplayController.onAdPodError.add((e=>{let t,{error:o,adPodId:r}=e;"string"===typeof o.code?t=o.code:(t="AD_POD_UNRECOGNIZED_ERROR_CODE",this.stats.error({error:new Sc({code:t,details:{error:o,adPodId:r}})})),i({code:t,adPodId:r})}));case"AdPodStopped":return this.adDisplayController.onAdMediaEnd.add(o);case"AdPodComplete":return this.adDisplayController.onAdPodComplete.add(o);case"AdPodClose":return this.adDisplayController.onAdPodClose.add(o);case"AllAdPodVideoComplete":return this.adDisplayController.onAllAdPodComplete.add(o);case"AdStopped":return this.adDisplayController.onDestroy_PUBLIC_DO_NOT_USE.add((e=>{let{reason:t}=e;"unload"!==t&&o()}));case"AdSkippableStateChange":return this.adDisplayController.adSkippableState.add((e=>{i({skippableState:e})}));case"AdVolumeChange":return this.adDisplayController.adVolume.add((()=>{i({})}));case"AdVolumeAvailabilityStateChange":return this.adDisplayController.adVolumeAvailability.add((()=>{i({})}));case"AdPlayingStateChange":return this.adDisplayController.playingState.add((e=>{i({playingState:e})}));case"AdStartRejected":return this.adDisplayController.onAdStartRejected.add(o);case"AdPodCloseStateChange":return this.adDisplayController.adPodCloseState.add(o);case"AdTuneStateChange":return this.adDisplayController.adTuneState.add(o);case"AdInteraction":return this.adDisplayController.onAdInteraction.add(o);default:return W}},this.saveCurrentInstanceToRegistry=()=>{if(!jd.isDebugEnabled)return;const e=Wa(window),{stats:t}=this;if(!e.adPlaybackControllerRegistry){const i=new Set;Object.defineProperty(e,"adPlaybackControllerRegistry",{get:()=>(x("You are using debug code ad display controller registry getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeAdPlaybackControllerRegistryGetter"}),i)});const o=()=>(x("You are using debug code ad display controllers getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeAdPlaybackControllersGetter"}),Array.from(e.adPlaybackControllerRegistry.values()));e.getAdPlaybackControllers=o}const i=e.adPlaybackControllerRegistry;i.add(this),this.addDestroyHandler((()=>{i.delete(this)}))},this.triggerClickThroughTrackings=e=>{let{url:t,clickSource:i}=e;this.adDisplayController.triggerClickThroughTrackings({url:t,clickSource:i})},this.stats=s,!Boolean(o)){const e=new Sc({code:"APC_SLOT_IS_NOT_SET",details:{slotString:String(o)}});throw s.error({error:e}),e}s.log({name:"CreatePlaybackController",data:{config:n,adBreakType:null==(t=r[0])?void 0:t.adBreak.adType}}),this.videoSlot=i,this.layoutSlot=o,this.mediaAds=r,this.playbackParameters=n;const l=new wS(o);let d,c;if(this.addDestroyHandler((()=>{l.destroy()})),n.visibilitySlot){d=n.visibilitySlot;const e=new wS(d);c=e.onResize,this.addDestroyHandler((()=>{e.destroy()}))}else d=o,c=l.onResize;const u=hp(this.mediaAds,(e=>e.getIsYandexCreative())),h=new eE(d,{numberOfMeasurementSteps:10,enableTrackVisibility:y_(window)&&u&&"TRUE"===qd.getFlagValueAndActivateTestId("VAS_IMPRESSIONS_CONSIDER_TRACK_VISIBILITY")});this.addDestroyHandler((()=>{h.destroy(void 0)}));const p={element:d,size:c,visibilityRatio:h.totalVisibilityRatioValueSignal};this.adDisplayController=new JT({config:this.playbackParameters,videoNode:this.videoSlot,layoutSlot:this.layoutSlot,skinParameters:a,visibilitySlotParameters:p,retainLastMediaAfterPlayback:this.playbackParameters.retainLastMediaAfterPlayback,stats:s}),this.addDestroyHandler((e=>{this.adDisplayController.destroy({reason:e,details:void 0})})),this.addDestroyHandler(Ga((()=>{this.destroy("unload")}),Dd)),jd.isDebugEnabled&&this.saveCurrentInstanceToRegistry()}createPlaybackMethod(e,t){return()=>{this.isPlayAdCalled.getDispatched()&&!this.isDestroyed?t():Tt(new Sc({code:this.isDestroyed?"CALL_PLAYBACK_METHOD_AFTER_STOP":"CALL_PLAYBACK_METHOD_BEFORE_PLAY",details:{methodName:e}}))}}}const iE=un({shouldUseNewSkin:!1,supportsFullscreen:!1});iE.Provider.displayName="NewSkinContext";const oE=()=>fn(iE);var rE=e(8883),nE=e.n(rE);const aE=e=>{var t;kn(nE());const{children:i,onSplitResult:o,fontStyle:r}=e,n=i,[a,s]=pn([]),l={"--stw-text-lines-count":a.length,"--stw-font":r},d=vn(null),{width:c}=null!=(t=va(d))?t:{};return mn((()=>{if(void 0===c||void 0===i||0===i.length)return;const e=d.current;if(!e)return;const t=e.getContext("2d");if(!t)return;const a=(e=>{const t=new Gd,{canvas:i,text:o,context:r,fontStyle:n}=e;t.addOne(qo(i,{font:n}));const a=r.font;t.addOne((()=>{r.font=a})),r.font=n;const s=r.measureText(" ").width,l=i.offsetWidth,d=o.split(" "),c=[];let u=[],h="",p=0;for(let m=0;m<d.length;m++){const e=d[m],t=r.measureText(e).width;if(t>l){c.length=0;break}const i=h.length>0?" ":"",o=h+i+e,n=p+(i?s:0)+t;n>=l?(c.push(u),u=[],u.push(e),h=e,p=t,m===d.length-1&&c.push(u)):(u.push(e),h=o,p=n,m===d.length-1&&c.push(u))}return t.dispatch(void 0),c.length?c:void 0})({canvas:e,context:t,text:n,mode:"lines",fontStyle:r});a&&(null==o||o(a),s(a))}),[d,c,void 0,n,r]),zr("div",{style:l,className:rE.locals.SplitTextLinesWrapper__container},zr("div",{className:rE.locals.SplitTextLinesWrapper__lines},Nc(a,((e,t)=>{const i=t===a.length-1,o=e.join("");let r=0;const n=o.length,s={"--stw-text-line-length":n,"--stw-text-line-words-count":e.length,"--stw-text-line-index":t};return zr(Yr,{key:o},zr("div",{className:rE.locals.SplitTextLinesWrapper__textLine,style:s},Nc(e,((t,i)=>{const o=i===e.length-1?"":"\xa0";return zr("span",{key:""+t+i,className:rE.locals.SplitTextLinesWrapper__word,style:{"--stw-text-word-index":i}},Nc(t.split(""),((e,t)=>{const i=e+"-"+t,o=Math.round(100*r/n),a=Co(Math.floor(o/30),0,2),s={"--stw-text-char-inside-word-index":t,"--stw-text-char-inside-line-index":r,"--stw-text-char-inside-line-percent":o,"--stw-text-char-inside-line-third":a};return r+=1,zr("span",{key:i,className:rE.locals.SplitTextLinesWrapper__char,style:s},e)})),o)}))),!i&&zr("br",null))}))),zr("canvas",{className:rE.locals.SplitTextLinesWrapper__canvas,ref:d}))},sE="notranslate",lE=e=>{const t=On(e.currentVastAd);return _n((()=>{var i,o;const{tgaOfferClickUrl:r,vastClickUrl:n,serializablePlaybackParametersClickUrl:a}=null!=(i=null==t?void 0:t.clickUrlData)?i:{},s=null!=(o=null!=r?r:n)?o:a;return void 0===s?void 0:N(s,{[qu]:Yd,[$u]:e.getAdPlacementOptions().adPodId})}),[t])},dE=un({isAbuseSupported:!1,abuseButtonClickHandler:W,abuseDisplayStatus:"hidden",abuseScreenCloseHandler:W,abuseVariantChooseHandler:W,pauseByOpenAbuseScreen:!1,abuseCustomReasonText:"",abuseCustomReasonTextHandler:W,abuseActiveDisplayType:"default",setAbuseActiveDisplayType:W,isAbuseSubmitted:!1,setAbuseSubmitted:W,abuseSubmitType:void 0,setAbuseSubmitType:W,previousDisplayType:"default",setPreviousDisplayType:W,destroyCurrentViewer:W,abuseScaleRate:void 0,setAbuseScaleRate:W,legalText:void 0,onAbuseCopyLinkToClipboardClick:W,resetAbuseVisualState:W,abusePlaceholderHint:"",abusePlaceholderText:""});dE.Provider.displayName="AbuseContext";const cE=e=>{let{adDisplayController:t}=e;const i=On(t.pauseByOpenAbuseScreen),o=On(t.abuseDisplayStatus),{abuseParameters:r,playingState:n}=t,{abuseUrl:a,legalText:s}=On(r),l=(e=>bv+e.slice(e.lastIndexOf("/")))(a),[d,c]=pn(""),[u,h]=pn("default"),[p,m]=pn(!1),[A,v]=pn(void 0),[_,g]=pn("default"),[f,y]=pn(void 0);mn((()=>{"play"===n.getValue()&&"hidden"!==o&&t.handleAbuseScreenCloseByResumeError()}),[o,n]);const S=lE(t),T=S?()=>{t.onAbuseCopyLinkToClipboardClick(S)}:void 0,E=gn((()=>{m(!1),v(void 0),h("default")}),[m,v,h]),b=Qg();let C="",P="";switch(A){case"complaint":C=b("ABUSE_PLACEHOLDER_TEXT_COMPLAINT"),P=b("ABUSE_PLACEHOLDER_HINT_COMPLAINT");break;case"hide":C=b("ABUSE_PLACEHOLDER_TEXT_HIDE"),P=b("ABUSE_PLACEHOLDER_HINT_HIDE")}return{isAbuseSupported:Boolean(a),abuseButtonClickHandler:t.abuseButtonClickHandler,abuseDisplayStatus:o,abuseScreenCloseHandler:t.abuseScreenCloseHandler,abuseVariantChooseHandler:t.abuseVariantChooseHandler,pauseByOpenAbuseScreen:i,destroyCurrentViewer:t.destroyCurrentViewer,onAbuseCopyLinkToClipboardClick:T,abuseCustomReasonText:d,abuseCustomReasonTextHandler:c,abuseActiveDisplayType:u,setAbuseActiveDisplayType:h,resetAbuseVisualState:E,abuseSubmitType:A,setAbuseSubmitType:v,isAbuseSubmitted:p,setAbuseSubmitted:m,previousDisplayType:_,setPreviousDisplayType:g,abuseScaleRate:f,setAbuseScaleRate:y,legalText:s,abusePlaceholderHint:P,abusePlaceholderText:C,advertiserInfoUrl:l}},uE=()=>fn(dE),hE=un(!0);hE.Provider.displayName="ShowTitleAndBodyContext";const pE=un({isPackshotPlaying:!1});pE.Provider.displayName="SkinPackshotContext";const mE=e=>{let{isPackshotPlaying:t}=e;return{isPackshotPlaying:On(t)}},AE=()=>fn(pE);var vE=e(2935),_E=e.n(vE);const gE=un(0);gE.Provider.displayName="AdAnimationProgressContext";const fE=e=>{let{skinAnimationProgress:t}=e;return On(t)},yE=()=>fn(gE),SE=un(NaN);SE.Provider.displayName="AdDurationContext";const TE=e=>{let{adDisplayController:t}=e;return On(t.adPodDuration)},EE=()=>fn(SE),bE=(e,t)=>{const{bodyAnimationEnlargementDelay:i,bodyAnimationEnlargementDuration:o,bodyAnimationShowDelay:r,bodyAnimationShowDuration:n,showLineDelay:a}=t,{titleAnimationHideDelay:s,titleAnimationHideDuration:l,titleAnimationEnlargementNextLineDelay:d,titleSinglePartDuration:c,titleAnimationEnlargementDelay:u,titleAnimationEnlargementDuration:h,titleAnimationShowDelay:p}=e;return{"--ctat-animation-body-animation-enlargement-delay":i+"ms","--ctat-animation-body-animation-enlargement-duration":o+"ms","--ctat-animation-body-animation-show-delay":r+"ms","--ctat-animation-body-animation-show-duration":n+"ms","--ctat-animation-body-animation-show-line-delay":a+"ms","--ctat-animation-title-animation-show-delay":p+"ms","--ctat-animation-title-animation-enlargement-delay":u+"ms","--ctat-animation-title-animation-enlargement-duration":h+"ms","--ctat-animation-title-animation-hide-delay":s+"ms","--ctat-animation-title-animation-hide-duration":l+"ms","--ctat-animation-title-enlargement-next-line-delay":d+"ms","--ctat-animation-title-part-duration":c+"ms"}},CE=a((()=>{Bc.log({name:"CSSVariablesAreNotSupported"})})),PE=e=>{let{onClickOutside:t}=e;kn(_E());const{isAbuseSubmitted:i}=uE(),{isPackshotPlaying:o}=AE(),{themeEmptyParameters:r,clickThrough:n}=Tf(),a=fn(hE),{title:s,body:l,clickUrl:d,targetUrl:c}=null!=r?r:{},u=Nf(),h=!1!==u.title&&!1!==u.body,p=!1!==u.actionButton,[m,A]=pn(void 0),[v,_]=pn(void 0),g=vn(null),f=vn(null),y=()=>{n({url:d,playerHandles:!0,clickSource:"SkinCallToActionText"})},{isReadyToAnimate:S,containerStyle:T,titleFontStyle:E,bodyFontStyle:b}=function(e,t,i,o,r){const n=yE(),a=EE(),s=ug(),{playingState:l}=Ly(),[d,c]=pn({largestSize:0,descriptionFontSize:0,descriptionLineHeight:0,horizontalMargin:0,verticalMargin:{top:0,bottom:0}});mn((()=>{const e=wh(d),t=Math.max(s.width,s.height);e.largestSize=t;const{fontSize:i,lineHeight:o}=(e=>e<360?{fontSize:12,lineHeight:18}:e<400?{fontSize:14,lineHeight:20}:e<480?{fontSize:16,lineHeight:22}:e<560?{fontSize:18,lineHeight:24}:e<640?{fontSize:20,lineHeight:26}:e<720?{fontSize:22,lineHeight:28}:e<800?{fontSize:24,lineHeight:30}:e<960?{fontSize:26,lineHeight:32}:e<1024?{fontSize:28,lineHeight:34}:{fontSize:30,lineHeight:36})(t);e.descriptionFontSize=i,e.descriptionLineHeight=o,e.horizontalMargin=(e=>e<640?10:e<960?15:20)(t),e.verticalMargin=function(e,t){return void 0===t&&(t=!0),e<480?t?{top:40,bottom:98}:{top:40,bottom:64}:e<960?{top:40,bottom:116}:e<1280?{top:40,bottom:122}:{top:40,bottom:128}}(t,r),c(e)}),[s]);const[u,h]=pn(!1),[p,m]=pn({});mn((()=>{const e=wh(p);d.largestSize&&(e["--ctat-largest-size"]=d.largestSize+"px",e["--ctat-description-font-size"]=d.descriptionFontSize+"px",e["--ctat-horizontal-margin"]=d.horizontalMargin+"%",e["--ctat-margin-top"]=d.verticalMargin.top+"px",e["--ctat-margin-bottom"]=d.verticalMargin.bottom+"px",m(e))}),[d]);const[A,v]=pn(""),[_,g]=pn("");mn((()=>{let e=A;if(i.current){const t=ae(i.current,i.current.ownerDocument.defaultView);e=t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+(d.descriptionFontSize+2)+"px/"+d.descriptionLineHeight+"px "+t.fontFamily}v(e);let t=_;if(i.current){const e=ae(i.current,i.current.ownerDocument.defaultView);t=e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" "+d.descriptionFontSize+"px/"+d.descriptionLineHeight+"px "+e.fontFamily}g(t)}),[d,i.current,o.current]);const[f,y]=pn({"--ctat-animation-animation-drift-coef":"1","--ctat-animation-progress":"0","--ctat-animation-playing-state":"paused"});return mn((()=>{const i=ms({},f);if(!e||!t||!a)return void h(!1);h(!0);const{cssVars:o,totalAnimationDuration:r}=(e=>{const{duration:t}=e,i=100*Co(t/10,1,1),o=ps({},e,{atomic100MSDuration:i}),r=(e=>{let{atomic100MSDuration:t,titleSplitResult:i,baseDelay:o}=e;const r=o,n=1.66*t,a=i.length,s=3*n*a,l=t+o,d=s+l,c=d+t+t*a,u=27*t,h=c+u;return{calculatedTitleAnimationDuration:h+t*a,calculatedTitleRevealAnimationDuration:s,titleAnimationDelayAfterEnlargement:u,titleAnimationDelayAfterReveal:l,titleAnimationEnlargementDelay:d,titleAnimationEnlargementDuration:t,titleAnimationEnlargementNextLineDelay:t,titleAnimationHideDelay:h,titleAnimationHideDuration:t,titleAnimationSingleLinePartsCount:3,titleAnimationShowDelay:r,titleAnimationTotalEnlargementDuration:c,titleLinesCount:a,titleSinglePartDuration:n}})(ps({},o,{baseDelay:25*i})),n=r.calculatedTitleAnimationDuration,a=(e=>{let{bodySplitResult:t,atomic100MSDuration:i,baseDelay:o}=e;const r=t.length,n=8.2*i,a=o+n,s=3*i,l=.75*i,d=4.5*i,c=a+l+s;return{bodyAnimationEnlargementDelay:c,bodyAnimationEnlargementDuration:d,bodyAnimationShowDelay:a,bodyAnimationShowDuration:s,bodyLinesCount:r,bodyTotalAnimationTime:c+d*r,delayBeforeShowBody:n,showLineDelay:l}})(ps({},o,{baseDelay:n})),s=a.bodyTotalAnimationTime;return{cssVars:bE(r,a),titleAnimationDuration:n,totalAnimationDuration:s,titleAnimationShowDelay:r.titleAnimationShowDelay,bodyAnimationShowDelay:a.bodyAnimationShowDelay}})({duration:a,bodySplitResult:t,titleSplitResult:e}),s=r*n;i["--ctat-animation-current-time"]=s+"ms","play"===l?i["--ctat-animation-playing-state"]="running":"pause"===l&&(i["--ctat-animation-progress"]=""+n,i["--ctat-animation-playing-state"]="paused"),y(ms({},o,i))}),[n,l,a,e,t]),{isReadyToAnimate:u,containerStyle:ms({},p,f),titleFontStyle:A,bodyFontStyle:_}}(m,v,g,f,p);return"undefined"!==typeof CSS&&CSS.supports("animation-delay","var(--time)")?h&&a?o||i?null:s||l?zr("div",{className:wn(vE.locals.CallToActionTextContainer,sE)},zr("div",{className:wn(vE.locals.CallToActionText,{[vE.locals.CallToActionText__animated]:S}),style:T,onClick:t},zr("div",{className:vE.locals.CallToActionText__overlay},s&&zr("div",{className:vE.locals.CallToActionText__title,ref:g},zr(Gg,{url:c,onClick:y,pointerEvents:"none"},zr(aE,{fontStyle:E,onSplitResult:e=>A(e)},s))),l&&zr("div",{className:vE.locals.CallToActionText__body,ref:f},zr(Gg,{url:c,onClick:y,pointerEvents:"none"},zr(aE,{fontStyle:b,onSplitResult:e=>_(e)},l)))))):null:null:(CE(),null)},wE=un(void 0);wE.displayName="AdFoxTuneContext";const OE=e=>{let{adDisplayController:t}=e;const i=fn(Pg),o=On(t.adFoxAdTuneParameters);if(!o||void 0===o||!1===o.show)return;const{advertiserInfo:r,token:n}=o;return{token:n,copyToken:()=>{i({name:"AdFoxAdTuneCopiedToken",probability:1}),Ha(n)},advertiserInfo:r}},IE=()=>fn(wE);var kE=e(8866),NE=e.n(kE);const DE=e=>{let{isActive:t,hideBackground:i}=e;kn(NE());const o=i?0:.1;return zr("svg",{className:wn(kE.locals.AbuseAnimationIcon,{[kE.locals.AbuseAnimationIcon_cross]:t,[kE.locals.AbuseAnimationIcon_background_none]:i}),width:"24",height:"24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},zr("g",{className:kE.locals.AbuseAnimationIcon__lines},zr("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:wn(kE.locals.AbuseAnimationIcon__line,kE.locals.AbuseAnimationIcon__line_left)}),zr("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:wn(kE.locals.AbuseAnimationIcon__line,kE.locals.AbuseAnimationIcon__line_right)})),zr("g",null,zr("rect",{width:"24",height:"24",rx:"12","fill-opacity":o}),zr("g",null,zr("circle",{class:wn(kE.locals.AbuseAnimationIcon__dot,kE.locals.AbuseAnimationIcon__dot_top),fill:"#fff",cx:"12",cy:"6",r:"1.5"}),zr("circle",{class:kE.locals.AbuseAnimationIcon__dot,cx:"12",cy:"12",r:"1.5"}),zr("circle",{class:wn(kE.locals.AbuseAnimationIcon__dot,kE.locals.AbuseAnimationIcon__dot_bottom),fill:"#fff",cx:"12",cy:"18",r:"1.5"}))))},RE=e=>{let{width:t,height:i}=e;return t<=240||i<=280};var VE=e(8971),LE=e.n(VE);const xE=e=>{let{onClickHandler:t,isActive:i,hideBackground:o,position:r}=e;kn(LE());const n=RE(ug());return zr("div",{onClick:t,className:wn(VE.locals.AbuseBurgerButton,{[VE.locals.AbuseBurgerButton_inFullSize]:n}),style:r},zr(DE,{isActive:i,hideBackground:(!n||!i)&&o}))};var BE=e(2020),ME=e.n(BE);const UE=e=>{let{children:t,isActive:i=!0,url:o,onClick:r,className:n,buttonClassName:a,contentClassName:s}=e;kn(ME());const l=wn(BE.locals.Button,n,{[BE.locals.Button_active]:i,[BE.locals.Button_link]:Boolean(o)}),d=zr("div",{className:BE.locals.Button__clickable},zr("div",{className:a},zr("div",{className:wn(BE.locals.Button__content,s)},t)));return o?zr("a",{className:l,href:o,target:"_blank",onClick:r},d):zr("div",{className:l,onClick:r},d)};var FE=e(2645),HE=e.n(FE);const zE=e=>{let{icon:t,className:i}=e;return t?zr("div",{className:i},t):null},jE=e=>{let{buttonText:t,leftIcon:i,rightIcon:o,onClick:r,url:n}=e;kn(HE());const a=gn((()=>{r&&r()}),[r]);return zr(UE,{className:wn(FE.locals.AbuseOptionButton,sE),url:n,buttonClassName:FE.locals.AbuseOptionButton__clickable,contentClassName:FE.locals.AbuseOptionButton__content,onClick:a},zr(zE,{icon:i,className:FE.locals.AbuseOptionButton__leftIcon}),t,zr(zE,{icon:o,className:FE.locals.AbuseOptionButton__rightIcon}))},YE=e=>{let{className:t}=e;return zr(As,{className:t})},WE=e=>{let{className:t}=e;return zr(vs,{className:t})},GE=e=>"anotherReasonAd"===e?zr(YE,null):"about"===e||"advertiserInfo"===e?zr(WE,null):void 0;var XE=e(7486),KE=e.n(XE);const qE=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const o=Qg();return zr("div",{className:XE.locals.AbuseDisplay__complaintDisplay},zr("div",{className:XE.locals.AbuseDisplay__text},o("ABUSE_IMPROVE_REASON_TEXT")),Nc(c(t),(e=>zr(jE,{key:e,onClick:i[e],rightIcon:GE(e),buttonText:t[e]}))))},QE=e=>{let{className:t}=e;return zr(_s,{className:t})},JE=e=>{let{className:t}=e;return zr(gs,{className:t})},ZE=e=>{let{className:t}=e;return zr(fs,{className:t})},$E=e=>{let{className:t}=e;return zr(ys,{className:t})},eb=e=>{switch(e){case"hide":return zr(JE,null);case"complaint":return zr(QE,null);case"about":return zr($E,null);case"advertiserInfo":return zr(ZE,null);default:return}},tb=["slotParameters"],ib=e=>null!=e&&e.hasOwnProperty("vast")?null==e?void 0:e.vast:void 0,ob=un({vast:void 0,blockId:"",bannerId:"",videoContentSize:void 0,clickUrl:void 0,slotParameters:{element:void 0,document:void 0,window:void 0,size:void 0,isHovered:void 0}});ob.Provider.displayName="ReportBugContext";const rb=e=>{var t,i,o,r,n;let{adDisplayController:a}=e;const s=On(a.currentVastAd),l=(null==(t=ib(s))?void 0:t.xmlString)||"",{partnerId:d,impId:c}=On(a.adBlockIdentification),u=On(a.videoContentSize),h=lE(a);return{vast:l,blockId:"R-A-"+d+"-"+c,bannerId:null==s||null==(i=s.adParametersObject)||null==(o=i.AUCTION_DC_PARAMS)||null==(r=o.data_params)||null==(n=r.misc)?void 0:n.object_id,videoContentSize:u,clickUrl:h,slotParameters:a.slotParameters}},nb=e=>{let{buttonTexts:t,onClickHandlers:i,legalInfoText:o,isVisibleAbuse:r}=e;const{onAbuseCopyLinkToClipboardClick:n,advertiserInfoUrl:a,isAbuseSupported:s}=uE(),l=IE(),d=Qg(),{isStarted:u}=Ly(),{vast:h,clickUrl:p,blockId:m,bannerId:A,videoContentSize:v,slotParameters:_}=fn(ob),g=ug(),[f,y]=pn(!1),[S,T]=pn(!1);return mn((()=>{r||y(!1)}),[r]),zr("div",null,l&&""!==l.advertiserInfo&&zr("div",{className:XE.locals.AbuseDisplay__legal},l.advertiserInfo),o&&zr("div",{className:XE.locals.AbuseDisplay__legal},o),s&&Nc(c(t),(e=>{let o;switch(e){case"advertiserInfo":o=a;break;case"about":o=Ev;break;default:o=void 0}return zr(jE,{key:e,url:o,onClick:i[e],leftIcon:eb(e),rightIcon:GE(e),buttonText:t[e]})})),l&&""!==l.token&&zr(jE,{key:"copy_token",onClick:()=>{l&&(l.copyToken(),T(!0))},buttonText:d(S?"ABUSE_COPIED":"ADTUNE_COPY_TOKEN"),leftIcon:zr(Ts,null)}),n&&zr(jE,{key:"copy_link",onClick:()=>{n&&(n(),y(!0))},buttonText:d(f?"ABUSE_COPIED":"ABUSE_COPY_TEXT"),leftIcon:zr(Ts,null)}),jd.VAS_UAAS_CONFIG.isInternalNetwork&&zr(jE,{key:"report_bug",onClick:()=>{(e=>{const{slotParameters:t}=e,i=function(e,t){if(null==e)return{};var i,o,r={},n=Object.keys(e);for(o=0;o<n.length;o++)i=n[o],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,tb),{document:o,window:r}=t;if(Bc.log({name:"ReportBug",data:Es({},i,{VSID:Yd}),values:{},sensors:{},probability:1}),!o||!r)return void kc("Couldn't retrieve document or window from adDisplayController");const n=o.createElement("div");wr(n,{backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"0",left:"0",height:"100vh",width:"100vw",zIndex:""+(Number.parseInt(m_,10)-1)});const a=JSON.stringify(i,null,2),s=new Blob([a],{type:"application/json"}),l=new FileReader;l.readAsDataURL(s);const d=o.createElement("div");wr(d,{width:"500px",height:"500px",padding:"18px",borderRadius:"20px",backgroundColor:"white",maxHeight:"80vh"}),n.appendChild(d);const c=o.createElement("iframe");wr(c,{height:"100%",width:"100%",backgroundColor:"white",border:"none"}),c.setAttribute("src","https://forms.yandex.ru/u/62d1740f9ff9566c865e6a59/?iframe=1&theme=lisa-fos&lang=ru");const u=e=>{let t;try{t=JSON.parse(e.data)}catch(G_){return void kc("Report bug form receive non-valid JSON string")}t["iframe-height"]&&(d.style.height=t["iframe-height"]+"px")};r.addEventListener("message",u),l.onload=()=>{const t=l.result;c.onload=()=>{setTimeout((()=>{var t,r,n,a,s,l;null==(t=c.contentWindow)||t.postMessage("pong","*"),null==(r=c.contentWindow)||r.postMessage(JSON.stringify({message:"set-question-value",slug:"data",value:JSON.stringify(i)}),"*"),null==(n=c.contentWindow)||n.postMessage(JSON.stringify({message:"set-question-value",slug:"block_id",value:e.blockId}),"*"),null==(a=c.contentWindow)||a.postMessage(JSON.stringify({message:"set-question-value",slug:"banner_id",value:e.bannerId}),"*"),null==(s=c.contentWindow)||s.postMessage(JSON.stringify({message:"set-question-value",slug:"VSID",value:Yd}),"*"),null==(l=c.contentWindow)||l.postMessage(JSON.stringify({message:"set-question-value",slug:"url_page",value:ee(o).location}),"*")}),0),setTimeout((()=>{var e;const i="meta_"+(new Date).toISOString()+".json";null==(e=c.contentWindow)||e.postMessage(JSON.stringify({message:"set-question-value",slug:"answer_files",value:{format:"dataUrl",dataUrl:t,name:i}}),"https://forms.yandex.ru")}),0)}},d.appendChild(c),o.body.appendChild(n);const h=()=>{n.remove(),r.removeEventListener("message",u),n.removeEventListener("click",h)};n.addEventListener("click",h)})({vast:h,clickUrl:p,blockId:m,bannerId:A,videoContentSize:v,slotSize:g,slotParameters:_,wasVideoStarted:u})},buttonText:d("ABUSE_REPORT_PROBLEM"),leftIcon:zr(Ss,null)}))},ab=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const o=Qg();return zr("div",{className:XE.locals.AbuseDisplay__hideDisplay},zr("div",{className:XE.locals.AbuseDisplay__text},o("ABUSE_IMPROVE_REASON_TEXT")),Nc(c(t),(e=>zr(jE,{key:e,onClick:i[e],rightIcon:GE(e),buttonText:t[e]}))))},sb=e=>{let{className:t}=e;return zr(bs,{className:t})},lb=e=>{let{previousDisplayType:t,onClickHandler:i}=e;const{abuseCustomReasonText:o,abuseCustomReasonTextHandler:r,setAbuseActiveDisplayType:n}=uE(),a=Qg(),s=gn((()=>{n(t)}),[t]);return zr("div",{className:XE.locals.AbuseDisplay__customReasonDisplay},zr("div",{className:XE.locals.AbuseDisplay__customReasonDisplayHeader},zr("div",{className:XE.locals.AbuseDisplay__arrowLeftIcon,onClick:s},zr(sb,null)),zr("div",{className:XE.locals.AbuseDisplay__hint},a("ABUSE_OPTION_ANOTHER_REASON"))),zr("div",{className:XE.locals.AbuseDisplay__messageBox},zr("textarea",{className:XE.locals.AbuseDisplay__customReasonDisplayTextarea,placeholder:a("ABUSE_CUSTOM_FIELD_PLACEHOLDER"),onInput:e=>{const t=e.currentTarget.value;t&&r(t)},value:o}),zr(UE,{className:XE.locals.AbuseDisplay__customReasonDisplayButton,contentClassName:XE.locals.AbuseDisplay__customReasonDisplayButtonContent,onClick:()=>i("anotherReasonAd",{UserResponse:o})},a("ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT"))))},db=e=>{let{isVisibleAbuse:t,socialAdvertising:i}=e;kn(KE());const{abuseVariantChooseHandler:o,abuseActiveDisplayType:r,setAbuseActiveDisplayType:n,isAbuseSubmitted:a,setAbuseSubmitted:s,setAbuseSubmitType:l,previousDisplayType:d,destroyCurrentViewer:u,setPreviousDisplayType:h,legalText:p,resetAbuseVisualState:m}=uE(),A=ug(),v=RE(A),[_,g]=pn(null),f={current:null};mn((()=>{!t&&a&&(m(),u())}),[a,t,m]),mn((()=>{if(v)return;const e=f.current;e&&g(e.offsetHeight+"px")}),[r,v]),mn((()=>{v&&g(null)}),[v]);const y=_n((()=>Z(Sv,((e,t)=>()=>{if(h(r),"hide"===t){if(i)return void o(t);n("hide"),l("hide"),s(!0),o(t,{noDestroyOnClick:!0,needToHideCreativesContiner:!0})}else if("complaint"===t)n("complaint"),l("complaint"),s(!0),o(t,{noDestroyOnClick:!0,needToHideCreativesContiner:!0});else if("anotherReasonAd"===t)n("message");else{const e="about"===t||"advertiserInfo"===t;m(),o(t,{noDestroyOnClick:e})}}))),[o,r,i]),S={height:null!=_?_:""},T=Qg(),E=(e=>({hide:e("ABUSE_OPTION_HIDE"),complaint:e("ABUSE_OPTION_COMPLAINT"),advertiserInfo:e("ABUSE_OPTION_ADVERTISER_INFO"),about:e("ABUSE_OPTION_ABOUT")}))(T),b=(e=>ql(c(gv),((t,i)=>{switch(i){case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON");break;case"notInterestedAd":t[i]=e("ABUSE_OPTION_NOT_INTERESTED");break;case"alreadyPurchasedAd":t[i]=e("ABUSE_OPTION_ALREADY_PURCHASED");break;case"seenTooOftenAd":t[i]=e("ABUSE_OPTION_SEEN_TOO_OFTEN");break;case"overlapContentAd":t[i]=e("ABUSE_OPTION_OVERLAP_CONTENT")}return t}),{}))(T),C=((e,t)=>t?ql(c(yv),((t,i)=>{switch(i){case"politicalSocialAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"shockingContentSocialAd":t[i]=e("ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL");break;case"falseInfoSocialAd":t[i]=e("ABUSE_OPTION_FALSE_INFO_SOCIAL")}return t}),{}):ql(c(fv),((t,i)=>{switch(i){case"unpleasantContentAd":t[i]=e("ABUSE_OPTION_UNPLEASANT_CONTENT");break;case"politicalAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"scammersAd":t[i]=e("ABUSE_OPTION_SCAMMERS");break;case"illegalGoodsOrServiceAd":t[i]=e("ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE");break;case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON")}return t}),{}))(T,i);return zr("div",{className:wn(XE.locals.AbuseDisplay,{[XE.locals.AbuseDisplay_fullSize]:v,[XE.locals.AbuseDisplay_visible]:t}),style:S},zr("div",{className:XE.locals.AbuseDisplay__content,ref:f},"default"===r?zr(nb,{isVisibleAbuse:t,legalInfoText:p,buttonTexts:E,onClickHandlers:y}):null,"hide"===r?zr(ab,{buttonTexts:b,onClickHandlers:y}):null,"complaint"===r?zr(qE,{buttonTexts:C,onClickHandlers:y}):null,"message"===r?zr(lb,{onClickHandler:o,previousDisplayType:d}):null))};var cb=e(8561),ub=e.n(cb);const hb=()=>{kn(ub());const{isAbuseSubmitted:e,abusePlaceholderText:t,abusePlaceholderHint:i}=uE(),{width:o}=ug();if(!e)return null;const r=o<=640;return zr("div",{className:wn(cb.locals.AbusePlaceholder,{[cb.locals.AbusePlaceholder_place_left]:r,[cb.locals.AbusePlaceholder_place_center]:!r})},zr("div",{className:cb.locals.AbusePlaceholder__container},zr("div",{className:cb.locals.AbusePlaceholder__text},t),zr("div",{className:cb.locals.AbusePlaceholder__hint},i)))};var pb=e(1155),mb=e.n(pb);const Ab=e=>{let{hideBurgerButtonBackground:t,abuseBurgerButtonPosition:i}=e;kn(mb());const{abuseDisplayStatus:o,isAbuseSupported:r}=uE(),n=IE(),a=Nf(),s=RT(a),l="selection"===o,{abuseScreenCloseHandler:d,abuseButtonClickHandler:c}=uE(),{socialAdvertising:u}=ry();return s&&(r||n)?zr("div",{className:wn(pb.locals.AbuseContainer,sE)},zr(hb,null),zr(xE,{onClickHandler:()=>(Lr({control:l?"AdTuneScreenClose":"AdTuneScreenKebab",purpose:"adTune"}),l?d():c()),isActive:l,hideBackground:t,position:i}),zr(db,{isVisibleAbuse:l,socialAdvertising:u})):null};var vb=e(4115),_b=e.n(vb);xd({propertyName:"SPINNER_ICON_GLOBAL_CALLBACK"});const gb=e=>{let{className:t}=e;return kn(_b()),zr(Cs,{className:wn(vb.locals.SpinnerIcon__css_animated,t)})};var fb=e(9130),yb=e.n(fb);const Sb=e=>{let{className:t}=e;return kn(yb()),zr(gb,{className:wn(fb.locals.Spinner,t)})},Tb=e=>{let{className:t}=e;return zr(Ps,{className:t})};var Eb=e(7276),bb=e.n(Eb);const Cb=e=>{let{onClick:t,size:i}=e;kn(bb());const o=wn(Eb.locals.CirclePlayButton,{[Eb.locals.CirclePlayButton_fullSize]:"small"!==i}),r=wn(Eb.locals.CirclePlayButton__icon,{[Eb.locals.CirclePlayButton__icon_fullSize]:"small"!==i});return zr(UE,{className:o,contentClassName:Eb.locals.CirclePlayButton__basecontent,onClick:t},zr(Tb,{className:r}))},Pb=()=>{const e=ty(),{play:t}=Ly();return zr(Cb,{size:e,onClick:()=>{Lr({control:"CirclePlayButton",purpose:"changePlayingState"}),t()}})};var wb=e(7012),Ob=e.n(wb);const Ib=()=>{kn(Ob());const{playingState:e,isStarted:t,isSlowStart:i}=Ly(),{play:o,loader:r}=Nf(),{isAbuseSubmitted:n,abuseDisplayStatus:a}=uE(),{isPackshotPlaying:s}=AE(),l=RE(ug()),{creativeType:d}=py();if(n)return null;const c="pause"===e,u=c&&!1!==o&&!("selection"===a&&l)&&!s&&!("survey"===d),h=!u&&!c&&!t&&i&&!1!==r;return zr("div",{className:wb.locals.CenterControls},u&&zr(Pb,null),h&&zr(Sb,null))};var kb=e(5050),Nb=e.n(kb);const Db=e=>{let{hidden:t}=e;return kn(Nb()),zr("div",{className:wn(kb.locals.ControlsBottomShadow,t&&kb.locals.ControlsBottomShadow_hidden)})};var Rb=e(4499),Vb=e.n(Rb);const Lb=()=>(kn(Vb()),zr("div",{className:wn(Rb.locals.TopControls,sE)},zr(xy,null)));var xb=e(8183),Bb=e.n(xb),Mb=e(3030),Ub=e.n(Mb);const Fb=un({isTouchScreenDevice:!1});Fb.Provider.displayName="IsTouchScreenDeviceContext";const Hb=e=>{let{adDisplayController:t}=e;return{isTouchScreenDevice:le(t.slotParameters.window)}},zb=()=>fn(Fb),jb=e=>{let{isHidden:t}=e;kn(Ub());const i=yE(),{isTouchScreenDevice:o}=zb();return zr("div",{className:wn(Mb.locals.PlayerLikeTimeline,t&&Mb.locals.PlayerLikeTimeline_hidden)},zr("div",{className:Mb.locals.PlayerLikeTimeline__innerContainer},zr("div",{className:wn(Mb.locals.PlayerLikeTimeline__backgroundTrack,o&&Mb.locals.PlayerLikeTimeline__backgroundTrack_mobile)},zr("div",{className:Mb.locals.PlayerLikeTimeline__background}),zr("div",{style:{transform:"scaleX("+i+") translateX(0%)"},className:Mb.locals.PlayerLikeTimeline__timeLine}))))};var Yb=e(8409),Wb=e.n(Yb);const Gb=e=>{let{icon:t,onClick:i,className:o,disabled:r=!1}=e;return kn(Wb()),zr("div",{className:wn(Yb.locals.ControlPanelButton,o,r&&Yb.locals.ControlPanelButton_disabled),onClick:r?void 0:i},t)},Xb=e=>{let{className:t}=e;const{playingState:i,play:o,pause:r}=Ly();return zr(Gb,{className:t,onClick:()=>{Lr({control:"pause"===i?"ControlPanelPlayButton":"ControlPanelPauseButton",purpose:"changePlayingState"}),"pause"===i?o():r()},icon:zr("pause"===i?Os:ws,null)})},Kb=un({volumeStatus:"unknown",volume:0,setVolume:W,setMuted:W});Kb.Provider.displayName="VolumeContext";const qb=e=>{let{adDisplayController:t}=e;return{volumeStatus:On(t.volumeStatus),volume:On(t.adVolume),setVolume:e=>t.setVolume(e),setMuted:e=>t.setMuted(e)}},Qb=()=>fn(Kb);var Jb=e(6535),Zb=e.n(Jb);const $b=e=>{let{variant:t="slider",disabled:i=!1}=e;kn(Zb());const{volumeStatus:o,setMuted:r,setVolume:n,volume:a}=Qb(),s="unmuted"===o,[l,d]=pn(!1),[c,u]=pn(!1),h="slider"===t&&!i,p=h&&(c||l),m=vn(null);return zr("div",{onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},className:wn(Jb.locals.ControlPanelSoundButton,p&&Jb.locals.ControlPanelSoundButton_opened)},zr(Gb,{onClick:()=>{Lr({control:s?"MuteButton":"UnmuteButton",purpose:"changeVolume"}),r(s)},disabled:i,icon:zr(eC,{volume:a})}),h?zr("div",{className:Jb.locals.ControlPanelSoundButton__SliderContainer,onMouseDown:e=>{if(!m.current)return;u(!0);const{left:t,width:i}=m.current.getBoundingClientRect(),o=m.current.ownerDocument,r=e=>{const o=Co((e.clientX-t)/i,0,1);n(o)},a=()=>{u(!1),null==o||o.removeEventListener("mousemove",r),null==o||o.removeEventListener("mouseup",a)};o.addEventListener("mousemove",r),o.addEventListener("mouseup",a),r(e)},ref:m,onClick:()=>{Lr({control:"VolumeSlider",purpose:"changeVolume"})}},zr("div",{className:Jb.locals.ControlPanelSoundButton__SliderContainerLiner}),zr("div",{className:Jb.locals.ControlPanelSoundButton__SliderContainerThumbContainer},zr("div",{className:Jb.locals.ControlPanelSoundButton__SliderContainerThumb,style:{left:Math.round(100*a)+"%"}}))):null)},eC=e=>{let{volume:t}=e;return zr(0===t?Ns:t<.24?Is:t<.5?ks:Ds,null)};var tC=e(9997),iC=e.n(tC);const oC=e=>{let{children:t,disabled:i,tag:o}=e;kn(iC());const r=h(o)?()=>{Bc.log({name:"NbkButtonClicked",sensors:{tag:o},probability:1})}:void 0;return zr("button",{className:wn(tC.locals.PlayerButtonMimic,i&&tC.locals.PlayerButtonMimic_disabled),onClick:r,type:"button"},t)};var rC=e(6515),nC=e.n(rC);const aC=e=>{let{isHidden:t}=e;kn(nC());const{width:i}=ug(),{isTouchScreenDevice:o}=zb(),r=Nf(),{volumeStatus:n}=Qb(),{playingState:a}=Ly(),s=Bs({controlsVisibility:r,volumeStatus:n,playingState:a});return zr("div",{className:wn(rC.locals.PlayerLikeControlLine,t&&rC.locals.PlayerLikeControlLine_hidden)},zr("div",{className:rC.locals.PlayerLikeControlLine__leftButtons},zr(Xb,null),zr($b,{variant:o?"toggle":"slider",disabled:!s})),zr("div",{className:rC.locals.PlayerLikeControlLine__rightButtons},i>330?zr(oC,{tag:"externalPlayback",disabled:!0},zr(Rs,null)):null,i>440?zr(oC,{tag:"report"},zr(Vs,null)):null,zr(oC,{tag:"settings",disabled:!0},zr(Ls,null)),zr(oC,{tag:"fullscreen"},zr(xs,null))))},sC=e=>{let{compactMode:t}=e;const{themeEmptyParameters:i}=Tf(),{clickThrough:o,clickUrl:r}=wf(),{greenUrl:n,label:a,targetUrl:s}=i||{},l=Vf(),d=gn((()=>{o({url:r,playerHandles:!0,clickSource:"SkinActionButton"})}),[o,r]);return i?r?t?zr(Of,{showLabelOnButton:!0,faviconSrc:l}):zr(ff,{title:void 0,greenUrl:n,buttonLabel:a,targetUrl:s,onClickThrough:d,faviconSrc:l}):(Bc.log({name:"ThemeEmpty_noClickUrl"}),null):null},lC=un(Vh);lC.Provider.displayName="ContentAfterAdPodContext";const dC=e=>{let{className:t}=e;return zr(Ms,{className:t})};var cC=e(3765),uC=e.n(cC);const hC=e=>{let{className:t}=e;kn(uC());const{skipCallback:i,timeToSkip:o}=Mf(),r=ug(),n=Qg(),a=Nf(),s=fn(lC),l=function(e){if(e<=0)return"";const t=Math.ceil(e)%100;return _(String(t),2,"0")}(o);if(!1===a.skip)return null;if(o===Lf)return null;const d=n("SKIP"),c=0===o,u=wn(t,cC.locals.SkipButton__clickable,c&&cC.locals.SkipButton_active),h=r.width>320;let p;return p="startVideo"===s.type||"continueVideo"===s.type?s.poster:[],zr("div",{className:u,onClick:()=>{Lr({control:"SkipButton",purpose:"skip"}),i()}},zr("div",{className:cC.locals.SkipButton},h&&zr(mC,{skipTitle:d,image:p}),zr("div",{className:cC.locals.SkipButton__contentRight},zr(pC,{countdownString:l}))))},pC=e=>{let{countdownString:t}=e;if(!t)return zr(dC,{className:cC.locals.SkipButton__icon});const[i,o]=t;return zr("div",{className:cC.locals.SkipButton__timeToSkipString},zr("span",{className:cC.locals.SkipButton__timeToSkipString__leftDigit},i),zr("span",{className:cC.locals.SkipButton__timeToSkipString__rightDigit},o))},mC=e=>{let{skipTitle:t,image:i}=e;return zr("div",{className:cC.locals.SkipButton__contentLeft},i.length>0?zr("img",{src:i[0].url,className:cC.locals.SkipButton__leftImage}):zr("div",{className:cC.locals.SkipButton__skipText},t))};var AC=e(8237),vC=e.n(AC);const _C=un({ecomShopState:{ecomShop:void 0,isVisible:!1},setShopVisibility:W}),gC=()=>fn(_C),fC=un("default");fC.Provider.displayName="SkinVariantContext";const yC=()=>fn(fC),SC=un({shouldShowSkipButton:!0});SC.Provider.displayName="SkipButtonContext";const TC=e=>{let{adDisplayController:t}=e;return On(t.shouldShowSkipButton)},EC=()=>fn(SC),bC=e=>{let{showSkipButton:t}=e;kn(vC());const{themeEmptyParameters:i}=Tf(),o=Nf(),r=ug(),n=ty(),{isPackshotPlaying:a}=AE(),s=!1!==o.actionButton&&void 0!==i&&!a;let l;l=t&&!1!==o.skip?r.width<750:"small"===n;const d=wn(AC.locals.CallToActionControls,l?AC.locals.CallToActionControls_twoLines:AC.locals.CallToActionControls_oneLine),c=r.width<$f||r.height<300,{fontSize:u,skipButtonFontSize:h}=Us(),p={"--ctalc-font-size":u,"--ctalc-skip-button-font-size":h},{shouldUseNewSkin:m}=oE();return zr("div",{className:d,style:m&&"TRUE"===qd.getFlagValueAndActivateTestId("VAS_LIFT_BUTTONS_UP_IN_NEW_SKIN")||"PLAYER_LIKE_SKIN"===qd.getFlagValueAndActivateTestId("VAS_NEW_SKIN_VARIANT")?Fs({},p,{position:"absolute",left:0,right:0,bottom:"small"===n?58:66}):p},s&&zr("div",{className:AC.locals.CallToActionControls_SkinActionPanel},zr(sC,{compactMode:c})),t&&zr(hC,{className:AC.locals.CallToActionControls__SkipButton}))},CC=e=>{let{hidden:t}=e;kn(Bb());const{shouldShowSkipButton:i}=EC();return zr("div",{className:wn(xb.locals.PlayerLikeBottomControls,sE)},zr(bC,{showSkipButton:i}),zr(jb,{isHidden:t}),zr(aC,{isHidden:t}))};var PC=e(7121),wC=e.n(PC),OC=e(6479),IC=e.n(OC);const kC=()=>{kn(IC());const e=ug(),{tooltipContent:t}=Py();if(void 0===t)return null;const{content:i,arrowPosition:o,targetElementCoordinates:r,onClickClose:n}=t,a=r.top+r.height,s={};"top"===o?s.top=a+15:s.bottom=r.winHeight-a-15;const l=r.left+r.width/2;if(e.width<192)s.left=6,s.right=6;else{const t=6,i=e.width-180-6,o=l-90+6;s.left=Co(o,t,i),s.width=180}const d={};if("top"===o){d.top=-8;const e=6,t=150,i=l-s.left-12;d.left=Co(i,e,t)}return zr("div",{className:OC.locals.Tooltip,style:s},zr("div",{className:OC.locals.Tooltip__body},zr("div",{className:OC.locals.Tooltip__text},i),n&&zr("div",{className:OC.locals.Tooltip__closeContainer,onClick:n},zr(zs,null))),zr("div",{className:OC.locals.Tooltip__arrow,style:d},zr(Hs,null)))},NC=()=>{kn(wC());const{setContainerElement:e}=Ey();return zr("div",{ref:t=>{t&&e(t)},className:wn(PC.locals.TooltipContainer,sE)},zr(kC,null))},DC=un({isHovered:!1,userHasInteracted:!1});DC.Provider.displayName="SlotHoverContext";const RC=e=>{const t=On(e),[i,o]=pn(t);return mn((()=>{t&&o(!0)}),[t]),{isHovered:t,userHasInteracted:i}},VC=()=>fn(DC),LC=()=>{const{shouldHideControls:e}=(()=>{const{isHovered:e}=VC(),{isTouchScreenDevice:i}=zb(),o=i,[r,n]=pn(o),a=vn(null),s=yE(),l=EE(),d=t(l)?s*l:0,c=!!i||3<d,{playingState:u}=Ly(),h="pause"===u;return mn((()=>{if(c){if(!h)return e?(null!==a.current&&clearTimeout(a.current),void n(!1)):(a.current=setTimeout((()=>{n(!0)}),500),()=>{null!==a.current&&clearTimeout(a.current)});n(!1)}}),[e,c,h]),{shouldHideControls:r}})();return zr(Yr,null,zr(Db,{hidden:e}),zr(PE,null),zr(Lb,null),zr(CC,{hidden:e}),zr(Ab,null),zr(NC,null))};var xC=e(8315),BC=e.n(xC);const MC=e=>{let{shouldPauseOnCreativeClick:t}=e;kn(BC());const{play:i}=Ly(),o=(()=>{const{playingState:e,isStarted:t,isSlowStart:i}=Ly(),{play:o,loader:r}=Nf(),{isAbuseSubmitted:n,abuseDisplayStatus:a}=uE(),{isPackshotPlaying:s}=AE(),l=RE(ug());if(n)return"none";const d="pause"===e,c=d&&!1!==o&&!("selection"===a&&l)&&!s;return c||d||t||!i||!1===r?c?"paused":"none":"loading"})();if("loading"===o)return zr("div",{className:xC.locals.OverlayLayer__spinnerContainer},zr(Sb,null));return t&&"paused"===o?zr("div",{className:xC.locals.OverlayLayer__playButtonContainer,onClick:()=>{Lr({control:"OverlaysLayerPlayButton",purpose:"changePlayingState"}),i()}},zr(Os,null)):null};var UC=e(1796),FC=e.n(UC);const HC=e=>{let{className:t,fill:i}=e;return kn(FC()),zr(js,{className:wn(UC.locals.MuteIcon,{[UC.locals.MuteIcon_Fill]:i},t)})};var zC=e(1197),jC=e.n(zC);const YC=e=>{let{className:t,fill:i}=e;return kn(jC()),zr(Ys,{className:wn(zC.locals.UnmuteIcon,{[zC.locals.UnmuteIcon_Fill]:i},t)})};var WC=e(8453),GC=e.n(WC);const XC=e=>{let{style:t}=e;const{playingState:i}=Ly(),o=Nf(),{width:r}=ug();kn(GC());const{volumeStatus:n,setMuted:a}=Qb(),s="videoInCombo"===yC(),l="unmuted"===n;if(!Bs({playingState:i,volumeStatus:n,controlsVisibility:o}))return null;const d=(e=>{const t=e<=$f?1:e/$f;return{width:28*t,height:28*t}})(r);return zr("div",{style:Ws({},t,s?{"--mute-unmute-responsive-width":d.width+"px","--mute-unmute-responsive-height":d.height+"px"}:{}),className:wn(WC.locals.MuteUnmuteButtonWithoutBackground,{[WC.locals.MuteUnmuteButtonWithoutBackground_Size_Responsive]:s}),onClick:l?()=>{Lr({control:"MuteButtonWithoutBackground",purpose:"changeVolume"}),a(!0)}:()=>{Lr({control:"UnmuteButtonWithoutBackground",purpose:"changeVolume"}),a(!1)}},zr(l?HC:YC,{fill:s}))};var KC=e(9931),qC=e.n(KC);const QC=()=>{kn(qC());const e=Nf(),t="small"===ty(),{creativeType:i}=py(),{ecomShopState:o}=gC(),{playingState:r}=Ly(),n="videoInCombo"===yC(),a=function(e){const{controlsVisibility:t,isMobile:i,creativeType:o,ecomShopState:r,playingState:n,isVideoInCombo:a}=e;return!!i&&!!Gs({controlsVisibility:t,playingState:n})&&"survey"!==o&&("themeEmpty"!==o||r.isVisible&&!a)}({controlsVisibility:e,isMobile:t,creativeType:i,ecomShopState:o,isVideoInCombo:n,playingState:r}),s="RIGHT"===qd.getFlagValueAndActivateTestId("VAS_NEW_SKIN_TOP_BUTTONS_POSITION"),{isPackshotPlaying:l}=AE();return zr(Yr,null,zr("div",{className:KC.locals.TopControlsLayer},(t||n)&&!l&&zr(XC,{style:{padding:4,marginLeft:s&&!n?"auto":""}}),a&&zr(Xb,{className:KC.locals.TopControlsLayer__playButton})))};var JC=e(1209),ZC=e.n(JC);const $C=e=>{let{onClick:t}=e;return kn(ZC()),t?zr("div",{className:JC.locals.UnderlyingLayer,onClick:t}):null};var eP=e(6719),tP=e.n(eP),iP=e(873),oP=e.n(iP),rP=e(4647),nP=e.n(rP);const aP=()=>{kn(nP());const{label:e,dspLabel:t,tooltipText:i,onClick:o,domain:r}=gy(),n=Nf(),{isInBanner:a}=cy(),s=a&&"TRUE"===qd.getFlagValueAndActivateTestId("VAS_SHOW_AD_LABEL_FOR_IN_BANNER");return!1!==n.adLabel||s?zr("div",{className:wn(rP.locals.BackpackAdLabel,sE),title:i,onClick:o},e,t&&" | "+t,r&&" | "+r):null},sP=un(void 0);sP.Provider.displayName="AdSequenceContext";var lP=e(2392),dP=e.n(lP);const cP=()=>{kn(dP());const e=fn(sP),t=Nf(),i=Qg(),o="videoInCombo"===yC();return e&&!1!==t.backpackAdSequence?o&&e.count<=1?null:zr("span",{className:lP.locals.BackpackAdSequence},e.index+1," ",i("OF")," ",e.count):null},uP=()=>{const{themeEmptyParameters:e}=Tf(),t=Nf(),{ageRestriction:i}=e||{};return!1!==t.ageLabel&&h(i)?zr("span",null,i):null},hP=()=>{var e,t;const i=null!=(e=null==(t=Iy())?void 0:t.businessUnit)&&e,o=Qg()("BU_LABEL_TOOLTIP_TEXT");return!1===Nf().businessUnitAdLabel?null:i?zr("span",null,o):null},pP=()=>(kn(oP()),zr("div",{className:iP.locals.Backpack},zr(aP,null),zr(cP,null),zr(uP,null),zr(hP,null)));var mP=e(2219),AP=e.n(mP),vP=e(8265),_P=e.n(vP);const gP=un({toggleFullscreen:W,isFullscreen:!1});gP.Provider.displayName="FullscreenContext";const fP=e=>{const t=nr(e.slotParameters.window,e.videoNode);return{toggleFullscreen:()=>{e.requestFullscreenStateChange(!t)},isFullscreen:t}};var yP=e(4311),SP=e.n(yP);const TP=e=>{let{className:t}=e;kn(SP());const{toggleFullscreen:i,isFullscreen:o}=fn(gP);return zr(Gb,{className:wn(yP.locals.ControlPanelFullscreenButton,t),onClick:()=>{Lr({control:o?"FullscreenExitButton":"FullscreenOpenButton",purpose:"changeFullscreenState"}),i()},icon:zr(o?Ks:Xs,null)})},EP=e=>{let{className:t}=e;kn(_P());const{playingState:i}=Ly(),{volumeStatus:o}=Qb(),{supportsFullscreen:r}=oE(),n=Nf(),{isTouchScreenDevice:a}=zb(),s=Bs({controlsVisibility:n,volumeStatus:o,playingState:i}),l=Gs({controlsVisibility:n,playingState:i});return s||r||l?zr("div",{className:wn(vP.locals.ControlPanelControls,t)},l&&zr(Xb,{className:vP.locals.ControlPanelControls__playButton}),s&&zr($b,{variant:a?"toggle":"slider"}),r&&zr(TP,{className:vP.locals.ControlPanelControls__fullscreenButton})):null};var bP=e(9740),CP=e.n(bP);const PP=e=>{let{className:t}=e;kn(CP());const i=yE();return!1!==Nf().timeline?zr("div",{className:wn(bP.locals.ControlPanelTimeLine_container,t)},zr("div",{className:wn(bP.locals.ControlPanelTimeLine)},zr("div",{className:wn(bP.locals.ControlPanelTimeLine__bar,{[bP.locals.ControlPanelTimeLine__bar_full]:i>=1}),style:{width:100*i+"%"}}))):null},wP=()=>{kn(AP());const{creativeType:e}=py(),i="survey"===e,o=ty(),r="small"===o,{height:n}=ug(),a=i?0:n*qy,s=(()=>{const{creativeType:e}=py(),i="survey"===e,o="videoInCombo"===yC(),r="TRUE"===qd.getFlagValueAndActivateTestId("VAS_NEW_SKIN_DELAY_INITIAL_PANEL_MINIMIZATION"),n=yE(),a=EE(),s=t(a)?n*a:0,{isHovered:l}=VC(),{playingState:d}=Ly(),c="small"===ty(),u="pause"===d,[h,p]=pn((()=>!r&&!c)),[m,A]=pn(!r),v=vn(null);return mn((()=>{m||s<3||A(!0)}),[m,s]),An((()=>i||o?p(!0):m?(null!==v.current&&clearTimeout(v.current),c||l||u?p(!1):(v.current=setTimeout((()=>{p(!0)}),500),()=>{L(clearTimeout)&&null!==v.current&&clearTimeout(v.current)})):void 0),[l,c,u,m,i,o]),h})(),l=r||i,{controlPanel:d,timeline:c,play:u}=Nf(),h="videoInCombo"===yC(),{supportsFullscreen:p}=oE(),m=function(){const{adLabel:e,ageLabel:t,businessUnitAdLabel:i,backpackAdSequence:o}=Nf(),{isInBanner:r}=cy();return"TRUE"!==qd.getFlagValueAndActivateTestId("VAS_NEW_SKIN_USE_OLD_AD_LABEL")&&(r&&"TRUE"===qd.getFlagValueAndActivateTestId("VAS_SHOW_AD_LABEL_FOR_IN_BANNER")||!1!==e||!1!==i||!1!==t||!1!==o)}();if(!1===d&&!1===m&&!1===c&&!1===u)return null;const A=!l&&!h&&!i,v=h||i||!(m||A);return zr("div",{style:{minHeight:a},className:wn(mP.locals.ControlPanel,{[mP.locals.ControlPanel_small]:l,[mP.locals.ControlPanel_withoutShadow]:v,[mP.locals.ControlPanel_minimized]:s})},zr("div",{className:mP.locals.ControlPanel__backpackLine},m&&zr(pP,null),"small"===o&&p&&zr(TP,{className:mP.locals.ControlPanel__fullscreenButton})),zr(PP,{className:mP.locals.ControlPanel__timeLine}),A&&zr(EP,{className:mP.locals.ControlPanel__controls}))},OP=()=>{kn(tP());const{pause:e}=Ly(),t="small"===ty(),{playingState:i}=Ly(),{creativeType:o}=py(),r="themeEmpty"===o,n="survey"===o,{isPackshotPlaying:a}=AE(),{isActionButtonVisible:s,isSkipButtonVisible:l,shouldUseTwoLinesLayout:d,fontSize:c,skipButtonFontSize:u,disclaimerInfo:h,isEcomShopVisible:p,shouldUseSmallCta:m,isVerticalFormat:A,ecomShop:v,skinSize:_}=Us(),g="videoInCombo"===yC(),{abuseDisplayStatus:f}=uE(),y=t&&!a&&r&&!g||"hidden"===f&&g&&("pause"===i||"idle"===i),S={"--new-skin-font-size":c,"--new-skin-skip-button-font-size":u},T=wn(eP.locals.NewSkin,sE,{[eP.locals.NewSkin_twoControlLines]:d,[eP.locals.NewSkin_vertical]:A,[eP.locals.NewSkin_smallControls]:m,[eP.locals.NewSkin_CtaAlwaysOnTenPercentOverBottom]:g}),E=wn(eP.locals.NewSkin__CtaContainer),b=wn(eP.locals.NewSkin__SkipButtonContainer),C=wn(eP.locals.NewSkin__ProductsPackshotContainer,{[eP.locals.NewSkin__ProductsPackshotContainer_visible]:p}),P="TRUE"===qd.getFlagValueAndActivateTestId("VAS_NEW_SKIN_USE_OLD_AD_LABEL"),{clickThrough:w}=wf(),O="small"===_||A?1:3;return zr("div",{className:T,style:S},zr("div",{className:eP.locals.NewSkin__DisclaimerContainer},h&&zr(Yy,{heightPortion:h.mandatoryHeightPortion,text:h.text})),!n&&zr($C,{onClick:y?e:void 0}),zr(PE,{onClickOutside:y?e:void 0}),zr(MC,{shouldPauseOnCreativeClick:y}),P&&zr("div",{className:eP.locals.NewSkin__AdLabelContainer},zr(xy,null)),zr("div",{className:eP.locals.NewSkin__TopControlsContainer},zr(QC,null)),l&&zr("div",{className:b},zr(hC,null)),p&&v&&zr("div",{className:C},zr(jS,{products:v.products,autoScrollDelay:FS,maxItemsPerView:O,onProductClick:e=>{w({url:e.clickThruUrl,playerHandles:!0,clickSource:"EcomProduct"})}})),s&&zr("div",{className:E},zr(sC,{compactMode:m})),zr("div",{className:eP.locals.NewSkin_BottomControlsContainer},zr(wP,null)),zr(Ab,null),zr(NC,null))};var IP=e(4483),kP=e.n(IP);const NP=un(void 0);NP.Provider.displayName="AdAnimationUnmuteButtonContext";const DP=e=>{let{adDisplayController:t}=e;return On(t.volumeButtonCollapseProgress)},RP=()=>fn(NP);var VP=e(5751),LP=e.n(VP);const xP=["isActive","className","size"],BP=e=>{let{isActive:t=!0,className:i,size:o}=e,r=function(e,t){if(null==e)return{};var i,o,r={},n=Object.keys(e);for(o=0;o<n.length;o++)i=n[o],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,xP);kn(LP());const n=wn(VP.locals.SquareButton,i,{[VP.locals.SquareButton_active]:t,[VP.locals.SquareButton_fullSize]:"small"!==o});return zr(UE,qs({},r,{isActive:t,className:n,buttonClassName:VP.locals.SquareButton__basebutton,contentClassName:VP.locals.SquareButton__basecontent}))};var MP=e(3683),UP=e.n(MP);const FP=()=>{const{playingState:e}=Ly(),t=RP(),i=Nf(),{isAbuseSubmitted:o}=uE();kn(UP());const r=Qg(),{volumeStatus:n,setMuted:a}=Qb(),s=(e=>e*(2-e))(RP()),l=1-s,d="unmuted"===n,c=gn((()=>{Lr({control:"OldMuteButton",purpose:"changeVolume"}),a(!0)}),[]),u=ty(),h="small"!==u,p=gn((()=>{Lr({control:"OldUnMuteButton",purpose:"changeVolume"}),a(!1)}),[]),m=!(Bs({playingState:e,volumeStatus:n,controlsVisibility:i})&&void 0!==t&&!o),A=r("UNMUTE");return zr(BP,{className:wn(MP.locals.VolumeButton,d?MP.locals.MuteButton:MP.locals.UnmuteButton,m&&MP.locals.MuteButton__hidden),onClick:d?c:p,size:u},zr("div",{className:MP.locals.VolumeButton__content},zr("div",{className:wn(MP.locals.VolumeButton__iconContainer,{[MP.locals.VolumeButton__iconContainer_fullSize]:h})},zr(d?HC:YC,{className:MP.locals.VolumeButton__icon})),1!==s&&zr("div",{className:wn(MP.locals.UnmuteButton__text,MP.locals.UnmuteButton__text_animation,{[MP.locals.UnmuteButton__text_fullSize]:h}),style:{maxWidth:140*l,transform:"scale("+l+")",opacity:l,marginRight:12*l}},A)))},HP=un({cues:[]});HP.Provider.displayName="SubtitlesContext";const zP=e=>{let{adDisplayController:t}=e;return{cues:On(t.adPodCurrentSubtitles)}};var jP=e(4061),YP=e.n(jP);const WP=e=>{let{style:t={}}=e;kn(YP());const{cues:i}=fn(HP);return i.length>0?zr("div",{className:jP.locals.Subtitles__container,style:t},Nc(i,(e=>{let{text:t}=e;return zr("div",{className:jP.locals.Subtitles__subtitle},t)}))):null},GP=e=>Math.floor(1e4*e)/1e4;var XP=e(1172),KP=e.n(XP);const qP="#F8CC46",QP=1,JP=e=>{let{currentNumber:t,count:i,color:o,adAnimationProgress:r,backgroundOpacity:n=QP}=e;kn(KP());const{width:a,transform:s}=function(e){let{currentNumber:t,count:i}=e;const o=4*(i-1)/i,r=4*t;return{width:"calc("+GP(100/i)+"% - "+GP(o)+"px)",transform:"translateX(calc("+GP(100*t)+"% + "+GP(r)+"px))"}}({currentNumber:t,count:i});return zr("div",{className:XP.locals.TimelineBar__container,style:{width:a,transform:s}},zr("div",{className:wn(XP.locals.TimelineBar,XP.locals.TimelineBar__background),style:{opacity:""+n}}),zr("div",{className:wn(XP.locals.TimelineBar,XP.locals.TimelineBar__progress),style:{transform:"scaleX("+r+")",backgroundColor:o}}))},ZP=un({adPodsCount:0,playingAdPodIndex:0});ZP.Provider.displayName="MediaFileContext";const $P=e=>{let{adPodsCount:t,playingAdPodIndex:i}=e;return{adPodsCount:On(t),playingAdPodIndex:On(i)}};var ew=e(7864),tw=e.n(ew);const iw=e=>{let{color:t}=e;kn(tw());const{adPodsCount:i,playingAdPodIndex:o}=fn(ZP),r=yE();return!1!==Nf().timeline?zr("div",{className:ew.locals.Timeline},Nc(function(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t}(i),(e=>zr(JP,e<o?{key:e,adAnimationProgress:1,currentNumber:e,count:i,backgroundOpacity:.3,color:t}:e===o?{key:e,adAnimationProgress:r,currentNumber:e,count:i,backgroundOpacity:.3,color:t}:{key:e,adAnimationProgress:0,currentNumber:e,count:i,backgroundOpacity:.3,color:t})))):null};var ow=e(1895),rw=e.n(ow);const nw=()=>{const{isAbuseSubmitted:e}=uE();kn(rw());const{isTouchScreenDevice:t}=zb(),i=Ay(),o=Boolean(i),r=!t||!o,{isHovered:n}=VC(),a=EE(),{playingState:s}=Ly(),l=yE(),d=Nf(),{volumeStatus:c}=Qb(),{height:u}=ug();if(e)return null;const h=n||a*l<2||"pause"===s,p=Bs({playingState:s,volumeStatus:c,controlsVisibility:d}),m=!1!==d.timeline;let A;return A=!(!p&&!m)&&(!!h||!r),zr("div",{className:ow.locals.VideoInComboControls,style:{height:u/8+"px"}},zr("div",{style:{position:"absolute",left:0,right:0,bottom:0,zIndex:-1}},zr("div",{className:A?ow.locals.ComboVideoControls__controlsBottomShadow_visible:ow.locals.ComboVideoControls__controlsBottomShadow_hidden},zr(Db,null)),zr(aw,null)),zr("div",null,r?zr(sw,{shouldShowHoverControls:h}):zr(lw,null)))},aw=()=>{const e=Nf(),t=Jg(),i=Jn(Iy(),t);if(!i||!1===e.disclaimers)return zr("div",{style:{height:"6px"}});const{text:o,mandatoryHeightPortion:r}=i;return zr("div",{className:ow.locals.DisclaimerContainer},zr(Yy,{heightPortion:r,text:o}))},sw=e=>{let{shouldShowHoverControls:t}=e;return zr("div",{className:wn(t?ow.locals.ComboVideoControlsMuteAndTimelineWithHoverEffects_visible:ow.locals.ComboVideoControlsMuteAndTimelineWithHoverEffects_hidden)},zr(XC,null),zr("div",{style:{position:"absolute",left:12,right:12,bottom:40}},zr(iw,{color:qP})))},lw=()=>zr(Yr,null,zr(XC,{style:{paddingBottom:10}}),zr(iw,{color:qP}));var dw=e(1374),cw=e.n(dw);const uw=e=>{let{onClick:t,shouldHideBackground:i}=e;kn(cw());const o=Qg();return zr("div",{className:wn(dw.locals.SurveyHeader,{[dw.locals.SurveyHeader_background_none]:i})},zr("div",{className:wn(dw.locals.SurveyHeader__adLabel),onClick:t},zr("div",{className:wn(dw.locals.SurveyHeader__adLabelIcon)}),zr("div",{className:wn(dw.locals.SurveyHeader__adLabelText)},o("SURVEY_PACKSHOT_COMPANY")+" \xb7 "+o("SURVEY_AD_LABEL"))))},hw=un(!1);hw.Provider.displayName="IsNewSurveyDesignSupportedContext";const pw=()=>{kn(kP());const{shouldUseNewSkin:e}=oE(),{isActionButtonVisible:t,isSkipButtonVisible:i,shouldUseTwoLinesLayout:o,skinSize:r,fontSize:n,skipButtonFontSize:a,disclaimerInfo:s,isEcomShopVisible:l,shouldUseSmallCta:d,isVerticalFormat:c,ecomShop:u,shouldHideSurveyHeaderBackground:h}=Us(),{clickThrough:p}=wf(),m="videoInCombo"===yC(),{creativeType:A}=py(),v=fn(hw),{onClick:_}=gy();if("survey"===A&&v)return zr(Yr,null,zr(uw,{onClick:_,shouldHideBackground:h}),zr(Ab,{hideBurgerButtonBackground:!0,abuseBurgerButtonPosition:{top:9,right:10}}));if(e)return"PLAYER_LIKE_SKIN"===qd.getFlagValueAndActivateTestId("VAS_NEW_SKIN_VARIANT")?zr(LC,null):zr(OP,null);const g="small"===r||c?1:3,f="small"===r,y={"--skin-font-size":n,"--skin-skip-button-font-size":a},S=wn(IP.locals.Skin,sE,{[IP.locals.Skin_twoControlLines]:o,[IP.locals.Skin_vertical]:c,[IP.locals.Skin_smallControls]:d}),T=wn(IP.locals.Skin__CtaContainer),E=wn(IP.locals.Skin__SkipButtonContainer),b=wn(IP.locals.Skin__SubtitlesContainer,{[IP.locals.Skin__SubtitlesContainer_bottom]:f}),C=wn(IP.locals.Skin__ProductsPackshotContainer,{[IP.locals.Skin__ProductsPackshotContainer_visible]:l});return zr("div",{className:S,style:y},zr(PE,null),zr("div",{className:IP.locals.Skin__AdLabelContainer},zr(xy,null)),i&&zr("div",{className:E},zr(hC,null)),l&&u&&zr("div",{className:C},zr(jS,{products:null==u?void 0:u.products,autoScrollDelay:FS,maxItemsPerView:g,onProductClick:e=>{p({url:e.clickThruUrl,playerHandles:!0,clickSource:"EcomProduct"})}})),t&&zr("div",{className:T},zr(sC,{compactMode:d})),m&&zr("div",{className:IP.locals.Skin__VideoInComboControlsContainer},zr(nw,null)),!m&&zr(Yr,null,zr("div",{className:IP.locals.Skin__MuteButtonAndSubtitlesContainer},zr("div",{className:b},zr(WP,null)),zr(FP,null)),zr("div",{className:IP.locals.Skin__DisclaimerContainer},s&&zr(Yy,{heightPortion:s.mandatoryHeightPortion,text:s.text})),zr(iw,{color:qP})),!l&&zr(Ib,null),zr(Ab,null),zr(NC,null))},mw=un(void 0);mw.Provider.displayName="VideoContentSizeContext";const Aw=[e=>{return zr(ey.Provider,{value:(t=e.adDisplayController,Xn(On(t.slotParameters.size))),children:e.children});var t},e=>{return zr(iE.Provider,{value:(t=e.adDisplayController,{supportsFullscreen:"TRUE"===qd.getFlagValueAndActivateTestId("ENABLE_FULLSCREEN_BUTTON_IN_NEW_SKIN")&&t.supportsFullscreen,shouldUseNewSkin:t.isNewSkinEnabled().isEnabled}),children:e.children});var t},e=>zr(hg.Provider,{value:e.slotElement,children:e.children}),e=>zr(Ry.Provider,{value:Vy(e),children:e.children}),e=>zr(gP.Provider,{value:fP(e.adDisplayController),children:e.children}),e=>zr(ZP.Provider,{value:$P(e.adDisplayController),children:e.children}),e=>zr(gE.Provider,{value:fE(e.adDisplayController),children:e.children}),e=>zr(SE.Provider,{value:TE(e),children:e.children}),e=>zr(dg.Provider,{value:cg(e.adDisplayController.slotParameters.size),children:e.children}),e=>zr(Pg.Provider,{value:e.adDisplayController.stats.log,children:e.children}),e=>{return zr(mw.Provider,{value:(t=e.adDisplayController.videoContentSize,On(t))},e.children);var t},e=>zr(xf.Provider,{value:Bf({timeToSkipSignal:e.adDisplayController.timeToSkip,skipCallback:e.adDisplayController.onSkinSkipButtonClick}),children:e.children}),e=>zr(SC.Provider,{value:TC(e),children:e.children}),e=>zr(fC.Provider,{value:e.adDisplayController.skinVariant,children:e.children}),e=>zr(Sy.Provider,{value:Ty(e.adDisplayController.tooltipParameters.container),children:e.children}),e=>zr(by.Provider,{value:Cy(e.adDisplayController.tooltipParameters.content),children:e.children}),e=>{return zr(my.Provider,{value:(t=e.adDisplayController,On(t.videoSlotClickUrl)),children:e.children});var t},e=>zr(Fb.Provider,{value:Hb(e),children:e.children}),e=>zr(DC.Provider,{value:RC(e.adDisplayController.slotParameters.isHovered),children:e.children}),e=>zr(Kg.Provider,{value:qg(e.adDisplayController.playbackParameters),children:e.children}),e=>zr(If.Provider,{value:kf(e.adDisplayController.combinedSkinControlsVisibility),children:e.children}),e=>zr(Kb.Provider,{value:qb(e),children:e.children}),e=>zr(NP.Provider,{value:DP(e),children:e.children}),e=>zr(dE.Provider,{value:cE(e),children:e.children}),e=>zr(ob.Provider,{value:rb(e),children:e.children}),e=>zr(ly.Provider,{value:dy(e),children:e.children}),e=>zr(wE.Provider,{value:OE(e),children:e.children}),e=>zr(vy.Provider,{value:_y(e),children:e.children}),e=>{return zr(lC.Provider,{value:(t=e.adDisplayController,On(t.contentAfterAdPod)),children:e.children});var t},e=>zr(Df.Provider,{value:Rf(e.adDisplayController.favicon),children:e.children}),e=>zr(iy.Provider,{value:oy(e),children:e.children}),e=>zr(yf.Provider,{value:Sf(e.adDisplayController),children:e.children}),e=>zr(wy.Provider,{value:Oy(e.adDisplayController),children:e.children}),e=>zr(pE.Provider,{value:mE(e.adDisplayController),children:e.children}),e=>zr(HP.Provider,{value:zP(e)},e.children),e=>{return zr(hE.Provider,{value:(t=e.adDisplayController.showTitleAndBody,void 0===(i=On(t))?"FALSE"!==qd.getFlagValueAndActivateTestId("VAS_SHOW_TITLE_AND_BODY_AD_PARAMETER_DEFAULT"):i)},e.children);var t,i},e=>zr(uy.Provider,{value:hy(e),children:e.children}),e=>{return zr(sP.Provider,{value:(t=e.adDisplayController,On(t.displayAdSequence)),children:e.children});var t},e=>zr(Cf.Provider,{value:Pf(e.adDisplayController),children:e.children}),e=>{return zr(_C.Provider,{value:(t=e.adDisplayController,{ecomShopState:On(t.ecomShopState),setShopVisibility:e=>{t.setEcomShopState({isVisible:e},!0)}}),children:e.children});var t},e=>{return zr(hw.Provider,{value:(t=e.adDisplayController.isNewSurveyDesignSupported,On(t)),children:e.children});var t}],vw=(_w=()=>zr(pw,null),(e,t)=>{const i=new Gd,o=new Gd,r=new Gd,n=new Promise(((e,t)=>{i.addOne((()=>{i.removeAll(),o.removeAll(),e()})),o.addOne((e=>{i.removeAll(),o.removeAll(),t(e)}))})),a=new Promise(((e,t)=>{r.addOne((e=>{t(e)}))})),s=zr(sg,{onFirstRender:e=>{"success"===e.status?i.dispatch(void 0):o.dispatch(e.error)},onRuntimeError:e=>{r.dispatch(e)}},zr(lg,{components:Aw,componentsProps:{id:"skin",adDisplayController:t,slotElement:e}},_w()));return kc("Skin: render skin"),cn(s,e),{firstRenderPromise:n,runtimeErrorPromise:a,clear:()=>{i.removeAll(),o.removeAll(),kc("Skin: destroy skin"),cn(null,e)}}});var _w;class gw extends xc{constructor(e){var t;super(),t=this,this.showAdPlaybackControllers=[],this.subscriptions=[],this.oldDestroyHandlers=[],this.isUsingOldDestroy="TRUE"!==qd.getFlagValueAndActivateTestId("VAS_USE_DESTROYABLE_AD_STORE"),this.getPublicInstance=()=>({createPlaybackController:this.createPlaybackController,destroy:()=>{this.destroy()},filterAdPodsIndependentOnHtmlControls:this.filterAdPodsIndependentOnHtmlControls,getAdBreakType:this.getAdBreakType,getAdDuration:this.getAdDuration,getAdPodsCount:this.getAdPodsCount,getAdSourceTypes:this.getAdSourceTypes,getNonYandexVastXmlTree:this.getNonYandexVastXmlTree,getYandexBidReqIdArray:this.getYandexBidReqIdArray,hasYandexCreative:this.hasYandexCreative,preload:this.preload,preventPlaying:this.preventPlaying,separateAdPods:this.separateAdPods,setStatsRootFields:this.setStatsRootFields,showAd:this.showAd,subscribe:this.subscribe}),this.createPlaybackController=this.ignoreAfterDestroy((function(e,i,o){void 0===o&&(o={});const{config:r,errors:n}=Ma(o);_e(n),o.renderSkin;const a=new tE({videoSlot:e,layoutSlot:i,mediaAds:t.params.mediaAds,playbackParameters:r,skinParameters:{renderSkinFunction:vw,skinVariant:"default"},stats:t.params.stats}).getPublicInstance();a.subscribe("AdStartRequest",(()=>{t.cancelPreloading("PublicControllerPlayAd")}));const s=Wd(t.subscriptions,(e=>{let{event:t}=e;return"CreateAdPlaybackController"===t}));return Ol(s,(e=>{let{handler:t}=e;return t({playbackController:a})})),a}),"AdStore.createPlaybackController",Lc.CALL_NORMALLY),this.showAd=this.ignoreAfterDestroy((function(e,i,o){void 0===o&&(o={}),t.cancelPreloading("AdStoreShowAd");const r=t.createPlaybackController(e,i,o);t.showAdPlaybackControllers.push(r);const n=new Promise((e=>{r.subscribe("AdStopped",(()=>{t.showAdPlaybackControllers=Wd(t.showAdPlaybackControllers,(e=>e!==r)),e()}))}));return r.playAd(),n}),"AdStore.showAd",Lc.CALL_NORMALLY),this.getAdDuration=this.ignoreAfterDestroy((()=>ds(this.params.mediaAds)),"AdStore.getAdDuration",Lc.CALL_NORMALLY),this.separateAdPods=this.ignoreAfterDestroy((()=>Nc(this.params.mediaAds,(e=>{const t=new gw({mediaAds:[e],vast:ib(this.params),stats:this.params.stats});return Ol(this.subscriptions,(e=>{let{event:i,handler:o}=e;t.subscribe(i,o)})),this.addDestroyHandler((()=>{t.destroy()})),t.getPublicInstance()}))),"AdStore.separateAdPods",Lc.CALL_NORMALLY),this.getAdSourceTypes=this.ignoreAfterDestroy((()=>Wd(Nc(this.params.mediaAds,(e=>{let{contentType:t}=e;return t})),((e,t,i)=>i.indexOf(e)===t))),"AdStore.getAdSourceType",Lc.CALL_NORMALLY),this.getAdBreakType=this.ignoreAfterDestroy((()=>{return"midroll"===(e=this.params.mediaAds[0].adBreak).adType?null!=(t=e.originalAdType)?t:"midroll":e.adType;var e,t}),"AdStore.getAdBreakType",Lc.CALL_NORMALLY),this.setStatsRootFields=this.ignoreAfterDestroy((e=>{this.params.stats.setRootFields(e),Bc.setRootFields(e)}),"AdStore.setStatsRootFields",Lc.CALL_NORMALLY),this.hasYandexCreative=this.ignoreAfterDestroy((()=>Hc(this.params.mediaAds,(e=>e.getIsYandexCreative()))),"AdStore.hasYandexCreative",Lc.CALL_NORMALLY),this.getNonYandexVastXmlTree=this.ignoreAfterDestroy((()=>this.hasYandexCreative()?void 0:Qs(ib(this.params))),"AdStore.getNonYandexVastXmlTree",Lc.CALL_NORMALLY),this.preload=this.ignoreAfterDestroy((e=>{if(ue(window))return Promise.resolve();if(void 0===this.preloadPromise){const t=Nc(this.params.mediaAds,(t=>t.preload(e)));this.preloadPromise=Promise.all(t).then(W)}return this.preloadPromise}),"AdStore.preload",Lc.CALL_NORMALLY),this.filterAdPodsIndependentOnHtmlControls=this.ignoreAfterDestroy((e=>{const[t,i]=Yi(this.params.mediaAds,(e=>e.getIfIsRequiredHtmlControls()));this.params.mediaAds=Bo(i),Ol(t,(t=>{t.trackError(new Sc({code:"CANNOT_SHOW_CPC_CONTROLS",details:{mediaFile:t.getJSMediaFile(),reason:e}}))}))}),"AdStore.filterAdPodsIndependentOnHtmlControls",Lc.CALL_NORMALLY),this.getYandexBidReqIdArray=this.ignoreAfterDestroy((()=>Nc(this.params.mediaAds,(e=>{let{vastAd:t}=e;return t.bidreqid}))),"AdStore.getYandexBidReqIdArray",Lc.CALL_NORMALLY),this.preventPlaying=this.ignoreAfterDestroy(((e,t)=>{Ol(this.params.mediaAds,(i=>{i.trackError(new Sc({code:"AD_STORE_PLAYING_PREVENTED",details:{mediaFiles:i.vastAd.mediaFiles,reason:e,details:t}}))})),this.params.mediaAds=[]}),"AdStore.preventPlaying",Lc.CALL_NORMALLY),this.getAdPodsCount=this.ignoreAfterDestroy((()=>this.params.mediaAds.length),"AdStore.getAdPodsCount",Lc.CALL_NORMALLY),this.subscribe=this.ignoreAfterDestroy(((e,t)=>(this.subscriptions.push({event:e,handler:t}),()=>{this.subscriptions=Wd(this.subscriptions,(i=>!(i.event===e&&i.handler===t)))})),"AdStore.subscribe",Lc.CALL_NORMALLY),this.addOldDestroyHandler=e=>{this.oldDestroyHandlers.push(e)},this.cancelPreloading=this.ignoreAfterDestroy((e=>{Ol(this.params.mediaAds,(t=>{t.cancelPreloading(e)}))}),"AdStore.cancelPreloading",Lc.CALL_NORMALLY),this.destroyPreloading=this.ignoreAfterDestroy((()=>{Ol(this.params.mediaAds,(e=>{e.cancelPreloading("Destroy")}))}),"AdStore.destroyPreloading",Lc.CALL_NORMALLY),this.params=e,(this.isUsingOldDestroy?this.addOldDestroyHandler:super.addDestroyHandler)((()=>{Ol(this.showAdPlaybackControllers,(e=>{e.stopAd()})),this.showAdPlaybackControllers.length=0,this.destroyPreloading(),this.preloadPromise=void 0,this.subscriptions.length=0}))}destroy(){this.isUsingOldDestroy?Y(this.oldDestroyHandlers):super.destroy()}}class fw extends xc{constructor(e){let{adConfig:t,vmap:o,adBreak:r,adPlacementOptions:n,stats:a,adLoaderConfigType:s}=e;if(super(),this.getPublicInstance=()=>({loadAd:this.loadAd,destroy:()=>this.destroy()}),this.load=async e=>{const{mediaAds:t}=await this.startLoadAd({adBreak:e});return t},this.loadAd=async()=>{try{const e=this.adBreak?this.adBreak:this.getDefaultAdBreakToPlayAd();if(!e)throw new Sc({code:"AD_BREAK_IS_NOT_FOUND",details:{adConfig:this.adConfig,adBreaks:this.getAdBreaks()}});const{mediaAds:t,vast:i}=await this.startLoadAd({adBreak:e}),o=new gw({mediaAds:t,vast:i,stats:this.stats});return"TRUE"!==qd.getFlagValueAndActivateTestId("VAS_USE_DESTROYABLE_AD_STORE")||this.addDestroyHandler((()=>{o.destroy()})),o.getPublicInstance()}catch(Ww){throw ji(Ww),this.stats.errorToStats(Ww),Ww}},this.getInPageBlock=()=>Ko(this.getAdBreaks(),"inpage")[0],this.getPrerollBlock=()=>Ko(this.getAdBreaks(),"preroll")[0],this.getDefaultAdBreakToPlayAd=()=>{const{impId:e,adBreakType:t}=this.adConfig;return Xo(t)&&this.stats.log({name:"UseAdBreakTypeFromConfigToFindAdBreak",probability:pc}),function(e,t){let{impId:o,adBreakType:r}=t;return i(o)?Cd(e,(e=>e.impId===o)):Xo(r)?Cd(e,(e=>e.adType===r)):void 0}(this.getAdBreaks(),{impId:e,adBreakType:null!=t?t:"preroll"})},this.adConfig=t,this.adBreak=r,this.vmap=o,this.adPlacementOptions=n,this.stats=a,kc("AdLoader: create"),a.log({name:"CreateAdLoader",data:{adConfig:t,adBreak:r},dailySensors:{adLoaderConfigType:s}}),jc({secureMode:t.secureMode,url:void 0})){const e=Yu();e.addUser(),this.addDestroyHandler((()=>{e.removeUser()})),"idle"===e.state.getValue().name&&e.init({container:document.body,initTimeout:5e3})}}getAdBreaks(){return this.adBreak?[this.adBreak]:this.vmap.adBreaks}async startLoadAd(e){let{adBreak:t}=e;const{adConfig:i,adPlacementOptions:o}=this;return Ho({adConfig:i,adBreak:t,adPlacementOptions:o,win:window})}}class yw{constructor(){this.adBreaks=[],this.isSingleVideoSession=!1,this.isUniformat=!1}}const Sw={start:"preroll",end:"postroll"},Tw=c({inpage:0,preroll:0,midroll:0,pauseroll:0,postroll:0,postPauseroll:0,inroll:0}),Ew={dark:"dark",light:"light"},bw={top:"top",bottom:"bottom",auto:"auto","bottom-right":"bottom-right","bottom-left":"bottom-left","top-left":"top-left","top-right":"top-right"},Cw=e=>{const t=el("Collapse",e);return!0===el("Repeat",e)?"auto":!1===t?"manual":null},Pw=e=>{const t=ze(e),{vmap:i,events:o,valuesEvents:r,errors:n}=nl({vmapXmlObject:{responseText:e,xml:t},vmapLoadParams:void 0,vmapAdBreaksConfig:void 0});return _e(n),Ol(o,(e=>{Bc.log(al({},e,{probability:1}))})),Ol(r,(e=>{Bc.log(e)})),i},ww=e=>{if(!o(e))return;const{preferableAdSize:t}=e;if(!o(t))return;const{width:r,height:n}=t;return i(r)&&i(n)?{width:r,height:n}:void 0},Ow=c(_d),Iw="Unsafe",kw=e=>{if(!o(e))return Iw;const{secureMode:t}=e;return t&&-1!==Ow.indexOf(t)?t:Iw},Nw=["vastBase64"],Dw=()=>{if(!jd.isDebugEnabled)return;const e=$A();if(null==e||!e.getVmap)return;const t=e.getVmap();return Bc.log({name:"LoadInlineTestUtilsVmap",data:{vmap:t},probability:1}),t},Rw=e=>{const t=e.match(/<!-- Page (\d+) disabled -->/i);if(!Array.isArray(t))return;const[,i]=t;return void 0!==i?parseInt(i,10):void 0},Vw=()=>Bl()/1e3,Lw="adsdksessionwatchedtimesinceadmap";class xw{constructor(){void 0!==localStorage&&(this.storage=localStorage)}update(e){let{category:t}=e;!function(e){let{category:t,storage:i,now:o=Vw}=e;if(!i)return;const r=hl(i);r[t]=o();try{((e,t,i)=>{try{e.localStorage.setItem(t,i)}catch(o){return}})({localStorage:i},Lw,JSON.stringify(r))}catch(n){}}({category:t,storage:this.storage})}getWatchedTimeSinceAd(e){let{category:t}=e;return function(e){let{category:t,storage:o,now:r=Vw}=e;if(!o)return 0;const n=hl(o)[t];if(!i(n))return 0;const a=r();if(!i(a))return 0;const s=a-n;return i(s)?s:0}({category:t,storage:this.storage})}}const Bw=jd.loaderLoadedFromAnYandexRu?"https://"+Md+"/vmap/":"https://"+Ud+"/ads/vmap/",Mw=e=>!1===e?"0":!0===e?"1":void 0,Uw=e=>{const t=new Rc(Qd),i=Promise.resolve().then((()=>function(e){let{rawAdConfig:t,adPlacementOptions:i,stats:o}=e;const{adConfig:r,adBreak:n}=function(e){let{adLoaderConfig:t,logStatsEvent:i}=e;const{vastBase64:o}=t,r=ul(function(e,t){if(null==e)return{};var i,o,r={},n=Object.keys(e);for(o=0;o<n.length;o++)i=n[o],t.indexOf(i)>=0||(r[i]=e[i]);return r}(t,Nw),!1),{adBreakType:n}=r;let a;return o&&(r.vast=ge(o),i({name:"UsingVastBase64InAdLoaderConfig",probability:pc})),Xo(n)&&(a=sv[n]),{adConfig:r,adBreak:a}}({adLoaderConfig:t,logStatsEvent:o.log}),a=jd.isDebugEnabled?Dw():void 0,s=h(r.vmap)?r.vmap:void 0,l=null!=a?a:s;if(h(l)){const e=Pw(l);if(0===e.adBreaks.length)throw new Sc({code:"AD_LOADER_AD_CONFIG_VMAP_NO_AD_BREAKS",details:t});return new fw({adConfig:r,vmap:e,adPlacementOptions:i,stats:o,adLoaderConfigType:"vmapString"})}if(r.adFoxParameters){const e=n||av,t=new yw;return t.adBreaks=[e],new fw({adConfig:r,vmap:t,adBreak:e,adPlacementOptions:i,stats:o,adLoaderConfigType:"adFoxParameters"})}if(r.partnerId){const e=vl(r,i).then((e=>{if(0===e.adBreaks.length)throw new Sc({code:"AD_LOADER_AD_CONFIG_VMAP_NO_AD_BREAKS",details:r});const t=new fw({adConfig:r,vmap:e,adPlacementOptions:i,stats:o,adLoaderConfigType:"vmapLoaded"});return t.addDestroyHandler(Ga((()=>{t.destroy()}),Dd)),t}));return e.catch((e=>{o.errorToStats(e)})),e}if(n){const e=new yw;return e.adBreaks=[n],new fw({adConfig:r,vmap:e,adBreak:e.adBreaks[0],adPlacementOptions:i,stats:o,adLoaderConfigType:"syntheticAdBreak"})}throw new Sc({code:"NOT_ENOUGH_PARAMETERS_TO_CREATE_AD_LOADER",details:r})}({rawAdConfig:e,adPlacementOptions:Sl,stats:t})));return i.then((e=>e.getPublicInstance())).catch((e=>{throw _e([e]),e}))},Fw=(jd.hardcodedParams.adsdkgrforced?100:1)/100,Hw="https://"+Fd+"/pcode-static/resources/74/gr/gr.js",zw=(e=>"requestIdleCallback"in e?{requestIdleCallback:e.requestIdleCallback.bind(e),cancelIdleCallback:e.cancelIdleCallback.bind(e)}:(e=>({requestIdleCallback:function(t,i){var o;void 0===i&&(i={});const r=null!=(o=i.timeout)?o:1,n=e.performance,a=n.now();return e.setTimeout((function(){t({get didTimeout(){return!Boolean(i.timeout)&&n.now()-a-1>r},timeRemaining:function(){return Math.max(0,n.now()-a+1)}})}),1)},cancelIdleCallback:function(t){e.clearTimeout(t)}}))(e))(window),{requestIdleCallback:jw,cancelIdleCallback:Yw}=zw;!function(e,t){const i=window;Pm(i)?Bc.log({name:"InitModuleBrokeInIE",probability:1}):(Bc.log({name:"ModuleInited",dailySensors:{moduleName:e,es2017:!0}}),Ya(i,{videoAd:{loadedModules:{[e]:t}}},"ya"),!0===(!jd.grWasSent&&!(jd.VAS_USER_SESSION_RANDOM>=hc)&&!(jd.VAS_USER_SESSION_RANDOM>=Fw)&&"TRUE"!==qd.getFlagValueAndActivateTestId("VAS_DO_NOT_LOAD_GR")&&(jd.grWasSent=!0,!0))&&jw((()=>{(e=>{const t=Km.createHidden({parentElement:e,scope:"GREEDJS_IFRAME"});if(!Boolean(t))return void Bc.log({name:"GrCannotCreateIframe",probability:1});const i=()=>{t.destroy(void 0)};(async e=>{var t;const i=Date.now(),o=Ic(e),r=Hw,n=o?o(r):r;try{await oo({src:n,win:e}).promise}catch(Ww){return void Bc.log({name:"GrCannotLoadScript",data:{error:Ww},probability:1})}const a=Date.now(),s=a-i,l=e,d=null!=(t=l.PGreed)?t:l.Greed;if(d)try{const e=await d.safeGet(2e3),t=Date.now()-a;Bc.log({name:"GrData",data:{data:e,spentOnGet:t,spentOnScriptLoad:s},probability:1})}catch(Ww){Bc.log({name:"GrGetError",data:{error:Ww},probability:1})}else Bc.log({name:"GrNoVariable",probability:1})})(t.iframe.contentWindow).then(i).catch(i)})(window.document.body)})))}("AdLoader",{AdLoader:{create:Uw},play:async e=>{let{videoSlot:t,slot:i,config:o}=e;kc("videoAd.play: create adLoader");const r=await Uw(o);try{kc("videoAd.play: load ad");const e=await r.loadAd();kc("videoAd.play: show ad"),await e.showAd(t,i,o),e.destroy()}finally{kc("videoAd.play: destroy loader"),r.destroy()}return kc("videoAd.play: done"),{}},activateTestIds:qd.activateExternalTestIds,subscribeOnTestIdActivated:e=>L(e)?qd.onTestIdActivated.add(e):W})}()}();